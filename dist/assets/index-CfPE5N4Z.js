var Cm=e=>{throw TypeError(e)};var Pu=(e,t,r)=>t.has(e)||Cm("Cannot "+r);var C=(e,t,r)=>(Pu(e,t,"read from private field"),r?r.call(e):t.get(e)),J=(e,t,r)=>t.has(e)?Cm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),V=(e,t,r,n)=>(Pu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),le=(e,t,r)=>(Pu(e,t,"access private method"),r);var Za=(e,t,r,n)=>({set _(s){V(e,t,s,r)},get _(){return C(e,t,n)}});function VE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ey={exports:{}},$c={},ky={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),HE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),GE=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),QE=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),XE=Symbol.for("react.suspense"),ZE=Symbol.for("react.memo"),ek=Symbol.for("react.lazy"),Tm=Symbol.iterator;function tk(e){return e===null||typeof e!="object"?null:(e=Tm&&e[Tm]||e["@@iterator"],typeof e=="function"?e:null)}var Cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ty=Object.assign,Ny={};function ii(e,t,r){this.props=e,this.context=t,this.refs=Ny,this.updater=r||Cy}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ry(){}Ry.prototype=ii.prototype;function Oh(e,t,r){this.props=e,this.context=t,this.refs=Ny,this.updater=r||Cy}var Ah=Oh.prototype=new Ry;Ah.constructor=Oh;Ty(Ah,ii.prototype);Ah.isPureReactComponent=!0;var Nm=Array.isArray,Py=Object.prototype.hasOwnProperty,Ih={current:null},jy={key:!0,ref:!0,__self:!0,__source:!0};function Oy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Py.call(t,n)&&!jy.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:$a,type:e,key:o,ref:i,props:s,_owner:Ih.current}}function rk(e,t){return{$$typeof:$a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dh(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function nk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rm=/\/+/g;function ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nk(""+e.key):t.toString(36)}function Ol(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $a:case HE:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+ju(i,0):n,Nm(s)?(r="",e!=null&&(r=e.replace(Rm,"$&/")+"/"),Ol(s,t,r,"",function(c){return c})):s!=null&&(Dh(s)&&(s=rk(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Rm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Nm(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+ju(o,a);i+=Ol(o,t,r,l,s)}else if(l=tk(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+ju(o,a++),i+=Ol(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function el(e,t,r){if(e==null)return e;var n=[],s=0;return Ol(e,n,"","",function(o){return t.call(r,o,s++)}),n}function sk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Al={transition:null},ok={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Ih};function Ay(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:el,forEach:function(e,t,r){el(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!Dh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=ii;ue.Fragment=qE;ue.Profiler=GE;ue.PureComponent=Oh;ue.StrictMode=KE;ue.Suspense=XE;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;ue.act=Ay;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ty({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Ih.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Py.call(t,l)&&!jy.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:$a,type:e.type,key:s,ref:o,props:n,_owner:i}};ue.createContext=function(e){return e={$$typeof:QE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YE,_context:e},e.Consumer=e};ue.createElement=Oy;ue.createFactory=function(e){var t=Oy.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:JE,render:e}};ue.isValidElement=Dh;ue.lazy=function(e){return{$$typeof:ek,_payload:{_status:-1,_result:e},_init:sk}};ue.memo=function(e,t){return{$$typeof:ZE,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};ue.unstable_act=Ay;ue.useCallback=function(e,t){return ht.current.useCallback(e,t)};ue.useContext=function(e){return ht.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ue.useEffect=function(e,t){return ht.current.useEffect(e,t)};ue.useId=function(){return ht.current.useId()};ue.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return ht.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ue.useRef=function(e){return ht.current.useRef(e)};ue.useState=function(e){return ht.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return ht.current.useTransition()};ue.version="18.3.1";ky.exports=ue;var h=ky.exports;const $=Sy(h),Mh=VE({__proto__:null,default:$},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=h,ak=Symbol.for("react.element"),lk=Symbol.for("react.fragment"),ck=Object.prototype.hasOwnProperty,uk=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dk={key:!0,ref:!0,__self:!0,__source:!0};function Iy(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ck.call(t,n)&&!dk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ak,type:e,key:o,ref:i,props:s,_owner:uk.current}}$c.Fragment=lk;$c.jsx=Iy;$c.jsxs=Iy;Ey.exports=$c;var u=Ey.exports,Dy={exports:{}},Dt={},My={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,O){var z=N.length;N.push(O);e:for(;0<z;){var ee=z-1>>>1,R=N[ee];if(0<s(R,O))N[ee]=O,N[z]=R,z=ee;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var O=N[0],z=N.pop();if(z!==O){N[0]=z;e:for(var ee=0,R=N.length,F=R>>>1;ee<F;){var U=2*(ee+1)-1,B=N[U],te=U+1,M=N[te];if(0>s(B,z))te<R&&0>s(M,B)?(N[ee]=M,N[te]=z,ee=te):(N[ee]=B,N[U]=z,ee=U);else if(te<R&&0>s(M,z))N[ee]=M,N[te]=z,ee=te;else break e}}return O}function s(N,O){var z=N.sortIndex-O.sortIndex;return z!==0?z:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,m=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=N)n(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=r(c)}}function _(N){if(g=!1,y(N),!x)if(r(l)!==null)x=!0,W(E);else{var O=r(c);O!==null&&q(_,O.startTime-N)}}function E(N,O){x=!1,g&&(g=!1,w(T),T=-1),p=!0;var z=m;try{for(y(O),f=r(l);f!==null&&(!(f.expirationTime>O)||N&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var R=ee(f.expirationTime<=O);O=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),y(O)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var U=r(c);U!==null&&q(_,U.startTime-O),F=!1}return F}finally{f=null,m=z,p=!1}}var S=!1,k=null,T=-1,A=5,P=-1;function I(){return!(e.unstable_now()-P<A)}function j(){if(k!==null){var N=e.unstable_now();P=N;var O=!0;try{O=k(!0,N)}finally{O?H():(S=!1,k=null)}}else S=!1}var H;if(typeof v=="function")H=function(){v(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=j,H=function(){G.postMessage(null)}}else H=function(){b(j,0)};function W(N){k=N,S||(S=!0,H())}function q(N,O){T=b(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,W(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var z=m;m=O;try{return N()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=m;m=N;try{return O()}finally{m=z}},e.unstable_scheduleCallback=function(N,O,z){var ee=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,N){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,N={id:d++,callback:O,priorityLevel:N,startTime:z,expirationTime:R,sortIndex:-1},z>ee?(N.sortIndex=z,t(c,N),r(l)===null&&N===r(c)&&(g?(w(T),T=-1):g=!0,q(_,z-ee))):(N.sortIndex=R,t(l,N),x||p||(x=!0,W(E))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var O=m;return function(){var z=m;m=O;try{return N.apply(this,arguments)}finally{m=z}}}})(Ly);My.exports=Ly;var fk=My.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=h,It=fk;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $y=new Set,oa={};function zs(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(oa[e]=t,e=0;e<t.length;e++)$y.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pm={},jm={};function mk(e){return Od.call(jm,e)?!0:Od.call(Pm,e)?!1:pk.test(e)?jm[e]=!0:(Pm[e]=!0,!1)}function gk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vk(e,t,r,n){if(t===null||typeof t>"u"||gk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function $h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lh,$h);Ze[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lh,$h);Ze[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lh,$h);Ze[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fh(e,t,r,n){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vk(t,r,s,n)&&(r=null),n||s===null?mk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gr=hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),fo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Id=Symbol.for("react.suspense"),Dd=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),By=Symbol.for("react.offscreen"),Om=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=Om&&e[Om]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Ou;function Ui(e){if(Ou===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ou=t&&t[1]||""}return`
`+Ou+e}var Au=!1;function Iu(e,t){if(!e||Au)return"";Au=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Au=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ui(e):""}function yk(e){switch(e.tag){case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return e=Iu(e.type,!1),e;case 11:return e=Iu(e.type.render,!1),e;case 1:return e=Iu(e.type,!0),e;default:return""}}function Md(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case fo:return"Portal";case Ad:return"Profiler";case Uh:return"StrictMode";case Id:return"Suspense";case Dd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uy:return(e.displayName||"Context")+".Consumer";case Fy:return(e._context.displayName||"Context")+".Provider";case Bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zh:return t=e.displayName||null,t!==null?t:Md(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return Md(e(t))}catch{}}return null}function wk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Md(t);case 8:return t===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xk(e){var t=zy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=xk(e))}function Wy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ld(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Am(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Un(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vy(e,t){t=t.checked,t!=null&&Fh(e,"checked",t,!1)}function $d(e,t){Vy(e,t);var r=Un(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fd(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Im(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fd(e,t,r){(t!=="number"||Zl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bi=Array.isArray;function ko(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Un(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Bi(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Un(r)}}function Hy(e,t){var r=Un(t.value),n=Un(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,Ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ia(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bk=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){bk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function Gy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function Yy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _k=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zd(e,t){if(t){if(_k[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Wd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=null;function Wh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hd=null,Co=null,To=null;function Lm(e){if(e=Ba(e)){if(typeof Hd!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Wc(t),Hd(e.stateNode,e.type,t))}}function Qy(e){Co?To?To.push(e):To=[e]:Co=e}function Jy(){if(Co){var e=Co,t=To;if(To=Co=null,Lm(e),t)for(e=0;e<t.length;e++)Lm(t[e])}}function Xy(e,t){return e(t)}function Zy(){}var Du=!1;function ew(e,t,r){if(Du)return e(t,r);Du=!0;try{return Xy(e,t,r)}finally{Du=!1,(Co!==null||To!==null)&&(Zy(),Jy())}}function aa(e,t){var r=e.stateNode;if(r===null)return null;var n=Wc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var qd=!1;if(zr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){qd=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{qd=!1}function Sk(e,t,r,n,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Gi=!1,ec=null,tc=!1,Kd=null,Ek={onError:function(e){Gi=!0,ec=e}};function kk(e,t,r,n,s,o,i,a,l){Gi=!1,ec=null,Sk.apply(Ek,arguments)}function Ck(e,t,r,n,s,o,i,a,l){if(kk.apply(this,arguments),Gi){if(Gi){var c=ec;Gi=!1,ec=null}else throw Error(L(198));tc||(tc=!0,Kd=c)}}function Ws(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $m(e){if(Ws(e)!==e)throw Error(L(188))}function Tk(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return $m(s),e;if(o===n)return $m(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function rw(e){return e=Tk(e),e!==null?nw(e):null}function nw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nw(e);if(t!==null)return t;e=e.sibling}return null}var sw=It.unstable_scheduleCallback,Fm=It.unstable_cancelCallback,Nk=It.unstable_shouldYield,Rk=It.unstable_requestPaint,$e=It.unstable_now,Pk=It.unstable_getCurrentPriorityLevel,Vh=It.unstable_ImmediatePriority,ow=It.unstable_UserBlockingPriority,rc=It.unstable_NormalPriority,jk=It.unstable_LowPriority,iw=It.unstable_IdlePriority,Fc=null,kr=null;function Ok(e){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Fc,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Dk,Ak=Math.log,Ik=Math.LN2;function Dk(e){return e>>>=0,e===0?32:31-(Ak(e)/Ik|0)|0}var sl=64,ol=4194304;function zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=zi(a):(o&=i,o!==0&&(n=zi(o)))}else i=r&~s,i!==0?n=zi(i):o!==0&&(n=zi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ur(t),s=1<<r,n|=e[r],t&=~s;return n}function Mk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ur(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=Mk(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Gd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aw(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function Mu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=r}function $k(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ur(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Hh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var be=0;function lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cw,qh,uw,dw,fw,Yd=!1,il=[],Pn=null,jn=null,On=null,la=new Map,ca=new Map,pn=[],Fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":la.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function Ni(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ba(t),t!==null&&qh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Uk(e,t,r,n,s){switch(t){case"focusin":return Pn=Ni(Pn,e,t,r,n,s),!0;case"dragenter":return jn=Ni(jn,e,t,r,n,s),!0;case"mouseover":return On=Ni(On,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return la.set(o,Ni(la.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ca.set(o,Ni(ca.get(o)||null,e,t,r,n,s)),!0}return!1}function hw(e){var t=hs(e.target);if(t!==null){var r=Ws(t);if(r!==null){if(t=r.tag,t===13){if(t=tw(r),t!==null){e.blockedOn=t,fw(e.priority,function(){uw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vd=n,r.target.dispatchEvent(n),Vd=null}else return t=Ba(r),t!==null&&qh(t),e.blockedOn=r,!1;t.shift()}return!0}function Bm(e,t,r){Il(e)&&r.delete(t)}function Bk(){Yd=!1,Pn!==null&&Il(Pn)&&(Pn=null),jn!==null&&Il(jn)&&(jn=null),On!==null&&Il(On)&&(On=null),la.forEach(Bm),ca.forEach(Bm)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Yd||(Yd=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,Bk)))}function ua(e){function t(s){return Ri(s,e)}if(0<il.length){Ri(il[0],e);for(var r=1;r<il.length;r++){var n=il[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pn!==null&&Ri(Pn,e),jn!==null&&Ri(jn,e),On!==null&&Ri(On,e),la.forEach(t),ca.forEach(t),r=0;r<pn.length;r++)n=pn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pn.length&&(r=pn[0],r.blockedOn===null);)hw(r),r.blockedOn===null&&pn.shift()}var No=Gr.ReactCurrentBatchConfig,sc=!0;function zk(e,t,r,n){var s=be,o=No.transition;No.transition=null;try{be=1,Kh(e,t,r,n)}finally{be=s,No.transition=o}}function Wk(e,t,r,n){var s=be,o=No.transition;No.transition=null;try{be=4,Kh(e,t,r,n)}finally{be=s,No.transition=o}}function Kh(e,t,r,n){if(sc){var s=Qd(e,t,r,n);if(s===null)qu(e,t,n,oc,r),Um(e,n);else if(Uk(s,e,t,r,n))n.stopPropagation();else if(Um(e,n),t&4&&-1<Fk.indexOf(e)){for(;s!==null;){var o=Ba(s);if(o!==null&&cw(o),o=Qd(e,t,r,n),o===null&&qu(e,t,n,oc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else qu(e,t,n,null,r)}}var oc=null;function Qd(e,t,r,n){if(oc=null,e=Wh(n),e=hs(e),e!==null)if(t=Ws(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oc=e,null}function pw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pk()){case Vh:return 1;case ow:return 4;case rc:case jk:return 16;case iw:return 536870912;default:return 16}default:return 16}}var Tn=null,Gh=null,Dl=null;function mw(){if(Dl)return Dl;var e,t=Gh,r=t.length,n,s="value"in Tn?Tn.value:Tn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Dl=s.slice(e,1<n?1-n:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function zm(){return!1}function Mt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?al:zm,this.isPropagationStopped=zm,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yh=Mt(ai),Ua=Ie({},ai,{view:0,detail:0}),Vk=Mt(Ua),Lu,$u,Pi,Uc=Ie({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Lu=e.screenX-Pi.screenX,$u=e.screenY-Pi.screenY):$u=Lu=0,Pi=e),Lu)},movementY:function(e){return"movementY"in e?e.movementY:$u}}),Wm=Mt(Uc),Hk=Ie({},Uc,{dataTransfer:0}),qk=Mt(Hk),Kk=Ie({},Ua,{relatedTarget:0}),Fu=Mt(Kk),Gk=Ie({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Yk=Mt(Gk),Qk=Ie({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jk=Mt(Qk),Xk=Ie({},ai,{data:0}),Vm=Mt(Xk),Zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t1[e])?!!t[e]:!1}function Qh(){return r1}var n1=Ie({},Ua,{key:function(e){if(e.key){var t=Zk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s1=Mt(n1),o1=Ie({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=Mt(o1),i1=Ie({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),a1=Mt(i1),l1=Ie({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),c1=Mt(l1),u1=Ie({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d1=Mt(u1),f1=[9,13,27,32],Jh=zr&&"CompositionEvent"in window,Yi=null;zr&&"documentMode"in document&&(Yi=document.documentMode);var h1=zr&&"TextEvent"in window&&!Yi,gw=zr&&(!Jh||Yi&&8<Yi&&11>=Yi),qm=" ",Km=!1;function vw(e,t){switch(e){case"keyup":return f1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function p1(e,t){switch(e){case"compositionend":return yw(t);case"keypress":return t.which!==32?null:(Km=!0,qm);case"textInput":return e=t.data,e===qm&&Km?null:e;default:return null}}function m1(e,t){if(po)return e==="compositionend"||!Jh&&vw(e,t)?(e=mw(),Dl=Gh=Tn=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gw&&t.locale!=="ko"?null:t.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g1[e.type]:t==="textarea"}function ww(e,t,r,n){Qy(n),t=ic(t,"onChange"),0<t.length&&(r=new Yh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qi=null,da=null;function v1(e){Pw(e,0)}function Bc(e){var t=vo(e);if(Wy(t))return e}function y1(e,t){if(e==="change")return t}var xw=!1;if(zr){var Uu;if(zr){var Bu="oninput"in document;if(!Bu){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Bu=typeof Ym.oninput=="function"}Uu=Bu}else Uu=!1;xw=Uu&&(!document.documentMode||9<document.documentMode)}function Qm(){Qi&&(Qi.detachEvent("onpropertychange",bw),da=Qi=null)}function bw(e){if(e.propertyName==="value"&&Bc(da)){var t=[];ww(t,da,e,Wh(e)),ew(v1,t)}}function w1(e,t,r){e==="focusin"?(Qm(),Qi=t,da=r,Qi.attachEvent("onpropertychange",bw)):e==="focusout"&&Qm()}function x1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bc(da)}function b1(e,t){if(e==="click")return Bc(t)}function _1(e,t){if(e==="input"||e==="change")return Bc(t)}function S1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:S1;function fa(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Od.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xm(e,t){var r=Jm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jm(r)}}function _w(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_w(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sw(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zl(e.document)}return t}function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E1(e){var t=Sw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_w(r.ownerDocument.documentElement,r)){if(n!==null&&Xh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Xm(r,o);var i=Xm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k1=zr&&"documentMode"in document&&11>=document.documentMode,mo=null,Jd=null,Ji=null,Xd=!1;function Zm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xd||mo==null||mo!==Zl(n)||(n=mo,"selectionStart"in n&&Xh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ji&&fa(Ji,n)||(Ji=n,n=ic(Jd,"onSelect"),0<n.length&&(t=new Yh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mo)))}function ll(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var go={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},zu={},Ew={};zr&&(Ew=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function zc(e){if(zu[e])return zu[e];if(!go[e])return e;var t=go[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ew)return zu[e]=t[r];return e}var kw=zc("animationend"),Cw=zc("animationiteration"),Tw=zc("animationstart"),Nw=zc("transitionend"),Rw=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){Rw.set(e,t),zs(t,[e])}for(var Wu=0;Wu<eg.length;Wu++){var Vu=eg[Wu],C1=Vu.toLowerCase(),T1=Vu[0].toUpperCase()+Vu.slice(1);Kn(C1,"on"+T1)}Kn(kw,"onAnimationEnd");Kn(Cw,"onAnimationIteration");Kn(Tw,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(Nw,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function tg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ck(n,t,void 0,e),e.currentTarget=null}function Pw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;tg(s,a,c),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;tg(s,a,c),o=l}}}if(tc)throw e=Kd,tc=!1,Kd=null,e}function Te(e,t){var r=t[nf];r===void 0&&(r=t[nf]=new Set);var n=e+"__bubble";r.has(n)||(jw(t,e,2,!1),r.add(n))}function Hu(e,t,r){var n=0;t&&(n|=4),jw(r,e,n,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ha(e){if(!e[cl]){e[cl]=!0,$y.forEach(function(r){r!=="selectionchange"&&(N1.has(r)||Hu(r,!1,e),Hu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Hu("selectionchange",!1,t))}}function jw(e,t,r,n){switch(pw(t)){case 1:var s=zk;break;case 4:s=Wk;break;default:s=Kh}r=s.bind(null,t,r,e),s=void 0,!qd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=hs(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}ew(function(){var c=o,d=Wh(r),f=[];e:{var m=Rw.get(e);if(m!==void 0){var p=Yh,x=e;switch(e){case"keypress":if(Ml(r)===0)break e;case"keydown":case"keyup":p=s1;break;case"focusin":x="focus",p=Fu;break;case"focusout":x="blur",p=Fu;break;case"beforeblur":case"afterblur":p=Fu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=a1;break;case kw:case Cw:case Tw:p=Yk;break;case Nw:p=c1;break;case"scroll":p=Vk;break;case"wheel":p=d1;break;case"copy":case"cut":case"paste":p=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Hm}var g=(t&4)!==0,b=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var v=c,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,w!==null&&(_=aa(v,w),_!=null&&g.push(pa(v,_,y)))),b)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Vd&&(x=r.relatedTarget||r.fromElement)&&(hs(x)||x[Wr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=c,x=x?hs(x):null,x!==null&&(b=Ws(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(g=Wm,_="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Hm,_="onPointerLeave",w="onPointerEnter",v="pointer"),b=p==null?m:vo(p),y=x==null?m:vo(x),m=new g(_,v+"leave",p,r,d),m.target=b,m.relatedTarget=y,_=null,hs(d)===c&&(g=new g(w,v+"enter",x,r,d),g.target=y,g.relatedTarget=b,_=g),b=_,p&&x)t:{for(g=p,w=x,v=0,y=g;y;y=Ys(y))v++;for(y=0,_=w;_;_=Ys(_))y++;for(;0<v-y;)g=Ys(g),v--;for(;0<y-v;)w=Ys(w),y--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Ys(g),w=Ys(w)}g=null}else g=null;p!==null&&rg(f,m,p,g,!1),x!==null&&b!==null&&rg(f,b,x,g,!0)}}e:{if(m=c?vo(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=y1;else if(Gm(m))if(xw)E=_1;else{E=x1;var S=w1}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=b1);if(E&&(E=E(e,c))){ww(f,E,r,d);break e}S&&S(e,m,c),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Fd(m,"number",m.value)}switch(S=c?vo(c):window,e){case"focusin":(Gm(S)||S.contentEditable==="true")&&(mo=S,Jd=c,Ji=null);break;case"focusout":Ji=Jd=mo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Zm(f,r,d);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Zm(f,r,d)}var k;if(Jh)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else po?vw(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(gw&&r.locale!=="ko"&&(po||T!=="onCompositionStart"?T==="onCompositionEnd"&&po&&(k=mw()):(Tn=d,Gh="value"in Tn?Tn.value:Tn.textContent,po=!0)),S=ic(c,T),0<S.length&&(T=new Vm(T,e,null,r,d),f.push({event:T,listeners:S}),k?T.data=k:(k=yw(r),k!==null&&(T.data=k)))),(k=h1?p1(e,r):m1(e,r))&&(c=ic(c,"onBeforeInput"),0<c.length&&(d=new Vm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=k))}Pw(f,t)})}function pa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ic(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=aa(e,r),o!=null&&n.unshift(pa(e,o,s)),o=aa(e,t),o!=null&&n.push(pa(e,o,s))),e=e.return}return n}function Ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rg(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=aa(r,o),l!=null&&i.unshift(pa(r,l,a))):s||(l=aa(r,o),l!=null&&i.push(pa(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var R1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function ng(e){return(typeof e=="string"?e:""+e).replace(R1,`
`).replace(P1,"")}function ul(e,t,r){if(t=ng(t),ng(e)!==t&&r)throw Error(L(425))}function ac(){}var Zd=null,ef=null;function tf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(e){return sg.resolve(null).then(e).catch(A1)}:rf;function A1(e){setTimeout(function(){throw e})}function Ku(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ua(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ua(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function og(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),_r="__reactFiber$"+li,ma="__reactProps$"+li,Wr="__reactContainer$"+li,nf="__reactEvents$"+li,I1="__reactListeners$"+li,D1="__reactHandles$"+li;function hs(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=og(e);e!==null;){if(r=e[_r])return r;e=og(e)}return t}e=r,r=e.parentNode}return null}function Ba(e){return e=e[_r]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Wc(e){return e[ma]||null}var sf=[],yo=-1;function Gn(e){return{current:e}}function Ne(e){0>yo||(e.current=sf[yo],sf[yo]=null,yo--)}function ke(e,t){yo++,sf[yo]=e.current,e.current=t}var Bn={},at=Gn(Bn),bt=Gn(!1),Ns=Bn;function Yo(e,t){var r=e.type.contextTypes;if(!r)return Bn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function lc(){Ne(bt),Ne(at)}function ig(e,t,r){if(at.current!==Bn)throw Error(L(168));ke(at,t),ke(bt,r)}function Ow(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,wk(e)||"Unknown",s));return Ie({},r,n)}function cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,Ns=at.current,ke(at,e),ke(bt,bt.current),!0}function ag(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Ow(e,t,Ns),n.__reactInternalMemoizedMergedChildContext=e,Ne(bt),Ne(at),ke(at,e)):Ne(bt),ke(bt,r)}var Dr=null,Vc=!1,Gu=!1;function Aw(e){Dr===null?Dr=[e]:Dr.push(e)}function M1(e){Vc=!0,Aw(e)}function Yn(){if(!Gu&&Dr!==null){Gu=!0;var e=0,t=be;try{var r=Dr;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dr=null,Vc=!1}catch(s){throw Dr!==null&&(Dr=Dr.slice(e+1)),sw(Vh,Yn),s}finally{be=t,Gu=!1}}return null}var wo=[],xo=0,uc=null,dc=0,Bt=[],zt=0,Rs=null,$r=1,Fr="";function as(e,t){wo[xo++]=dc,wo[xo++]=uc,uc=e,dc=t}function Iw(e,t,r){Bt[zt++]=$r,Bt[zt++]=Fr,Bt[zt++]=Rs,Rs=e;var n=$r;e=Fr;var s=32-ur(n)-1;n&=~(1<<s),r+=1;var o=32-ur(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,$r=1<<32-ur(t)+s|r<<s|n,Fr=o+e}else $r=1<<o|r<<s|n,Fr=e}function Zh(e){e.return!==null&&(as(e,1),Iw(e,1,0))}function ep(e){for(;e===uc;)uc=wo[--xo],wo[xo]=null,dc=wo[--xo],wo[xo]=null;for(;e===Rs;)Rs=Bt[--zt],Bt[zt]=null,Fr=Bt[--zt],Bt[zt]=null,$r=Bt[--zt],Bt[zt]=null}var jt=null,Pt=null,Pe=!1,cr=null;function Dw(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Pt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rs!==null?{id:$r,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,jt=e,Pt=null,!0):!1;default:return!1}}function of(e){return(e.mode&1)!==0&&(e.flags&128)===0}function af(e){if(Pe){var t=Pt;if(t){var r=t;if(!lg(e,t)){if(of(e))throw Error(L(418));t=An(r.nextSibling);var n=jt;t&&lg(e,t)?Dw(n,r):(e.flags=e.flags&-4097|2,Pe=!1,jt=e)}}else{if(of(e))throw Error(L(418));e.flags=e.flags&-4097|2,Pe=!1,jt=e}}}function cg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function dl(e){if(e!==jt)return!1;if(!Pe)return cg(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tf(e.type,e.memoizedProps)),t&&(t=Pt)){if(of(e))throw Mw(),Error(L(418));for(;t;)Dw(e,t),t=An(t.nextSibling)}if(cg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pt=An(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=jt?An(e.stateNode.nextSibling):null;return!0}function Mw(){for(var e=Pt;e;)e=An(e.nextSibling)}function Qo(){Pt=jt=null,Pe=!1}function tp(e){cr===null?cr=[e]:cr.push(e)}var L1=Gr.ReactCurrentBatchConfig;function ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ug(e){var t=e._init;return t(e._payload)}function Lw(e){function t(w,v){if(e){var y=w.deletions;y===null?(w.deletions=[v],w.flags|=16):y.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Ln(w,v),w.index=0,w.sibling=null,w}function o(w,v,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<v?(w.flags|=2,v):y):(w.flags|=2,v)):(w.flags|=1048576,v)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,v,y,_){return v===null||v.tag!==6?(v=td(y,w.mode,_),v.return=w,v):(v=s(v,y),v.return=w,v)}function l(w,v,y,_){var E=y.type;return E===ho?d(w,v,y.props.children,_,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&ug(E)===v.type)?(_=s(v,y.props),_.ref=ji(w,v,y),_.return=w,_):(_=Wl(y.type,y.key,y.props,null,w.mode,_),_.ref=ji(w,v,y),_.return=w,_)}function c(w,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=rd(y,w.mode,_),v.return=w,v):(v=s(v,y.children||[]),v.return=w,v)}function d(w,v,y,_,E){return v===null||v.tag!==7?(v=Ts(y,w.mode,_,E),v.return=w,v):(v=s(v,y),v.return=w,v)}function f(w,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=td(""+v,w.mode,y),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tl:return y=Wl(v.type,v.key,v.props,null,w.mode,y),y.ref=ji(w,null,v),y.return=w,y;case fo:return v=rd(v,w.mode,y),v.return=w,v;case dn:var _=v._init;return f(w,_(v._payload),y)}if(Bi(v)||Ci(v))return v=Ts(v,w.mode,y,null),v.return=w,v;fl(w,v)}return null}function m(w,v,y,_){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(w,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:return y.key===E?l(w,v,y,_):null;case fo:return y.key===E?c(w,v,y,_):null;case dn:return E=y._init,m(w,v,E(y._payload),_)}if(Bi(y)||Ci(y))return E!==null?null:d(w,v,y,_,null);fl(w,y)}return null}function p(w,v,y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(y)||null,a(v,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tl:return w=w.get(_.key===null?y:_.key)||null,l(v,w,_,E);case fo:return w=w.get(_.key===null?y:_.key)||null,c(v,w,_,E);case dn:var S=_._init;return p(w,v,y,S(_._payload),E)}if(Bi(_)||Ci(_))return w=w.get(y)||null,d(v,w,_,E,null);fl(v,_)}return null}function x(w,v,y,_){for(var E=null,S=null,k=v,T=v=0,A=null;k!==null&&T<y.length;T++){k.index>T?(A=k,k=null):A=k.sibling;var P=m(w,k,y[T],_);if(P===null){k===null&&(k=A);break}e&&k&&P.alternate===null&&t(w,k),v=o(P,v,T),S===null?E=P:S.sibling=P,S=P,k=A}if(T===y.length)return r(w,k),Pe&&as(w,T),E;if(k===null){for(;T<y.length;T++)k=f(w,y[T],_),k!==null&&(v=o(k,v,T),S===null?E=k:S.sibling=k,S=k);return Pe&&as(w,T),E}for(k=n(w,k);T<y.length;T++)A=p(k,w,T,y[T],_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?T:A.key),v=o(A,v,T),S===null?E=A:S.sibling=A,S=A);return e&&k.forEach(function(I){return t(w,I)}),Pe&&as(w,T),E}function g(w,v,y,_){var E=Ci(y);if(typeof E!="function")throw Error(L(150));if(y=E.call(y),y==null)throw Error(L(151));for(var S=E=null,k=v,T=v=0,A=null,P=y.next();k!==null&&!P.done;T++,P=y.next()){k.index>T?(A=k,k=null):A=k.sibling;var I=m(w,k,P.value,_);if(I===null){k===null&&(k=A);break}e&&k&&I.alternate===null&&t(w,k),v=o(I,v,T),S===null?E=I:S.sibling=I,S=I,k=A}if(P.done)return r(w,k),Pe&&as(w,T),E;if(k===null){for(;!P.done;T++,P=y.next())P=f(w,P.value,_),P!==null&&(v=o(P,v,T),S===null?E=P:S.sibling=P,S=P);return Pe&&as(w,T),E}for(k=n(w,k);!P.done;T++,P=y.next())P=p(k,w,T,P.value,_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?T:P.key),v=o(P,v,T),S===null?E=P:S.sibling=P,S=P);return e&&k.forEach(function(j){return t(w,j)}),Pe&&as(w,T),E}function b(w,v,y,_){if(typeof y=="object"&&y!==null&&y.type===ho&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:e:{for(var E=y.key,S=v;S!==null;){if(S.key===E){if(E=y.type,E===ho){if(S.tag===7){r(w,S.sibling),v=s(S,y.props.children),v.return=w,w=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&ug(E)===S.type){r(w,S.sibling),v=s(S,y.props),v.ref=ji(w,S,y),v.return=w,w=v;break e}r(w,S);break}else t(w,S);S=S.sibling}y.type===ho?(v=Ts(y.props.children,w.mode,_,y.key),v.return=w,w=v):(_=Wl(y.type,y.key,y.props,null,w.mode,_),_.ref=ji(w,v,y),_.return=w,w=_)}return i(w);case fo:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(w,v.sibling),v=s(v,y.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=rd(y,w.mode,_),v.return=w,w=v}return i(w);case dn:return S=y._init,b(w,v,S(y._payload),_)}if(Bi(y))return x(w,v,y,_);if(Ci(y))return g(w,v,y,_);fl(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(w,v.sibling),v=s(v,y),v.return=w,w=v):(r(w,v),v=td(y,w.mode,_),v.return=w,w=v),i(w)):r(w,v)}return b}var Jo=Lw(!0),$w=Lw(!1),fc=Gn(null),hc=null,bo=null,rp=null;function np(){rp=bo=hc=null}function sp(e){var t=fc.current;Ne(fc),e._currentValue=t}function lf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ro(e,t){hc=e,rp=bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(rp!==e)if(e={context:e,memoizedValue:t,next:null},bo===null){if(hc===null)throw Error(L(308));bo=e,hc.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var ps=null;function op(e){ps===null?ps=[e]:ps.push(e)}function Fw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,op(t)):(r.next=s.next,s.next=r),t.interleaved=r,Vr(e,n)}function Vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fn=!1;function ip(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Vr(e,r)}return s=n.interleaved,s===null?(t.next=t,op(n)):(t.next=s.next,s.next=t),n.interleaved=t,Vr(e,r)}function Ll(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hh(e,r)}}function dg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pc(e,t,r,n){var s=e.updateQueue;fn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,g=a;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=Ie({},f,m);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);js|=i,e.lanes=i,e.memoizedState=f}}function fg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var za={},Cr=Gn(za),ga=Gn(za),va=Gn(za);function ms(e){if(e===za)throw Error(L(174));return e}function ap(e,t){switch(ke(va,t),ke(ga,e),ke(Cr,za),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bd(t,e)}Ne(Cr),ke(Cr,t)}function Xo(){Ne(Cr),Ne(ga),Ne(va)}function Bw(e){ms(va.current);var t=ms(Cr.current),r=Bd(t,e.type);t!==r&&(ke(ga,e),ke(Cr,r))}function lp(e){ga.current===e&&(Ne(Cr),Ne(ga))}var Oe=Gn(0);function mc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yu=[];function cp(){for(var e=0;e<Yu.length;e++)Yu[e]._workInProgressVersionPrimary=null;Yu.length=0}var $l=Gr.ReactCurrentDispatcher,Qu=Gr.ReactCurrentBatchConfig,Ps=0,Ae=null,Ve=null,Ke=null,gc=!1,Xi=!1,ya=0,$1=0;function nt(){throw Error(L(321))}function up(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fr(e[r],t[r]))return!1;return!0}function dp(e,t,r,n,s,o){if(Ps=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?z1:W1,e=r(n,s),Xi){o=0;do{if(Xi=!1,ya=0,25<=o)throw Error(L(301));o+=1,Ke=Ve=null,t.updateQueue=null,$l.current=V1,e=r(n,s)}while(Xi)}if($l.current=vc,t=Ve!==null&&Ve.next!==null,Ps=0,Ke=Ve=Ae=null,gc=!1,t)throw Error(L(300));return e}function fp(){var e=ya!==0;return ya=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Kt(){if(Ve===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?Ae.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(L(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function wa(e,t){return typeof t=="function"?t(e):t}function Ju(e){var t=Kt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ve,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Ps&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,Ae.lanes|=d,js|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=a,fr(n,t.memoizedState)||(xt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ae.lanes|=o,js|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xu(e){var t=Kt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);fr(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zw(){}function Ww(e,t){var r=Ae,n=Kt(),s=t(),o=!fr(n.memoizedState,s);if(o&&(n.memoizedState=s,xt=!0),n=n.queue,hp(qw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,xa(9,Hw.bind(null,r,n,s,t),void 0,null),Ge===null)throw Error(L(349));Ps&30||Vw(r,t,s)}return s}function Vw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hw(e,t,r,n){t.value=r,t.getSnapshot=n,Kw(t)&&Gw(e)}function qw(e,t,r){return r(function(){Kw(t)&&Gw(e)})}function Kw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fr(e,r)}catch{return!0}}function Gw(e){var t=Vr(e,1);t!==null&&dr(t,e,1,-1)}function hg(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=B1.bind(null,Ae,e),[t.memoizedState,e]}function xa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Yw(){return Kt().memoizedState}function Fl(e,t,r,n){var s=yr();Ae.flags|=e,s.memoizedState=xa(1|t,r,void 0,n===void 0?null:n)}function Hc(e,t,r,n){var s=Kt();n=n===void 0?null:n;var o=void 0;if(Ve!==null){var i=Ve.memoizedState;if(o=i.destroy,n!==null&&up(n,i.deps)){s.memoizedState=xa(t,r,o,n);return}}Ae.flags|=e,s.memoizedState=xa(1|t,r,o,n)}function pg(e,t){return Fl(8390656,8,e,t)}function hp(e,t){return Hc(2048,8,e,t)}function Qw(e,t){return Hc(4,2,e,t)}function Jw(e,t){return Hc(4,4,e,t)}function Xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zw(e,t,r){return r=r!=null?r.concat([e]):null,Hc(4,4,Xw.bind(null,t,e),r)}function pp(){}function e0(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&up(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t0(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&up(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r0(e,t,r){return Ps&21?(fr(r,t)||(r=aw(),Ae.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=r)}function F1(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Qu.transition;Qu.transition={};try{e(!1),t()}finally{be=r,Qu.transition=n}}function n0(){return Kt().memoizedState}function U1(e,t,r){var n=Mn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s0(e))o0(t,r);else if(r=Fw(e,t,r,n),r!==null){var s=ft();dr(r,e,n,s),i0(r,t,n)}}function B1(e,t,r){var n=Mn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s0(e))o0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,fr(a,i)){var l=t.interleaved;l===null?(s.next=s,op(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Fw(e,t,s,n),r!==null&&(s=ft(),dr(r,e,n,s),i0(r,t,n))}}function s0(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function o0(e,t){Xi=gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hh(e,r)}}var vc={readContext:qt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},z1={readContext:qt,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:pg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4194308,4,Xw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var r=yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=U1.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:hg,useDebugValue:pp,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=hg(!1),t=e[0];return e=F1.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=yr();if(Pe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ge===null)throw Error(L(349));Ps&30||Vw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,pg(qw.bind(null,n,o,e),[e]),n.flags|=2048,xa(9,Hw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yr(),t=Ge.identifierPrefix;if(Pe){var r=Fr,n=$r;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ya++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W1={readContext:qt,useCallback:e0,useContext:qt,useEffect:hp,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:t0,useReducer:Ju,useRef:Yw,useState:function(){return Ju(wa)},useDebugValue:pp,useDeferredValue:function(e){var t=Kt();return r0(t,Ve.memoizedState,e)},useTransition:function(){var e=Ju(wa)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:Ww,useId:n0,unstable_isNewReconciler:!1},V1={readContext:qt,useCallback:e0,useContext:qt,useEffect:hp,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:t0,useReducer:Xu,useRef:Yw,useState:function(){return Xu(wa)},useDebugValue:pp,useDeferredValue:function(e){var t=Kt();return Ve===null?t.memoizedState=e:r0(t,Ve.memoizedState,e)},useTransition:function(){var e=Xu(wa)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:Ww,useId:n0,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qc={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),s=Mn(e),o=Ur(n,s);o.payload=t,r!=null&&(o.callback=r),t=In(e,o,s),t!==null&&(dr(t,e,s,n),Ll(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),s=Mn(e),o=Ur(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=In(e,o,s),t!==null&&(dr(t,e,s,n),Ll(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=Mn(e),s=Ur(r,n);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,n),t!==null&&(dr(t,e,n,r),Ll(t,e,n))}};function mg(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!fa(r,n)||!fa(s,o):!0}function a0(e,t,r){var n=!1,s=Bn,o=t.contextType;return typeof o=="object"&&o!==null?o=qt(o):(s=_t(t)?Ns:at.current,n=t.contextTypes,o=(n=n!=null)?Yo(e,s):Bn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function gg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qc.enqueueReplaceState(t,t.state,null)}function uf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ip(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=qt(o):(o=_t(t)?Ns:at.current,s.context=Yo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qc.enqueueReplaceState(s,s.state,null),pc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var r="",n=t;do r+=yk(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Zu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function df(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var H1=typeof WeakMap=="function"?WeakMap:Map;function l0(e,t,r){r=Ur(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wc||(wc=!0,bf=n),df(e,t)},r}function c0(e,t,r){r=Ur(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){df(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){df(e,t),typeof n!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function vg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new H1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=oC.bind(null,e,t,r),t.then(e,e))}function yg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ur(-1,1),t.tag=2,In(r,t,1))),r.lanes|=1),e)}var q1=Gr.ReactCurrentOwner,xt=!1;function ut(e,t,r,n){t.child=e===null?$w(t,null,r,n):Jo(t,e.child,r,n)}function xg(e,t,r,n,s){r=r.render;var o=t.ref;return Ro(t,s),n=dp(e,t,r,n,o,s),r=fp(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hr(e,t,s)):(Pe&&r&&Zh(t),t.flags|=1,ut(e,t,n,s),t.child)}function bg(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!_p(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,u0(e,t,o,n,s)):(e=Wl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:fa,r(i,n)&&e.ref===t.ref)return Hr(e,t,s)}return t.flags|=1,e=Ln(o,n),e.ref=t.ref,e.return=t,t.child=e}function u0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(fa(o,n)&&e.ref===t.ref)if(xt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Hr(e,t,s)}return ff(e,t,r,n,s)}function d0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(So,Ct),Ct|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(So,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ke(So,Ct),Ct|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ke(So,Ct),Ct|=n;return ut(e,t,s,r),t.child}function f0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ff(e,t,r,n,s){var o=_t(r)?Ns:at.current;return o=Yo(t,o),Ro(t,s),r=dp(e,t,r,n,o,s),n=fp(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hr(e,t,s)):(Pe&&n&&Zh(t),t.flags|=1,ut(e,t,r,s),t.child)}function _g(e,t,r,n,s){if(_t(r)){var o=!0;cc(t)}else o=!1;if(Ro(t,s),t.stateNode===null)Ul(e,t),a0(t,r,n),uf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=qt(c):(c=_t(r)?Ns:at.current,c=Yo(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&gg(t,i,n,c),fn=!1;var m=t.memoizedState;i.state=m,pc(t,n,i,s),l=t.memoizedState,a!==n||m!==l||bt.current||fn?(typeof d=="function"&&(cf(t,r,d,n),l=t.memoizedState),(a=fn||mg(t,r,a,n,m,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Uw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nr(t.type,a),i.props=c,f=t.pendingProps,m=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=_t(r)?Ns:at.current,l=Yo(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==l)&&gg(t,i,n,l),fn=!1,m=t.memoizedState,i.state=m,pc(t,n,i,s);var x=t.memoizedState;a!==f||m!==x||bt.current||fn?(typeof p=="function"&&(cf(t,r,p,n),x=t.memoizedState),(c=fn||mg(t,r,c,n,m,x,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return hf(e,t,r,n,o,s)}function hf(e,t,r,n,s,o){f0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&ag(t,r,!1),Hr(e,t,o);n=t.stateNode,q1.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):ut(e,t,a,o),t.memoizedState=n.state,s&&ag(t,r,!0),t.child}function h0(e){var t=e.stateNode;t.pendingContext?ig(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ig(e,t.context,!1),ap(e,t.containerInfo)}function Sg(e,t,r,n,s){return Qo(),tp(s),t.flags|=256,ut(e,t,r,n),t.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function mf(e){return{baseLanes:e,cachePool:null,transitions:null}}function p0(e,t,r){var n=t.pendingProps,s=Oe.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Oe,s&1),e===null)return af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Yc(i,n,0,null),e=Ts(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=mf(r),t.memoizedState=pf,e):mp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return K1(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ln(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ln(a,o):(o=Ts(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?mf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=pf,n}return o=e.child,e=o.sibling,n=Ln(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mp(e,t){return t=Yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,r,n){return n!==null&&tp(n),Jo(t,e.child,null,r),e=mp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K1(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Zu(Error(L(422))),hl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Yc({mode:"visible",children:n.children},s,0,null),o=Ts(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Jo(t,e.child,null,i),t.child.memoizedState=mf(i),t.memoizedState=pf,o);if(!(t.mode&1))return hl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=Zu(o,n,void 0),hl(e,t,i,n)}if(a=(i&e.childLanes)!==0,xt||a){if(n=Ge,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Vr(e,s),dr(n,e,s,-1))}return bp(),n=Zu(Error(L(421))),hl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Pt=An(s.nextSibling),jt=t,Pe=!0,cr=null,e!==null&&(Bt[zt++]=$r,Bt[zt++]=Fr,Bt[zt++]=Rs,$r=e.id,Fr=e.overflow,Rs=t),t=mp(t,n.children),t.flags|=4096,t)}function Eg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lf(e.return,t,r)}function ed(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function m0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(ut(e,t,n.children,r),n=Oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eg(e,r,t);else if(e.tag===19)Eg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Oe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ed(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ed(t,!0,r,null,o);break;case"together":ed(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Ln(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ln(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G1(e,t,r){switch(t.tag){case 3:h0(t),Qo();break;case 5:Bw(t);break;case 1:_t(t.type)&&cc(t);break;case 4:ap(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(fc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Oe,Oe.current&1),t.flags|=128,null):r&t.child.childLanes?p0(e,t,r):(ke(Oe,Oe.current&1),e=Hr(e,t,r),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Oe,Oe.current),n)break;return null;case 22:case 23:return t.lanes=0,d0(e,t,r)}return Hr(e,t,r)}var g0,gf,v0,y0;g0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gf=function(){};v0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ms(Cr.current);var o=null;switch(r){case"input":s=Ld(e,s),n=Ld(e,n),o=[];break;case"select":s=Ie({},s,{value:void 0}),n=Ie({},n,{value:void 0}),o=[];break;case"textarea":s=Ud(e,s),n=Ud(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ac)}zd(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};y0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oi(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Y1(e,t,r){var n=t.pendingProps;switch(ep(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return _t(t.type)&&lc(),st(t),null;case 3:return n=t.stateNode,Xo(),Ne(bt),Ne(at),cp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(Ef(cr),cr=null))),gf(e,t),st(t),null;case 5:lp(t);var s=ms(va.current);if(r=t.type,e!==null&&t.stateNode!=null)v0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return st(t),null}if(e=ms(Cr.current),dl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[_r]=t,n[ma]=o,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<Wi.length;s++)Te(Wi[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Am(n,o),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Te("invalid",n);break;case"textarea":Dm(n,o),Te("invalid",n)}zd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ul(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ul(n.textContent,a,e),s=["children",""+a]):oa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Te("scroll",n)}switch(r){case"input":rl(n),Im(n,o,!0);break;case"textarea":rl(n),Mm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ac)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[_r]=t,e[ma]=n,g0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wd(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Wi.length;s++)Te(Wi[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":Am(e,n),s=Ld(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ie({},n,{value:void 0}),Te("invalid",e);break;case"textarea":Dm(e,n),s=Ud(e,n),Te("invalid",e);break;default:s=n}zd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Yy(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ky(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ia(e,l):typeof l=="number"&&ia(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Te("scroll",e):l!=null&&Fh(e,o,l,i))}switch(r){case"input":rl(e),Im(e,n,!1);break;case"textarea":rl(e),Mm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Un(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ko(e,!!n.multiple,o,!1):n.defaultValue!=null&&ko(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=ms(va.current),ms(Cr.current),dl(t)){if(n=t.stateNode,r=t.memoizedProps,n[_r]=t,(o=n.nodeValue!==r)&&(e=jt,e!==null))switch(e.tag){case 3:ul(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ul(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=t,t.stateNode=n}return st(t),null;case 13:if(Ne(Oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Pt!==null&&t.mode&1&&!(t.flags&128))Mw(),Qo(),t.flags|=98560,o=!1;else if(o=dl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[_r]=t}else Qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),o=!1}else cr!==null&&(Ef(cr),cr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?qe===0&&(qe=3):bp())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Xo(),gf(e,t),e===null&&ha(t.stateNode.containerInfo),st(t),null;case 10:return sp(t.type._context),st(t),null;case 17:return _t(t.type)&&lc(),st(t),null;case 19:if(Ne(Oe),o=t.memoizedState,o===null)return st(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Oi(o,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=mc(e),i!==null){for(t.flags|=128,Oi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&$e()>ei&&(t.flags|=128,n=!0,Oi(o,!1),t.lanes=4194304)}else{if(!n)if(e=mc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Pe)return st(t),null}else 2*$e()-o.renderingStartTime>ei&&r!==1073741824&&(t.flags|=128,n=!0,Oi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,r=Oe.current,ke(Oe,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return xp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ct&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Q1(e,t){switch(ep(t),t.tag){case 1:return _t(t.type)&&lc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xo(),Ne(bt),Ne(at),cp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lp(t),null;case 13:if(Ne(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Oe),null;case 4:return Xo(),null;case 10:return sp(t.type._context),null;case 22:case 23:return xp(),null;case 24:return null;default:return null}}var pl=!1,it=!1,J1=typeof WeakSet=="function"?WeakSet:Set,K=null;function _o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function vf(e,t,r){try{r()}catch(n){Le(e,t,n)}}var kg=!1;function X1(e,t){if(Zd=sc,e=Sw(),Xh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++c===s&&(a=i),m===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ef={focusedElem:e,selectionRange:r},sc=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:nr(t.type,g),b);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Le(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return x=kg,kg=!1,x}function Zi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&vf(t,r,o)}s=s.next}while(s!==n)}}function Kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w0(e){var t=e.alternate;t!==null&&(e.alternate=null,w0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[ma],delete t[nf],delete t[I1],delete t[D1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function Cg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ac));else if(n!==4&&(e=e.child,e!==null))for(wf(e,t,r),e=e.sibling;e!==null;)wf(e,t,r),e=e.sibling}function xf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xf(e,t,r),e=e.sibling;e!==null;)xf(e,t,r),e=e.sibling}var Je=null,ar=!1;function sn(e,t,r){for(r=r.child;r!==null;)b0(e,t,r),r=r.sibling}function b0(e,t,r){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:it||_o(r,t);case 6:var n=Je,s=ar;Je=null,sn(e,t,r),Je=n,ar=s,Je!==null&&(ar?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(ar?(e=Je,r=r.stateNode,e.nodeType===8?Ku(e.parentNode,r):e.nodeType===1&&Ku(e,r),ua(e)):Ku(Je,r.stateNode));break;case 4:n=Je,s=ar,Je=r.stateNode.containerInfo,ar=!0,sn(e,t,r),Je=n,ar=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vf(r,t,i),s=s.next}while(s!==n)}sn(e,t,r);break;case 1:if(!it&&(_o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Le(r,t,a)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,sn(e,t,r),it=n):sn(e,t,r);break;default:sn(e,t,r)}}function Tg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new J1),t.forEach(function(n){var s=aC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,ar=!1;break e;case 3:Je=a.stateNode.containerInfo,ar=!0;break e;case 4:Je=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Je===null)throw Error(L(160));b0(o,i,s),Je=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Le(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_0(t,e),t=t.sibling}function _0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),vr(e),n&4){try{Zi(3,e,e.return),Kc(3,e)}catch(g){Le(e,e.return,g)}try{Zi(5,e,e.return)}catch(g){Le(e,e.return,g)}}break;case 1:Xt(t,e),vr(e),n&512&&r!==null&&_o(r,r.return);break;case 5:if(Xt(t,e),vr(e),n&512&&r!==null&&_o(r,r.return),e.flags&32){var s=e.stateNode;try{ia(s,"")}catch(g){Le(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vy(s,o),Wd(a,i);var c=Wd(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Yy(s,f):d==="dangerouslySetInnerHTML"?Ky(s,f):d==="children"?ia(s,f):Fh(s,d,f,c)}switch(a){case"input":$d(s,o);break;case"textarea":Hy(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ko(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?ko(s,!!o.multiple,o.defaultValue,!0):ko(s,!!o.multiple,o.multiple?[]:"",!1))}s[ma]=o}catch(g){Le(e,e.return,g)}}break;case 6:if(Xt(t,e),vr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Le(e,e.return,g)}}break;case 3:if(Xt(t,e),vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ua(t.containerInfo)}catch(g){Le(e,e.return,g)}break;case 4:Xt(t,e),vr(e);break;case 13:Xt(t,e),vr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(yp=$e())),n&4&&Tg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(c=it)||d,Xt(t,e),it=c):Xt(t,e),vr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(m=K,p=m.child,m.tag){case 0:case 11:case 14:case 15:Zi(4,m,m.return);break;case 1:_o(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Le(n,r,g)}}break;case 5:_o(m,m.return);break;case 22:if(m.memoizedState!==null){Rg(f);continue}}p!==null?(p.return=m,K=p):Rg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gy("display",i))}catch(g){Le(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Le(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(t,e),vr(e),n&4&&Tg(e);break;case 21:break;default:Xt(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x0(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ia(s,""),n.flags&=-33);var o=Cg(e);xf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Cg(e);wf(e,a,i);break;default:throw Error(L(161))}}catch(l){Le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z1(e,t,r){K=e,S0(e)}function S0(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||pl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=pl;var c=it;if(pl=i,(it=l)&&!c)for(K=s;K!==null;)i=K,l=i.child,i.tag===22&&i.memoizedState!==null?Pg(s):l!==null?(l.return=i,K=l):Pg(s);for(;o!==null;)K=o,S0(o),o=o.sibling;K=s,pl=a,it=c}Ng(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):Ng(e)}}function Ng(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Kc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&fg(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fg(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}it||t.flags&512&&yf(t)}catch(m){Le(t,t.return,m)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Rg(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Pg(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kc(4,t)}catch(l){Le(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Le(t,s,l)}}var o=t.return;try{yf(t)}catch(l){Le(t,o,l)}break;case 5:var i=t.return;try{yf(t)}catch(l){Le(t,i,l)}}}catch(l){Le(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var eC=Math.ceil,yc=Gr.ReactCurrentDispatcher,gp=Gr.ReactCurrentOwner,Ht=Gr.ReactCurrentBatchConfig,me=0,Ge=null,Be=null,Xe=0,Ct=0,So=Gn(0),qe=0,ba=null,js=0,Gc=0,vp=0,ea=null,yt=null,yp=0,ei=1/0,Ar=null,wc=!1,bf=null,Dn=null,ml=!1,Nn=null,xc=0,ta=0,_f=null,Bl=-1,zl=0;function ft(){return me&6?$e():Bl!==-1?Bl:Bl=$e()}function Mn(e){return e.mode&1?me&2&&Xe!==0?Xe&-Xe:L1.transition!==null?(zl===0&&(zl=aw()),zl):(e=be,e!==0||(e=window.event,e=e===void 0?16:pw(e.type)),e):1}function dr(e,t,r,n){if(50<ta)throw ta=0,_f=null,Error(L(185));Fa(e,r,n),(!(me&2)||e!==Ge)&&(e===Ge&&(!(me&2)&&(Gc|=r),qe===4&&mn(e,Xe)),St(e,n),r===1&&me===0&&!(t.mode&1)&&(ei=$e()+500,Vc&&Yn()))}function St(e,t){var r=e.callbackNode;Lk(e,t);var n=nc(e,e===Ge?Xe:0);if(n===0)r!==null&&Fm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Fm(r),t===1)e.tag===0?M1(jg.bind(null,e)):Aw(jg.bind(null,e)),O1(function(){!(me&6)&&Yn()}),r=null;else{switch(lw(n)){case 1:r=Vh;break;case 4:r=ow;break;case 16:r=rc;break;case 536870912:r=iw;break;default:r=rc}r=j0(r,E0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E0(e,t){if(Bl=-1,zl=0,me&6)throw Error(L(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var n=nc(e,e===Ge?Xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bc(e,n);else{t=n;var s=me;me|=2;var o=C0();(Ge!==e||Xe!==t)&&(Ar=null,ei=$e()+500,Cs(e,t));do try{nC();break}catch(a){k0(e,a)}while(!0);np(),yc.current=o,me=s,Be!==null?t=0:(Ge=null,Xe=0,t=qe)}if(t!==0){if(t===2&&(s=Gd(e),s!==0&&(n=s,t=Sf(e,s))),t===1)throw r=ba,Cs(e,0),mn(e,n),St(e,$e()),r;if(t===6)mn(e,n);else{if(s=e.current.alternate,!(n&30)&&!tC(s)&&(t=bc(e,n),t===2&&(o=Gd(e),o!==0&&(n=o,t=Sf(e,o))),t===1))throw r=ba,Cs(e,0),mn(e,n),St(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:ls(e,yt,Ar);break;case 3:if(mn(e,n),(n&130023424)===n&&(t=yp+500-$e(),10<t)){if(nc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rf(ls.bind(null,e,yt,Ar),t);break}ls(e,yt,Ar);break;case 4:if(mn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ur(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eC(n/1960))-n,10<n){e.timeoutHandle=rf(ls.bind(null,e,yt,Ar),n);break}ls(e,yt,Ar);break;case 5:ls(e,yt,Ar);break;default:throw Error(L(329))}}}return St(e,$e()),e.callbackNode===r?E0.bind(null,e):null}function Sf(e,t){var r=ea;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),e=bc(e,t),e!==2&&(t=yt,yt=r,t!==null&&Ef(t)),e}function Ef(e){yt===null?yt=e:yt.push.apply(yt,e)}function tC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!fr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~vp,t&=~Gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function jg(e){if(me&6)throw Error(L(327));Po();var t=nc(e,0);if(!(t&1))return St(e,$e()),null;var r=bc(e,t);if(e.tag!==0&&r===2){var n=Gd(e);n!==0&&(t=n,r=Sf(e,n))}if(r===1)throw r=ba,Cs(e,0),mn(e,t),St(e,$e()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,yt,Ar),St(e,$e()),null}function wp(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(ei=$e()+500,Vc&&Yn())}}function Os(e){Nn!==null&&Nn.tag===0&&!(me&6)&&Po();var t=me;me|=1;var r=Ht.transition,n=be;try{if(Ht.transition=null,be=1,e)return e()}finally{be=n,Ht.transition=r,me=t,!(me&6)&&Yn()}}function xp(){Ct=So.current,Ne(So)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j1(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(ep(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lc();break;case 3:Xo(),Ne(bt),Ne(at),cp();break;case 5:lp(n);break;case 4:Xo();break;case 13:Ne(Oe);break;case 19:Ne(Oe);break;case 10:sp(n.type._context);break;case 22:case 23:xp()}r=r.return}if(Ge=e,Be=e=Ln(e.current,null),Xe=Ct=t,qe=0,ba=null,vp=Gc=js=0,yt=ea=null,ps!==null){for(t=0;t<ps.length;t++)if(r=ps[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}ps=null}return e}function k0(e,t){do{var r=Be;try{if(np(),$l.current=vc,gc){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gc=!1}if(Ps=0,Ke=Ve=Ae=null,Xi=!1,ya=0,gp.current=null,r===null||r.return===null){qe=1,ba=t,Be=null;break}e:{var o=e,i=r.return,a=r,l=t;if(t=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yg(i);if(p!==null){p.flags&=-257,wg(p,i,a,o,t),p.mode&1&&vg(o,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var g=new Set;g.add(l),t.updateQueue=g}else x.add(l);break e}else{if(!(t&1)){vg(o,c,t),bp();break e}l=Error(L(426))}}else if(Pe&&a.mode&1){var b=yg(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),wg(b,i,a,o,t),tp(Zo(l,a));break e}}o=l=Zo(l,a),qe!==4&&(qe=2),ea===null?ea=[o]:ea.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=l0(o,l,t);dg(o,w);break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dn===null||!Dn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=c0(o,a,t);dg(o,_);break e}}o=o.return}while(o!==null)}N0(r)}catch(E){t=E,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function C0(){var e=yc.current;return yc.current=vc,e===null?vc:e}function bp(){(qe===0||qe===3||qe===2)&&(qe=4),Ge===null||!(js&268435455)&&!(Gc&268435455)||mn(Ge,Xe)}function bc(e,t){var r=me;me|=2;var n=C0();(Ge!==e||Xe!==t)&&(Ar=null,Cs(e,t));do try{rC();break}catch(s){k0(e,s)}while(!0);if(np(),me=r,yc.current=n,Be!==null)throw Error(L(261));return Ge=null,Xe=0,qe}function rC(){for(;Be!==null;)T0(Be)}function nC(){for(;Be!==null&&!Nk();)T0(Be)}function T0(e){var t=P0(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?N0(e):Be=t,gp.current=null}function N0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Q1(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Be=null;return}}else if(r=Y1(r,t,Ct),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);qe===0&&(qe=5)}function ls(e,t,r){var n=be,s=Ht.transition;try{Ht.transition=null,be=1,sC(e,t,r,n)}finally{Ht.transition=s,be=n}return null}function sC(e,t,r,n){do Po();while(Nn!==null);if(me&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if($k(e,o),e===Ge&&(Be=Ge=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ml||(ml=!0,j0(rc,function(){return Po(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ht.transition,Ht.transition=null;var i=be;be=1;var a=me;me|=4,gp.current=null,X1(e,r),_0(r,e),E1(ef),sc=!!Zd,ef=Zd=null,e.current=r,Z1(r),Rk(),me=a,be=i,Ht.transition=o}else e.current=r;if(ml&&(ml=!1,Nn=e,xc=s),o=e.pendingLanes,o===0&&(Dn=null),Ok(r.stateNode),St(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wc)throw wc=!1,e=bf,bf=null,e;return xc&1&&e.tag!==0&&Po(),o=e.pendingLanes,o&1?e===_f?ta++:(ta=0,_f=e):ta=0,Yn(),null}function Po(){if(Nn!==null){var e=lw(xc),t=Ht.transition,r=be;try{if(Ht.transition=null,be=16>e?16:e,Nn===null)var n=!1;else{if(e=Nn,Nn=null,xc=0,me&6)throw Error(L(331));var s=me;for(me|=4,K=e.current;K!==null;){var o=K,i=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Zi(8,d,o)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var m=d.sibling,p=d.return;if(w0(d),d===c){K=null;break}if(m!==null){m.return=p,K=m;break}K=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}K=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,K=i;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zi(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,K=w;break e}K=o.return}}var v=e.current;for(K=v;K!==null;){i=K;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,K=y;else e:for(i=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kc(9,a)}}catch(E){Le(a,a.return,E)}if(a===i){K=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,K=_;break e}K=a.return}}if(me=s,Yn(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Fc,e)}catch{}n=!0}return n}finally{be=r,Ht.transition=t}}return!1}function Og(e,t,r){t=Zo(r,t),t=l0(e,t,1),e=In(e,t,1),t=ft(),e!==null&&(Fa(e,1,t),St(e,t))}function Le(e,t,r){if(e.tag===3)Og(e,e,r);else for(;t!==null;){if(t.tag===3){Og(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dn===null||!Dn.has(n))){e=Zo(r,e),e=c0(t,e,1),t=In(t,e,1),e=ft(),t!==null&&(Fa(t,1,e),St(t,e));break}}t=t.return}}function oC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Xe&r)===r&&(qe===4||qe===3&&(Xe&130023424)===Xe&&500>$e()-yp?Cs(e,0):vp|=r),St(e,t)}function R0(e,t){t===0&&(e.mode&1?(t=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):t=1);var r=ft();e=Vr(e,t),e!==null&&(Fa(e,t,r),St(e,r))}function iC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R0(e,r)}function aC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),R0(e,r)}var P0;P0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xt=!1,G1(e,t,r);xt=!!(e.flags&131072)}else xt=!1,Pe&&t.flags&1048576&&Iw(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ul(e,t),e=t.pendingProps;var s=Yo(t,at.current);Ro(t,r),s=dp(null,t,n,e,s,r);var o=fp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(n)?(o=!0,cc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ip(t),s.updater=qc,t.stateNode=s,s._reactInternals=t,uf(t,n,e,r),t=hf(null,t,n,!0,o,r)):(t.tag=0,Pe&&o&&Zh(t),ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=cC(n),e=nr(n,e),s){case 0:t=ff(null,t,n,e,r);break e;case 1:t=_g(null,t,n,e,r);break e;case 11:t=xg(null,t,n,e,r);break e;case 14:t=bg(null,t,n,nr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),ff(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),_g(e,t,n,s,r);case 3:e:{if(h0(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Uw(e,t),pc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zo(Error(L(423)),t),t=Sg(e,t,n,r,s);break e}else if(n!==s){s=Zo(Error(L(424)),t),t=Sg(e,t,n,r,s);break e}else for(Pt=An(t.stateNode.containerInfo.firstChild),jt=t,Pe=!0,cr=null,r=$w(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qo(),n===s){t=Hr(e,t,r);break e}ut(e,t,n,r)}t=t.child}return t;case 5:return Bw(t),e===null&&af(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,tf(n,s)?i=null:o!==null&&tf(n,o)&&(t.flags|=32),f0(e,t),ut(e,t,i,r),t.child;case 6:return e===null&&af(t),null;case 13:return p0(e,t,r);case 4:return ap(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jo(t,null,n,r):ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),xg(e,t,n,s,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ke(fc,n._currentValue),n._currentValue=i,o!==null)if(fr(o.value,i)){if(o.children===s.children&&!bt.current){t=Hr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ur(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lf(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),lf(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ro(t,r),s=qt(s),n=n(s),t.flags|=1,ut(e,t,n,r),t.child;case 14:return n=t.type,s=nr(n,t.pendingProps),s=nr(n.type,s),bg(e,t,n,s,r);case 15:return u0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Ul(e,t),t.tag=1,_t(n)?(e=!0,cc(t)):e=!1,Ro(t,r),a0(t,n,s),uf(t,n,s,r),hf(null,t,n,!0,e,r);case 19:return m0(e,t,r);case 22:return d0(e,t,r)}throw Error(L(156,t.tag))};function j0(e,t){return sw(e,t)}function lC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,n){return new lC(e,t,r,n)}function _p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cC(e){if(typeof e=="function")return _p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bh)return 11;if(e===zh)return 14}return 2}function Ln(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")_p(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ho:return Ts(r.children,s,o,t);case Uh:i=8,s|=8;break;case Ad:return e=Wt(12,r,t,s|2),e.elementType=Ad,e.lanes=o,e;case Id:return e=Wt(13,r,t,s),e.elementType=Id,e.lanes=o,e;case Dd:return e=Wt(19,r,t,s),e.elementType=Dd,e.lanes=o,e;case By:return Yc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fy:i=10;break e;case Uy:i=9;break e;case Bh:i=11;break e;case zh:i=14;break e;case dn:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Wt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ts(e,t,r,n){return e=Wt(7,e,n,t),e.lanes=r,e}function Yc(e,t,r,n){return e=Wt(22,e,n,t),e.elementType=By,e.lanes=r,e.stateNode={isHidden:!1},e}function td(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function rd(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sp(e,t,r,n,s,o,i,a,l){return e=new uC(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(o),e}function dC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O0(e){if(!e)return Bn;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(_t(r))return Ow(e,r,t)}return t}function A0(e,t,r,n,s,o,i,a,l){return e=Sp(r,n,!0,e,s,o,i,a,l),e.context=O0(null),r=e.current,n=ft(),s=Mn(r),o=Ur(n,s),o.callback=t??null,In(r,o,s),e.current.lanes=s,Fa(e,s,n),St(e,n),e}function Qc(e,t,r,n){var s=t.current,o=ft(),i=Mn(s);return r=O0(r),t.context===null?t.context=r:t.pendingContext=r,t=Ur(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=In(s,t,i),e!==null&&(dr(e,s,i,o),Ll(e,s,i)),i}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ep(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function fC(){return null}var I0=typeof reportError=="function"?reportError:function(e){console.error(e)};function kp(e){this._internalRoot=e}Jc.prototype.render=kp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Qc(e,t,null,null)};Jc.prototype.unmount=kp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Os(function(){Qc(null,e,null,null)}),t[Wr]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pn.length&&t!==0&&t<pn[r].priority;r++);pn.splice(r,0,e),r===0&&hw(e)}};function Cp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function hC(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var c=_c(i);o.call(c)}}var i=A0(t,n,e,0,null,!1,!1,"",Ig);return e._reactRootContainer=i,e[Wr]=i.current,ha(e.nodeType===8?e.parentNode:e),Os(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=_c(l);a.call(c)}}var l=Sp(e,0,!1,null,null,!1,!1,"",Ig);return e._reactRootContainer=l,e[Wr]=l.current,ha(e.nodeType===8?e.parentNode:e),Os(function(){Qc(t,l,r,n)}),l}function Zc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=_c(i);a.call(l)}}Qc(t,i,e,s)}else i=hC(r,t,e,s,n);return _c(i)}cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zi(t.pendingLanes);r!==0&&(Hh(t,r|1),St(t,$e()),!(me&6)&&(ei=$e()+500,Yn()))}break;case 13:Os(function(){var n=Vr(e,1);if(n!==null){var s=ft();dr(n,e,1,s)}}),Ep(e,1)}};qh=function(e){if(e.tag===13){var t=Vr(e,134217728);if(t!==null){var r=ft();dr(t,e,134217728,r)}Ep(e,134217728)}};uw=function(e){if(e.tag===13){var t=Mn(e),r=Vr(e,t);if(r!==null){var n=ft();dr(r,e,t,n)}Ep(e,t)}};dw=function(){return be};fw=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Hd=function(e,t,r){switch(t){case"input":if($d(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wc(n);if(!s)throw Error(L(90));Wy(n),$d(n,s)}}}break;case"textarea":Hy(e,r);break;case"select":t=r.value,t!=null&&ko(e,!!r.multiple,t,!1)}};Xy=wp;Zy=Os;var pC={usingClientEntryPoint:!1,Events:[Ba,vo,Wc,Qy,Jy,wp]},Ai={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mC={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Fc=gl.inject(mC),kr=gl}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;Dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cp(t))throw Error(L(200));return dC(e,t,null,r)};Dt.createRoot=function(e,t){if(!Cp(e))throw Error(L(299));var r=!1,n="",s=I0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sp(e,1,!1,null,null,r,!1,n,s),e[Wr]=t.current,ha(e.nodeType===8?e.parentNode:e),new kp(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=rw(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Os(e)};Dt.hydrate=function(e,t,r){if(!Xc(t))throw Error(L(200));return Zc(null,e,t,!0,r)};Dt.hydrateRoot=function(e,t,r){if(!Cp(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=I0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=A0(t,null,e,1,r??null,s,!1,o,i),e[Wr]=t.current,ha(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)};Dt.render=function(e,t,r){if(!Xc(t))throw Error(L(200));return Zc(null,e,t,!1,r)};Dt.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(L(40));return e._reactRootContainer?(Os(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};Dt.unstable_batchedUpdates=wp;Dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Zc(e,t,r,!1,n)};Dt.version="18.3.1-next-f1338f8080-20240426";function D0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D0)}catch(e){console.error(e)}}D0(),Dy.exports=Dt;var Vs=Dy.exports;const M0=Sy(Vs);var L0,Dg=Vs;L0=Dg.createRoot,Dg.hydrateRoot;const gC=1,vC=1e6;let nd=0;function yC(){return nd=(nd+1)%Number.MAX_SAFE_INTEGER,nd.toString()}const sd=new Map,Mg=e=>{if(sd.has(e))return;const t=setTimeout(()=>{sd.delete(e),ra({type:"REMOVE_TOAST",toastId:e})},vC);sd.set(e,t)},wC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Mg(r):e.toasts.forEach(n=>{Mg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vl=[];let Hl={toasts:[]};function ra(e){Hl=wC(Hl,e),Vl.forEach(t=>{t(Hl)})}function xC({...e}){const t=yC(),r=s=>ra({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ra({type:"DISMISS_TOAST",toastId:t});return ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function eu(){const[e,t]=h.useState(Hl);return h.useEffect(()=>(Vl.push(t),()=>{const r=Vl.indexOf(t);r>-1&&Vl.splice(r,1)}),[e]),{...e,toast:xC,dismiss:r=>ra({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Lg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function As(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Lg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Lg(e[s],null)}}}}function he(...e){return h.useCallback(As(...e),e)}function bC(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,l=h.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Yr(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),l=r.length;r=[...r,i];const c=f=>{var w;const{scope:m,children:p,...x}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[l])||a,b=h.useMemo(()=>x,Object.values(x));return u.jsx(g.Provider,{value:b,children:p})};c.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[l])||a,x=h.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,_C(s,...t)]}function _C(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Is(e){const t=EC(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),l=a.find(kC);if(l){const c=l.props.children,d=a.map(f=>f===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:s,children:h.isValidElement(c)?h.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var SC=Is("Slot");function EC(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=TC(s),a=CC(o,s.props);return s.type!==h.Fragment&&(a.ref=n?As(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $0=Symbol("radix.slottable");function F0(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=$0,t}function kC(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$0}function CC(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function TC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tp(e){const t=e+"CollectionProvider",[r,n]=Yr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:w}=g,v=$.useRef(null),y=$.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:y,collectionRef:v,children:w})};i.displayName=t;const a=e+"CollectionSlot",l=Is(a),c=$.forwardRef((g,b)=>{const{scope:w,children:v}=g,y=o(a,w),_=he(b,y.collectionRef);return u.jsx(l,{ref:_,children:v})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Is(d),p=$.forwardRef((g,b)=>{const{scope:w,children:v,...y}=g,_=$.useRef(null),E=he(b,_),S=o(d,w);return $.useEffect(()=>(S.itemMap.set(_,{ref:_,...y}),()=>void S.itemMap.delete(_))),u.jsx(m,{[f]:"",ref:E,children:v})});p.displayName=d;function x(g){const b=o(e+"CollectionConsumer",g);return $.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,k)=>y.indexOf(S.ref.current)-y.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},x,n]}var NC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=NC.reduce((e,t)=>{const r=Is(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function U0(e,t){e&&Vs.flushSync(()=>e.dispatchEvent(t))}function hr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function RC(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PC="DismissableLayer",kf="dismissableLayer.update",jC="dismissableLayer.pointerDownOutside",OC="dismissableLayer.focusOutside",$g,B0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ci=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=h.useContext(B0),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=he(t,k=>f(k)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),v=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,_=v>=w,E=IC(k=>{const T=k.target,A=[...c.branches].some(P=>P.contains(T));!_||A||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},m),S=DC(k=>{const T=k.target;[...c.branches].some(P=>P.contains(T))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},m);return RC(k=>{v===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($g=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Fg(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$g)}},[d,m,r,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Fg())},[d,c]),h.useEffect(()=>{const k=()=>p({});return document.addEventListener(kf,k),()=>document.removeEventListener(kf,k)},[]),u.jsx(se.div,{...l,ref:x,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,S.onFocusCapture),onBlurCapture:X(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,E.onPointerDownCapture)})});ci.displayName=PC;var AC="DismissableLayerBranch",z0=h.forwardRef((e,t)=>{const r=h.useContext(B0),n=h.useRef(null),s=he(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(se.div,{...e,ref:s})});z0.displayName=AC;function IC(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){W0(jC,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function DC(e,t=globalThis==null?void 0:globalThis.document){const r=hr(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&W0(OC,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Fg(){const e=new CustomEvent(kf);document.dispatchEvent(e)}function W0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?U0(s,o):s.dispatchEvent(o)}var MC=ci,LC=z0,et=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},$C="Portal",Wa=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);et(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?M0.createPortal(u.jsx(se.div,{...n,ref:t}),i):null});Wa.displayName=$C;function FC(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Qn=e=>{const{present:t,children:r}=e,n=UC(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=he(n.ref,BC(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Qn.displayName="Presence";function UC(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=FC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=vl(n.current);o.current=a==="mounted"?c:"none"},[a]),et(()=>{const c=n.current,d=s.current;if(d!==e){const m=o.current,p=vl(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),et(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const g=vl(n.current).includes(p.animationName);if(p.target===t&&g&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=vl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function vl(e){return(e==null?void 0:e.animationName)||"none"}function BC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zC=Mh[" useInsertionEffect ".trim().toString()]||et;function ti({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=WC({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=h.useCallback(d=>{var f;if(a){const m=VC(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,e,o,i]);return[l,c]}function WC({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return zC(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function VC(e){return typeof e=="function"}var V0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HC="VisuallyHidden",tu=h.forwardRef((e,t)=>u.jsx(se.span,{...e,ref:t,style:{...V0,...e.style}}));tu.displayName=HC;var qC=tu,Np="ToastProvider",[Rp,KC,GC]=Tp("Toast"),[H0]=Yr("Toast",[GC]),[YC,ru]=H0(Np),q0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=h.useState(null),[c,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Np}\`. Expected non-empty \`string\`.`),u.jsx(Rp.Provider,{scope:t,children:u.jsx(YC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};q0.displayName=Np;var K0="ToastViewport",QC=["F8"],Cf="toast.viewportPause",Tf="toast.viewportResume",G0=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=QC,label:s="Notifications ({hotkey})",...o}=e,i=ru(K0,r),a=KC(r),l=h.useRef(null),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=he(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;h.useEffect(()=>{const b=w=>{var y;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),h.useEffect(()=>{const b=l.current,w=f.current;if(x&&b&&w){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Cf);w.dispatchEvent(S),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Tf);w.dispatchEvent(S),i.isClosePausedRef.current=!1}},_=S=>{!b.contains(S.relatedTarget)&&y()},E=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",v),b.addEventListener("focusout",_),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[x,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:b})=>{const v=a().map(y=>{const _=y.ref.current,E=[_,...cT(_)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return h.useEffect(()=>{const b=f.current;if(b){const w=v=>{var E,S,k;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const T=document.activeElement,A=v.shiftKey;if(v.target===b&&A){(E=c.current)==null||E.focus();return}const j=g({tabbingDirection:A?"backwards":"forwards"}),H=j.findIndex(D=>D===T);od(j.slice(H+1))?v.preventDefault():A?(S=c.current)==null||S.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),u.jsxs(LC,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(Nf,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});od(b)}}),u.jsx(Rp.Slot,{scope:r,children:u.jsx(se.ol,{tabIndex:-1,...o,ref:m})}),x&&u.jsx(Nf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});od(b)}})]})});G0.displayName=K0;var Y0="ToastFocusProxy",Nf=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=ru(Y0,r);return u.jsx(tu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});Nf.displayName=Y0;var Va="Toast",JC="toast.swipeStart",XC="toast.swipeMove",ZC="toast.swipeCancel",eT="toast.swipeEnd",Q0=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=ti({prop:n,defaultProp:s??!0,onChange:o,caller:Va});return u.jsx(Qn,{present:r||a,children:u.jsx(nT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:hr(e.onPause),onResume:hr(e.onResume),onSwipeStart:X(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Q0.displayName=Va;var[tT,rT]=H0(Va,{onClose(){}}),nT=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=ru(Va,r),[b,w]=h.useState(null),v=he(t,D=>w(D)),y=h.useRef(null),_=h.useRef(null),E=s||g.duration,S=h.useRef(0),k=h.useRef(E),T=h.useRef(0),{onToastAdd:A,onToastRemove:P}=g,I=hr(()=>{var G;(b==null?void 0:b.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),i()}),j=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(I,D))},[I]);h.useEffect(()=>{const D=g.viewport;if(D){const G=()=>{j(k.current),c==null||c()},W=()=>{const q=new Date().getTime()-S.current;k.current=k.current-q,window.clearTimeout(T.current),l==null||l()};return D.addEventListener(Cf,W),D.addEventListener(Tf,G),()=>{D.removeEventListener(Cf,W),D.removeEventListener(Tf,G)}}},[g.viewport,E,l,c,j]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&j(E)},[o,E,g.isClosePausedRef,j]),h.useEffect(()=>(A(),()=>P()),[A,P]);const H=h.useMemo(()=>b?nx(b):null,[b]);return g.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(sT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(tT,{scope:r,onClose:I,children:Vs.createPortal(u.jsx(Rp.ItemSlot,{scope:r,children:u.jsx(MC,{asChild:!0,onEscapeKeyDown:X(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:X(e.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:X(e.onPointerMove,D=>{if(!y.current)return;const G=D.clientX-y.current.x,W=D.clientY-y.current.y,q=!!_.current,N=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=N?O(0,G):0,ee=N?0:O(0,W),R=D.pointerType==="touch"?10:2,F={x:z,y:ee},U={originalEvent:D,delta:F};q?(_.current=F,yl(XC,f,U,{discrete:!1})):Ug(F,g.swipeDirection,R)?(_.current=F,yl(JC,d,U,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(G)>R||Math.abs(W)>R)&&(y.current=null)}),onPointerUp:X(e.onPointerUp,D=>{const G=_.current,W=D.target;if(W.hasPointerCapture(D.pointerId)&&W.releasePointerCapture(D.pointerId),_.current=null,y.current=null,G){const q=D.currentTarget,N={originalEvent:D,delta:G};Ug(G,g.swipeDirection,g.swipeThreshold)?yl(eT,p,N,{discrete:!0}):yl(ZC,m,N,{discrete:!0}),q.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),sT=e=>{const{__scopeToast:t,children:r,...n}=e,s=ru(Va,t),[o,i]=h.useState(!1),[a,l]=h.useState(!1);return aT(()=>i(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Wa,{asChild:!0,children:u.jsx(tu,{...n,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},oT="ToastTitle",J0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(se.div,{...n,ref:t})});J0.displayName=oT;var iT="ToastDescription",X0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(se.div,{...n,ref:t})});X0.displayName=iT;var Z0="ToastAction",ex=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?u.jsx(rx,{altText:r,asChild:!0,children:u.jsx(Pp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Z0}\`. Expected non-empty \`string\`.`),null)});ex.displayName=Z0;var tx="ToastClose",Pp=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=rT(tx,r);return u.jsx(rx,{asChild:!0,children:u.jsx(se.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});Pp.displayName=tx;var rx=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return u.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function nx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),lT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...nx(n))}}),t}function yl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?U0(s,o):s.dispatchEvent(o)}var Ug=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function aT(e=()=>{}){const t=hr(e);et(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lT(e){return e.nodeType===e.ELEMENT_NODE}function cT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function od(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uT=q0,sx=G0,ox=Q0,ix=J0,ax=X0,lx=ex,cx=Pp;function ux(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ux(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ux(e))&&(n&&(n+=" "),n+=t);return n}const Bg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zg=dx,nu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return zg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=o==null?void 0:o[c];if(d===null)return null;const m=Bg(d)||Bg(f);return s[c][m]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(x=>{let[g,b]=x;return Array.isArray(b)?b.includes({...o,...a}[g]):{...o,...a}[g]===b})?[...c,f,m]:c},[]);return zg(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>h.createElement("svg",{ref:l,...fT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fx("lucide",s),...a},[...i.map(([c,d])=>h.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(hT,{ref:o,iconNode:t,className:fx(`lucide-${dT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=tt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Op="-",_T=e=>{const t=ET(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(Op);return a[0]===""&&a.length!==1&&a.shift(),vx(a,t)||ST(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},vx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?vx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Op);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Wg=/^\[(.+)\]$/,ST=e=>{if(Wg.test(e)){const t=Wg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ET=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return CT(Object.entries(e.classGroups),r).forEach(([o,i])=>{Pf(i,n,o,t)}),n},Pf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Vg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(kT(s)){Pf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Pf(i,Vg(t,o),r,n)})})},Vg=(e,t)=>{let r=e;return t.split(Op).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kT=e=>e.isThemeGetter,CT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,TT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},yx="!",NT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let w=a[b];if(c===0){if(w===s&&(n||a.slice(b,b+o)===t)){l.push(a.slice(d,b)),d=b+o;continue}if(w==="/"){f=b;continue}}w==="["?c++:w==="]"&&c--}const m=l.length===0?a:a.substring(d),p=m.startsWith(yx),x=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},RT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},PT=e=>({cache:TT(e.cacheSize),parseClassName:NT(e),..._T(e)}),jT=/\s+/,OT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(jT);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(c);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){a=c+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=c+(a.length>0?" "+a:a);continue}x=!1}const b=RT(d).join(":"),w=f?b+yx:b,v=w+g;if(o.includes(v))continue;o.push(v);const y=s(g,x);for(let _=0;_<y.length;++_){const E=y[_];o.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function AT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wx(t))&&(n&&(n+=" "),n+=r);return n}const wx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wx(e[n]))&&(r&&(r+=" "),r+=t);return r};function IT(e,...t){let r,n,s,o=i;function i(l){const c=t.reduce((d,f)=>f(d),e());return r=PT(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=OT(l,r);return s(l,d),d}return function(){return o(AT.apply(null,arguments))}}const Ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},xx=/^\[(?:([a-z-]+):)?(.+)\]$/i,DT=/^\d+\/\d+$/,MT=new Set(["px","full","screen"]),LT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$T=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=e=>jo(e)||MT.has(e)||DT.test(e),on=e=>ui(e,"length",YT),jo=e=>!!e&&!Number.isNaN(Number(e)),id=e=>ui(e,"number",jo),Ii=e=>!!e&&Number.isInteger(Number(e)),zT=e=>e.endsWith("%")&&jo(e.slice(0,-1)),ae=e=>xx.test(e),an=e=>LT.test(e),WT=new Set(["length","size","percentage"]),VT=e=>ui(e,WT,bx),HT=e=>ui(e,"position",bx),qT=new Set(["image","url"]),KT=e=>ui(e,qT,JT),GT=e=>ui(e,"",QT),Di=()=>!0,ui=(e,t,r)=>{const n=xx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},YT=e=>$T.test(e)&&!FT.test(e),bx=()=>!1,QT=e=>UT.test(e),JT=e=>BT.test(e),XT=()=>{const e=Ce("colors"),t=Ce("spacing"),r=Ce("blur"),n=Ce("brightness"),s=Ce("borderColor"),o=Ce("borderRadius"),i=Ce("borderSpacing"),a=Ce("borderWidth"),l=Ce("contrast"),c=Ce("grayscale"),d=Ce("hueRotate"),f=Ce("invert"),m=Ce("gap"),p=Ce("gradientColorStops"),x=Ce("gradientColorStopPositions"),g=Ce("inset"),b=Ce("margin"),w=Ce("opacity"),v=Ce("padding"),y=Ce("saturate"),_=Ce("scale"),E=Ce("sepia"),S=Ce("skew"),k=Ce("space"),T=Ce("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ae,t],j=()=>[ae,t],H=()=>["",jr,on],D=()=>["auto",jo,ae],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ae],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[jo,ae];return{cacheSize:500,separator:":",theme:{colors:[Di],spacing:[jr,on],blur:["none","",an,ae],brightness:ee(),borderColor:[e],borderRadius:["none","","full",an,ae],borderSpacing:j(),borderWidth:H(),contrast:ee(),grayscale:O(),hueRotate:ee(),invert:O(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[zT,on],inset:I(),margin:I(),opacity:ee(),padding:j(),saturate:ee(),scale:ee(),sepia:O(),skew:ee(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ae]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,ae]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ii,ae]}],"grid-cols":[{"grid-cols":[Di]}],"col-start-end":[{col:["auto",{span:["full",Ii,ae]},ae]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Di]}],"row-start-end":[{row:["auto",{span:[Ii,ae]},ae]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",id]}],"font-family":[{font:[Di]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",jo,id]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,on]}],"underline-offset":[{"underline-offset":["auto",jr,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),HT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[jr,ae]}],"outline-w":[{outline:[jr,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[jr,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,GT]}],"shadow-color":[{shadow:[Di]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",an,ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ii,ae]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jr,on,id]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZT=IT(XT);function Q(...e){return ZT(dx(e))}const eN=uT,_x=h.forwardRef(({className:e,...t},r)=>u.jsx(sx,{ref:r,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_x.displayName=sx.displayName;const tN=nu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sx=h.forwardRef(({className:e,variant:t,...r},n)=>u.jsx(ox,{ref:n,className:Q(tN({variant:t}),e),...r}));Sx.displayName=ox.displayName;const rN=h.forwardRef(({className:e,...t},r)=>u.jsx(lx,{ref:r,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));rN.displayName=lx.displayName;const Ex=h.forwardRef(({className:e,...t},r)=>u.jsx(cx,{ref:r,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(ou,{className:"h-4 w-4"})}));Ex.displayName=cx.displayName;const kx=h.forwardRef(({className:e,...t},r)=>u.jsx(ix,{ref:r,className:Q("text-sm font-semibold",e),...t}));kx.displayName=ix.displayName;const Cx=h.forwardRef(({className:e,...t},r)=>u.jsx(ax,{ref:r,className:Q("text-sm opacity-90",e),...t}));Cx.displayName=ax.displayName;function nN(){const{toasts:e}=eu();return u.jsxs(eN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return u.jsxs(Sx,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(kx,{children:r}),n&&u.jsx(Cx,{children:n})]}),s,u.jsx(Ex,{})]},t)}),u.jsx(_x,{})]})}var Hg=["light","dark"],sN="(prefers-color-scheme: dark)",oN=h.createContext(void 0),iN={setTheme:e=>{},themes:[]},aN=()=>{var e;return(e=h.useContext(oN))!=null?e:iN};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Hg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,b=!0)=>{let w=i?i[x]:x,v=g?x+"|| ''":`'${w}'`,y="";return s&&b&&!g&&Hg.includes(x)&&(y+=`d.style.colorScheme = '${x}';`),r==="class"?g||w?y+=`c.add(${v})`:y+="null":w&&(y+=`d[s](n,${v})`),y},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${sN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var lN=e=>{switch(e){case"success":return dN;case"info":return hN;case"warning":return fN;case"error":return pN;default:return null}},cN=Array(12).fill(0),uN=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},cN.map((r,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dN=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fN=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hN=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pN=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mN=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gN=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},jf=1,vN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],$.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(wN(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||jf++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new vN,yN=(e,t)=>{let r=(t==null?void 0:t.id)||jf++;return vt.addToast({title:e,...t,id:r}),r},wN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xN=yN,bN=()=>vt.toasts,_N=()=>vt.getActiveToasts();Object.assign(xN,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:bN,getToasts:_N});function SN(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}SN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wl(e){return e.label!==void 0}var EN=3,kN="32px",CN="16px",qg=4e3,TN=356,NN=14,RN=20,PN=200;function Zt(...e){return e.filter(Boolean).join(" ")}function jN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var ON=e=>{var t,r,n,s,o,i,a,l,c,d,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:b,visibleToasts:w,heights:v,index:y,toasts:_,expanded:E,removeToast:S,defaultRichColors:k,closeButton:T,style:A,cancelButtonStyle:P,actionButtonStyle:I,className:j="",descriptionClassName:H="",duration:D,position:G,gap:W,loadingIcon:q,expandByDefault:N,classNames:O,icons:z,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:R}=e,[F,U]=$.useState(null),[B,te]=$.useState(null),[M,oe]=$.useState(!1),[ce,de]=$.useState(!1),[pe,ge]=$.useState(!1),[rt,Lt]=$.useState(!1),[ts,en]=$.useState(!1),[rs,Ei]=$.useState(0),[Hs,xm]=$.useState(0),ki=$.useRef(p.duration||D||qg),bm=$.useRef(null),ns=$.useRef(null),DE=y===0,ME=y+1<=w,$t=p.type,qs=p.dismissible!==!1,LE=p.className||"",$E=p.descriptionClassName||"",Xa=$.useMemo(()=>v.findIndex(ie=>ie.toastId===p.id)||0,[v,p.id]),FE=$.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:T},[p.closeButton,T]),_m=$.useMemo(()=>p.duration||D||qg,[p.duration,D]),Nu=$.useRef(0),Ks=$.useRef(0),Sm=$.useRef(0),Gs=$.useRef(null),[UE,BE]=G.split("-"),Em=$.useMemo(()=>v.reduce((ie,_e,Re)=>Re>=Xa?ie:ie+_e.height,0),[v,Xa]),km=gN(),zE=p.invert||m,Ru=$t==="loading";Ks.current=$.useMemo(()=>Xa*W+Em,[Xa,Em]),$.useEffect(()=>{ki.current=_m},[_m]),$.useEffect(()=>{oe(!0)},[]),$.useEffect(()=>{let ie=ns.current;if(ie){let _e=ie.getBoundingClientRect().height;return xm(_e),b(Re=>[{toastId:p.id,height:_e,position:p.position},...Re]),()=>b(Re=>Re.filter(Yt=>Yt.toastId!==p.id))}},[b,p.id]),$.useLayoutEffect(()=>{if(!M)return;let ie=ns.current,_e=ie.style.height;ie.style.height="auto";let Re=ie.getBoundingClientRect().height;ie.style.height=_e,xm(Re),b(Yt=>Yt.find(Qt=>Qt.toastId===p.id)?Yt.map(Qt=>Qt.toastId===p.id?{...Qt,height:Re}:Qt):[{toastId:p.id,height:Re,position:p.position},...Yt])},[M,p.title,p.description,b,p.id]);let tn=$.useCallback(()=>{de(!0),Ei(Ks.current),b(ie=>ie.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{S(p)},PN)},[p,S,b,Ks]);$.useEffect(()=>{if(p.promise&&$t==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return E||g||R&&km?(()=>{if(Sm.current<Nu.current){let _e=new Date().getTime()-Nu.current;ki.current=ki.current-_e}Sm.current=new Date().getTime()})():ki.current!==1/0&&(Nu.current=new Date().getTime(),ie=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),tn()},ki.current)),()=>clearTimeout(ie)},[E,g,p,$t,R,km,tn]),$.useEffect(()=>{p.delete&&tn()},[tn,p.delete]);function WE(){var ie,_e,Re;return z!=null&&z.loading?$.createElement("div",{className:Zt(O==null?void 0:O.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":$t==="loading"},z.loading):q?$.createElement("div",{className:Zt(O==null?void 0:O.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":$t==="loading"},q):$.createElement(uN,{className:Zt(O==null?void 0:O.loader,(Re=p==null?void 0:p.classNames)==null?void 0:Re.loader),visible:$t==="loading"})}return $.createElement("li",{tabIndex:0,ref:ns,className:Zt(j,LE,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[$t],(r=p==null?void 0:p.classNames)==null?void 0:r[$t]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":M,"data-promise":!!p.promise,"data-swiped":ts,"data-removed":ce,"data-visible":ME,"data-y-position":UE,"data-x-position":BE,"data-index":y,"data-front":DE,"data-swiping":pe,"data-dismissible":qs,"data-type":$t,"data-invert":zE,"data-swipe-out":rt,"data-swipe-direction":B,"data-expanded":!!(E||N&&M),style:{"--index":y,"--toasts-before":y,"--z-index":_.length-y,"--offset":`${ce?rs:Ks.current}px`,"--initial-height":N?"auto":`${Hs}px`,...A,...p.style},onDragEnd:()=>{ge(!1),U(null),Gs.current=null},onPointerDown:ie=>{Ru||!qs||(bm.current=new Date,Ei(Ks.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(ge(!0),Gs.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,_e,Re,Yt;if(rt||!qs)return;Gs.current=null;let Qt=Number(((ie=ns.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((_e=ns.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ss=new Date().getTime()-((Re=bm.current)==null?void 0:Re.getTime()),Jt=F==="x"?Qt:rn,nn=Math.abs(Jt)/ss;if(Math.abs(Jt)>=RN||nn>.11){Ei(Ks.current),(Yt=p.onDismiss)==null||Yt.call(p,p),te(F==="x"?Qt>0?"right":"left":rn>0?"down":"up"),tn(),Lt(!0),en(!1);return}ge(!1),U(null)},onPointerMove:ie=>{var _e,Re,Yt,Qt;if(!Gs.current||!qs||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let rn=ie.clientY-Gs.current.y,ss=ie.clientX-Gs.current.x,Jt=(Re=e.swipeDirections)!=null?Re:jN(G);!F&&(Math.abs(ss)>1||Math.abs(rn)>1)&&U(Math.abs(ss)>Math.abs(rn)?"x":"y");let nn={x:0,y:0};F==="y"?(Jt.includes("top")||Jt.includes("bottom"))&&(Jt.includes("top")&&rn<0||Jt.includes("bottom")&&rn>0)&&(nn.y=rn):F==="x"&&(Jt.includes("left")||Jt.includes("right"))&&(Jt.includes("left")&&ss<0||Jt.includes("right")&&ss>0)&&(nn.x=ss),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&en(!0),(Yt=ns.current)==null||Yt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(Qt=ns.current)==null||Qt.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},FE&&!p.jsx?$.createElement("button",{"aria-label":ee,"data-disabled":Ru,"data-close-button":!0,onClick:Ru||!qs?()=>{}:()=>{var ie;tn(),(ie=p.onDismiss)==null||ie.call(p,p)},className:Zt(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=z==null?void 0:z.close)!=null?o:mN):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:$.createElement($.Fragment,null,$t||p.icon||p.promise?$.createElement("div",{"data-icon":"",className:Zt(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||WE():null,p.type!=="loading"?p.icon||(z==null?void 0:z[$t])||lN($t):null):null,$.createElement("div",{"data-content":"",className:Zt(O==null?void 0:O.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:Zt(O==null?void 0:O.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?$.createElement("div",{"data-description":"",className:Zt(H,$E,O==null?void 0:O.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&wl(p.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:ie=>{var _e,Re;wl(p.cancel)&&qs&&((Re=(_e=p.cancel).onClick)==null||Re.call(_e,ie),tn())},className:Zt(O==null?void 0:O.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&wl(p.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:ie=>{var _e,Re;wl(p.action)&&((Re=(_e=p.action).onClick)==null||Re.call(_e,ie),!ie.defaultPrevented&&tn())},className:Zt(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Kg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function AN(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?CN:kN;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var IN=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:x=EN,toastOptions:g,dir:b=Kg(),gap:w=NN,loadingIcon:v,icons:y,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E}=e,[S,k]=$.useState([]),T=$.useMemo(()=>Array.from(new Set([n].concat(S.filter(R=>R.position).map(R=>R.position)))),[S,n]),[A,P]=$.useState([]),[I,j]=$.useState(!1),[H,D]=$.useState(!1),[G,W]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=$.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=$.useRef(null),z=$.useRef(!1),ee=$.useCallback(R=>{k(F=>{var U;return(U=F.find(B=>B.id===R.id))!=null&&U.delete||vt.dismiss(R.id),F.filter(({id:B})=>B!==R.id)})},[]);return $.useEffect(()=>vt.subscribe(R=>{if(R.dismiss){k(F=>F.map(U=>U.id===R.id?{...U,delete:!0}:U));return}setTimeout(()=>{M0.flushSync(()=>{k(F=>{let U=F.findIndex(B=>B.id===R.id);return U!==-1?[...F.slice(0,U),{...F[U],...R},...F.slice(U+1)]:[R,...F]})})})}),[]),$.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:F})=>{W(F?"dark":"light")})}catch{R.addListener(({matches:U})=>{try{W(U?"dark":"light")}catch(B){console.error(B)}})}},[d]),$.useEffect(()=>{S.length<=1&&j(!1)},[S]),$.useEffect(()=>{let R=F=>{var U,B;s.every(te=>F[te]||F.code===te)&&(j(!0),(U=q.current)==null||U.focus()),F.code==="Escape"&&(document.activeElement===q.current||(B=q.current)!=null&&B.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[s]),$.useEffect(()=>{if(q.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,z.current=!1)}},[q.current]),$.createElement("section",{ref:t,"aria-label":`${_} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((R,F)=>{var U;let[B,te]=R.split("-");return S.length?$.createElement("ol",{key:R,dir:b==="auto"?Kg():b,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":B,"data-lifted":I&&S.length>1&&!o,"data-x-position":te,style:{"--front-toast-height":`${((U=A[0])==null?void 0:U.height)||0}px`,"--width":`${TN}px`,"--gap":`${w}px`,...p,...AN(l,c)},onBlur:M=>{z.current&&!M.currentTarget.contains(M.relatedTarget)&&(z.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||z.current||(z.current=!0,O.current=M.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{H||j(!1)},onDragEnd:()=>j(!1),onPointerDown:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},S.filter(M=>!M.position&&F===0||M.position===R).map((M,oe)=>{var ce,de;return $.createElement(ON,{key:M.id,icons:y,index:oe,toast:M,defaultRichColors:f,duration:(ce=g==null?void 0:g.duration)!=null?ce:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:i,interacting:H,position:R,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:S.filter(pe=>pe.position==M.position),heights:A.filter(pe=>pe.position==M.position),setHeights:P,expandByDefault:o,gap:w,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const DN=({...e})=>{const{theme:t="system"}=aN();return u.jsx(IN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var MN=Mh[" useId ".trim().toString()]||(()=>{}),LN=0;function Ot(e){const[t,r]=h.useState(MN());return et(()=>{r(n=>n??String(LN++))},[e]),t?`radix-${t}`:""}const $N=["top","right","bottom","left"],zn=Math.min,Tt=Math.max,Sc=Math.round,xl=Math.floor,Tr=e=>({x:e,y:e}),FN={left:"right",right:"left",bottom:"top",top:"bottom"},UN={start:"end",end:"start"};function Of(e,t,r){return Tt(e,zn(t,r))}function qr(e,t){return typeof e=="function"?e(t):e}function Kr(e){return e.split("-")[0]}function di(e){return e.split("-")[1]}function Ap(e){return e==="x"?"y":"x"}function Ip(e){return e==="y"?"height":"width"}const BN=new Set(["top","bottom"]);function Er(e){return BN.has(Kr(e))?"y":"x"}function Dp(e){return Ap(Er(e))}function zN(e,t,r){r===void 0&&(r=!1);const n=di(e),s=Dp(e),o=Ip(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ec(i)),[i,Ec(i)]}function WN(e){const t=Ec(e);return[Af(e),t,Af(t)]}function Af(e){return e.replace(/start|end/g,t=>UN[t])}const Gg=["left","right"],Yg=["right","left"],VN=["top","bottom"],HN=["bottom","top"];function qN(e,t,r){switch(e){case"top":case"bottom":return r?t?Yg:Gg:t?Gg:Yg;case"left":case"right":return t?VN:HN;default:return[]}}function KN(e,t,r,n){const s=di(e);let o=qN(Kr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Af)))),o}function Ec(e){return e.replace(/left|right|bottom|top/g,t=>FN[t])}function GN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tx(e){return typeof e!="number"?GN(e):{top:e,right:e,bottom:e,left:e}}function kc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Qg(e,t,r){let{reference:n,floating:s}=e;const o=Er(t),i=Dp(t),a=Ip(i),l=Kr(t),c=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(di(t)){case"start":p[i]-=m*(r&&c?-1:1);break;case"end":p[i]+=m*(r&&c?-1:1);break}return p}const YN=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Qg(c,n,l),m=n,p={},x=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x:v,y,data:_,reset:E}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});d=v??d,f=y??f,p={...p,[b]:{...p[b],..._}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=Qg(c,m,l)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function _a(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=qr(t,e),x=Tx(p),b=a[m?f==="floating"?"reference":"floating":f],w=kc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},E=kc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(w.top-E.top+x.top)/_.y,bottom:(E.bottom-w.bottom+x.bottom)/_.y,left:(w.left-E.left+x.left)/_.x,right:(E.right-w.right+x.right)/_.x}}const QN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=qr(e,t)||{};if(c==null)return{};const f=Tx(d),m={x:r,y:n},p=Dp(s),x=Ip(p),g=await i.getDimensions(c),b=p==="y",w=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",_=o.reference[x]+o.reference[p]-m[p]-o.floating[x],E=m[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=S?S[y]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=a.floating[y]||o.floating[x]);const T=_/2-E/2,A=k/2-g[x]/2-1,P=zn(f[w],A),I=zn(f[v],A),j=P,H=k-g[x]-I,D=k/2-g[x]/2+T,G=Of(j,D,H),W=!l.arrow&&di(s)!=null&&D!==G&&o.reference[x]/2-(D<j?P:I)-g[x]/2<0,q=W?D<j?D-j:D-H:0;return{[p]:m[p]+q,data:{[p]:G,centerOffset:D-G-q,...W&&{alignmentOffset:q}},reset:W}}}),JN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...b}=qr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Kr(s),v=Er(a),y=Kr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=m||(y||!g?[Ec(a)]:WN(a)),S=x!=="none";!m&&S&&E.push(...KN(a,g,x,_));const k=[a,...E],T=await _a(t,b),A=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&A.push(T[w]),f){const D=zN(s,i,_);A.push(T[D[0]],T[D[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(D=>D<=0)){var I,j;const D=(((I=o.flip)==null?void 0:I.index)||0)+1,G=k[D];if(G&&(!(f==="alignment"?v!==Er(G):!1)||P.every(N=>N.overflows[0]>0&&Er(N.placement)===v)))return{data:{index:D,overflows:P},reset:{placement:G}};let W=(j=P.filter(q=>q.overflows[0]<=0).sort((q,N)=>q.overflows[1]-N.overflows[1])[0])==null?void 0:j.placement;if(!W)switch(p){case"bestFit":{var H;const q=(H=P.filter(N=>{if(S){const O=Er(N.placement);return O===v||O==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(O=>O>0).reduce((O,z)=>O+z,0)]).sort((N,O)=>N[1]-O[1])[0])==null?void 0:H[0];q&&(W=q);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Jg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xg(e){return $N.some(t=>e[t]>=0)}const XN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=qr(e,t);switch(n){case"referenceHidden":{const o=await _a(t,{...s,elementContext:"reference"}),i=Jg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xg(i)}}}case"escaped":{const o=await _a(t,{...s,altBoundary:!0}),i=Jg(o,r.floating);return{data:{escapedOffsets:i,escaped:Xg(i)}}}default:return{}}}}},Nx=new Set(["left","top"]);async function ZN(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Kr(r),a=di(r),l=Er(r)==="y",c=Nx.has(i)?-1:1,d=o&&l?-1:1,f=qr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(p=a==="end"?x*-1:x),l?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const eR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await ZN(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},tR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:w,y:v}=b;return{x:w,y:v}}},...l}=qr(e,t),c={x:r,y:n},d=await _a(t,l),f=Er(Kr(s)),m=Ap(f);let p=c[m],x=c[f];if(o){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=p+d[b],y=p-d[w];p=Of(v,p,y)}if(i){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=x+d[b],y=x-d[w];x=Of(v,x,y)}const g=a.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},rR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qr(e,t),d={x:r,y:n},f=Er(s),m=Ap(f);let p=d[m],x=d[f];const g=qr(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=m==="y"?"height":"width",_=o.reference[m]-o.floating[y]+b.mainAxis,E=o.reference[m]+o.reference[y]-b.mainAxis;p<_?p=_:p>E&&(p=E)}if(c){var w,v;const y=m==="y"?"width":"height",_=Nx.has(Kr(s)),E=o.reference[f]-o.floating[y]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:b.crossAxis),S=o.reference[f]+o.reference[y]+(_?0:((v=i.offset)==null?void 0:v[f])||0)-(_?b.crossAxis:0);x<E?x=E:x>S&&(x=S)}return{[m]:p,[f]:x}}}},nR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=qr(e,t),d=await _a(t,c),f=Kr(s),m=di(s),p=Er(s)==="y",{width:x,height:g}=o.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=m==="end"?"top":"bottom");const v=g-d.top-d.bottom,y=x-d.left-d.right,_=zn(g-d[b],v),E=zn(x-d[w],y),S=!t.middlewareData.shift;let k=_,T=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=v),S&&!m){const P=Tt(d.left,0),I=Tt(d.right,0),j=Tt(d.top,0),H=Tt(d.bottom,0);p?T=x-2*(P!==0||I!==0?P+I:Tt(d.left,d.right)):k=g-2*(j!==0||H!==0?j+H:Tt(d.top,d.bottom))}await l({...t,availableWidth:T,availableHeight:k});const A=await i.getDimensions(a.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function iu(){return typeof window<"u"}function fi(e){return Rx(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rr(e){var t;return(t=(Rx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rx(e){return iu()?e instanceof Node||e instanceof At(e).Node:!1}function pr(e){return iu()?e instanceof Element||e instanceof At(e).Element:!1}function Nr(e){return iu()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function Zg(e){return!iu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}const sR=new Set(["inline","contents"]);function Ha(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!sR.has(s)}const oR=new Set(["table","td","th"]);function iR(e){return oR.has(fi(e))}const aR=[":popover-open",":modal"];function au(e){return aR.some(t=>{try{return e.matches(t)}catch{return!1}})}const lR=["transform","translate","scale","rotate","perspective"],cR=["transform","translate","scale","rotate","perspective","filter"],uR=["paint","layout","strict","content"];function Mp(e){const t=Lp(),r=pr(e)?mr(e):e;return lR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||cR.some(n=>(r.willChange||"").includes(n))||uR.some(n=>(r.contain||"").includes(n))}function dR(e){let t=Wn(e);for(;Nr(t)&&!ni(t);){if(Mp(t))return t;if(au(t))return null;t=Wn(t)}return null}function Lp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fR=new Set(["html","body","#document"]);function ni(e){return fR.has(fi(e))}function mr(e){return At(e).getComputedStyle(e)}function lu(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wn(e){if(fi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zg(e)&&e.host||Rr(e);return Zg(t)?t.host:t}function Px(e){const t=Wn(e);return ni(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nr(t)&&Ha(t)?t:Px(t)}function Sa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Px(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=At(s);if(o){const a=If(i);return t.concat(i,i.visualViewport||[],Ha(s)?s:[],a&&r?Sa(a):[])}return t.concat(s,Sa(s,[],r))}function If(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jx(e){const t=mr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Nr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=Sc(r)!==o||Sc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function $p(e){return pr(e)?e:e.contextElement}function Oo(e){const t=$p(e);if(!Nr(t))return Tr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=jx(t);let i=(o?Sc(r.width):r.width)/n,a=(o?Sc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const hR=Tr(0);function Ox(e){const t=At(e);return!Lp()||!t.visualViewport?hR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==At(e)?!1:t}function Ds(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=$p(e);let i=Tr(1);t&&(n?pr(n)&&(i=Oo(n)):i=Oo(e));const a=pR(o,r,n)?Ox(o):Tr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=At(o),p=n&&pr(n)?At(n):n;let x=m,g=If(x);for(;g&&n&&p!==x;){const b=Oo(g),w=g.getBoundingClientRect(),v=mr(g),y=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=y,c+=_,x=At(g),g=If(x)}}return kc({width:d,height:f,x:l,y:c})}function Fp(e,t){const r=lu(e).scrollLeft;return t?t.left+r:Ds(Rr(e)).left+r}function Ax(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Fp(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function mR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Rr(n),a=t?au(t.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Tr(1);const d=Tr(0),f=Nr(n);if((f||!f&&!o)&&((fi(n)!=="body"||Ha(i))&&(l=lu(n)),Nr(n))){const p=Ds(n);c=Oo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?Ax(i,l,!0):Tr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}}function gR(e){return Array.from(e.getClientRects())}function vR(e){const t=Rr(e),r=lu(e),n=e.ownerDocument.body,s=Tt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Tt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Fp(e);const a=-r.scrollTop;return mr(n).direction==="rtl"&&(i+=Tt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function yR(e,t){const r=At(e),n=Rr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=Lp();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const wR=new Set(["absolute","fixed"]);function xR(e,t){const r=Ds(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Nr(e)?Oo(e):Tr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function ev(e,t,r){let n;if(t==="viewport")n=yR(e,r);else if(t==="document")n=vR(Rr(e));else if(pr(t))n=xR(t,r);else{const s=Ox(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return kc(n)}function Ix(e,t){const r=Wn(e);return r===t||!pr(r)||ni(r)?!1:mr(r).position==="fixed"||Ix(r,t)}function bR(e,t){const r=t.get(e);if(r)return r;let n=Sa(e,[],!1).filter(a=>pr(a)&&fi(a)!=="body"),s=null;const o=mr(e).position==="fixed";let i=o?Wn(e):e;for(;pr(i)&&!ni(i);){const a=mr(i),l=Mp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&wR.has(s.position)||Ha(i)&&!l&&Ix(e,i))?n=n.filter(d=>d!==i):s=a,i=Wn(i)}return t.set(e,n),n}function _R(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?au(t)?[]:bR(t,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,d)=>{const f=ev(t,d,s);return c.top=Tt(f.top,c.top),c.right=zn(f.right,c.right),c.bottom=zn(f.bottom,c.bottom),c.left=Tt(f.left,c.left),c},ev(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function SR(e){const{width:t,height:r}=jx(e);return{width:t,height:r}}function ER(e,t,r){const n=Nr(t),s=Rr(t),o=r==="fixed",i=Ds(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Tr(0);function c(){l.x=Fp(s)}if(n||!n&&!o)if((fi(t)!=="body"||Ha(s))&&(a=lu(t)),n){const p=Ds(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&c();o&&!n&&s&&c();const d=s&&!n&&!o?Ax(s,a):Tr(0),f=i.left+a.scrollLeft-l.x-d.x,m=i.top+a.scrollTop-l.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function ad(e){return mr(e).position==="static"}function tv(e,t){if(!Nr(e)||mr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Rr(e)===r&&(r=r.ownerDocument.body),r}function Dx(e,t){const r=At(e);if(au(e))return r;if(!Nr(e)){let s=Wn(e);for(;s&&!ni(s);){if(pr(s)&&!ad(s))return s;s=Wn(s)}return r}let n=tv(e,t);for(;n&&iR(n)&&ad(n);)n=tv(n,t);return n&&ni(n)&&ad(n)&&!Mp(n)?r:n||dR(e)||r}const kR=async function(e){const t=this.getOffsetParent||Dx,r=this.getDimensions,n=await r(e.floating);return{reference:ER(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function CR(e){return mr(e).direction==="rtl"}const TR={convertOffsetParentRelativeRectToViewportRelativeRect:mR,getDocumentElement:Rr,getClippingRect:_R,getOffsetParent:Dx,getElementRects:kR,getClientRects:gR,getDimensions:SR,getScale:Oo,isElement:pr,isRTL:CR};function Mx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NR(e,t){let r=null,n;const s=Rr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(a||t(),!m||!p)return;const x=xl(f),g=xl(s.clientWidth-(d+m)),b=xl(s.clientHeight-(f+p)),w=xl(d),y={rootMargin:-x+"px "+-g+"px "+-b+"px "+-w+"px",threshold:Tt(0,zn(1,l))||1};let _=!0;function E(S){const k=S[0].intersectionRatio;if(k!==l){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Mx(c,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(E,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,y)}r.observe(e)}return i(!0),o}function RR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=$p(e),d=s||o?[...c?Sa(c):[],...Sa(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=c&&a?NR(c,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let x,g=l?Ds(e):null;l&&b();function b(){const w=Ds(e);g&&!Mx(g,w)&&r(),g=w,x=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const PR=eR,jR=tR,OR=JN,AR=nR,IR=XN,rv=QN,DR=rR,MR=(e,t,r)=>{const n=new Map,s={platform:TR,...r},o={...s.platform,_c:n};return YN(e,t,{...s,platform:o})};var LR=typeof document<"u",$R=function(){},ql=LR?h.useLayoutEffect:$R;function Cc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Cc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Cc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Lx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nv(e,t){const r=Lx(e);return Math.round(t*r)/r}function ld(e){const t=h.useRef(e);return ql(()=>{t.current=e}),t}function FR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);Cc(m,n)||p(n);const[x,g]=h.useState(null),[b,w]=h.useState(null),v=h.useCallback(N=>{N!==S.current&&(S.current=N,g(N))},[]),y=h.useCallback(N=>{N!==k.current&&(k.current=N,w(N))},[]),_=o||x,E=i||b,S=h.useRef(null),k=h.useRef(null),T=h.useRef(d),A=l!=null,P=ld(l),I=ld(s),j=ld(c),H=h.useCallback(()=>{if(!S.current||!k.current)return;const N={placement:t,strategy:r,middleware:m};I.current&&(N.platform=I.current),MR(S.current,k.current,N).then(O=>{const z={...O,isPositioned:j.current!==!1};D.current&&!Cc(T.current,z)&&(T.current=z,Vs.flushSync(()=>{f(z)}))})},[m,t,r,I,j]);ql(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[c]);const D=h.useRef(!1);ql(()=>(D.current=!0,()=>{D.current=!1}),[]),ql(()=>{if(_&&(S.current=_),E&&(k.current=E),_&&E){if(P.current)return P.current(_,E,H);H()}},[_,E,H,P,A]);const G=h.useMemo(()=>({reference:S,floating:k,setReference:v,setFloating:y}),[v,y]),W=h.useMemo(()=>({reference:_,floating:E}),[_,E]),q=h.useMemo(()=>{const N={position:r,left:0,top:0};if(!W.floating)return N;const O=nv(W.floating,d.x),z=nv(W.floating,d.y);return a?{...N,transform:"translate("+O+"px, "+z+"px)",...Lx(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:z}},[r,a,W.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:H,refs:G,elements:W,floatingStyles:q}),[d,H,G,W,q])}const UR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rv({element:n.current,padding:s}).fn(r):{}:n?rv({element:n,padding:s}).fn(r):{}}}},BR=(e,t)=>({...PR(e),options:[e,t]}),zR=(e,t)=>({...jR(e),options:[e,t]}),WR=(e,t)=>({...DR(e),options:[e,t]}),VR=(e,t)=>({...OR(e),options:[e,t]}),HR=(e,t)=>({...AR(e),options:[e,t]}),qR=(e,t)=>({...IR(e),options:[e,t]}),KR=(e,t)=>({...UR(e),options:[e,t]});var GR="Arrow",$x=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return u.jsx(se.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});$x.displayName=GR;var YR=$x;function Fx(e){const[t,r]=h.useState(void 0);return et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Up="Popper",[Ux,hi]=Yr(Up),[QR,Bx]=Ux(Up),zx=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return u.jsx(QR,{scope:t,anchor:n,onAnchorChange:s,children:r})};zx.displayName=Up;var Wx="PopperAnchor",Vx=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Bx(Wx,r),i=h.useRef(null),a=he(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:u.jsx(se.div,{...s,ref:a})});Vx.displayName=Wx;var Bp="PopperContent",[JR,XR]=Ux(Bp),Hx=h.forwardRef((e,t)=>{var M,oe,ce,de,pe,ge;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,b=Bx(Bp,r),[w,v]=h.useState(null),y=he(t,rt=>v(rt)),[_,E]=h.useState(null),S=Fx(_),k=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,A=n+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],j=I.length>0,H={padding:P,boundary:I.filter(eP),altBoundary:j},{refs:D,floatingStyles:G,placement:W,isPositioned:q,middlewareData:N}=FR({strategy:"fixed",placement:A,whileElementsMounted:(...rt)=>RR(...rt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[BR({mainAxis:s+T,alignmentAxis:i}),l&&zR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WR():void 0,...H}),l&&VR({...H}),HR({...H,apply:({elements:rt,rects:Lt,availableWidth:ts,availableHeight:en})=>{const{width:rs,height:Ei}=Lt.reference,Hs=rt.floating.style;Hs.setProperty("--radix-popper-available-width",`${ts}px`),Hs.setProperty("--radix-popper-available-height",`${en}px`),Hs.setProperty("--radix-popper-anchor-width",`${rs}px`),Hs.setProperty("--radix-popper-anchor-height",`${Ei}px`)}}),_&&KR({element:_,padding:a}),tP({arrowWidth:k,arrowHeight:T}),m&&qR({strategy:"referenceHidden",...H})]}),[O,z]=Gx(W),ee=hr(x);et(()=>{q&&(ee==null||ee())},[q,ee]);const R=(M=N.arrow)==null?void 0:M.x,F=(oe=N.arrow)==null?void 0:oe.y,U=((ce=N.arrow)==null?void 0:ce.centerOffset)!==0,[B,te]=h.useState();return et(()=>{w&&te(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(de=N.transformOrigin)==null?void 0:de.x,(pe=N.transformOrigin)==null?void 0:pe.y].join(" "),...((ge=N.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(JR,{scope:r,placedSide:O,onArrowChange:E,arrowX:R,arrowY:F,shouldHideArrow:U,children:u.jsx(se.div,{"data-side":O,"data-align":z,...g,ref:y,style:{...g.style,animation:q?void 0:"none"}})})})});Hx.displayName=Bp;var qx="PopperArrow",ZR={top:"bottom",right:"left",bottom:"top",left:"right"},Kx=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=XR(qx,n),i=ZR[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(YR,{...s,ref:r,style:{...s.style,display:"block"}})})});Kx.displayName=qx;function eP(e){return e!==null}var tP=e=>({name:"transformOrigin",options:e,fn(t){var b,w,v;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=Gx(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let x="",g="";return c==="bottom"?(x=i?f:`${m}px`,g=`${-l}px`):c==="top"?(x=i?f:`${m}px`,g=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,g=i?f:`${p}px`):c==="left"&&(x=`${n.floating.width+l}px`,g=i?f:`${p}px`),{data:{x,y:g}}}});function Gx(e){const[t,r="center"]=e.split("-");return[t,r]}var Yx=zx,cu=Vx,zp=Hx,Wp=Kx,[uu]=Yr("Tooltip",[hi]),Vp=hi(),Qx="TooltipProvider",rP=700,sv="tooltip.open",[nP,Jx]=uu(Qx),Xx=e=>{const{__scopeTooltip:t,delayDuration:r=rP,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),l=h.useRef(0);return h.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(nP,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};Xx.displayName=Qx;var Zx="Tooltip",[xF,du]=uu(Zx),Df="TooltipTrigger",sP=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=du(Df,r),o=Jx(Df,r),i=Vp(r),a=h.useRef(null),l=he(t,a,s.onTriggerChange),c=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(cu,{asChild:!0,...i,children:u.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:X(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:X(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:X(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:X(e.onBlur,s.onClose),onClick:X(e.onClick,s.onClose)})})});sP.displayName=Df;var oP="TooltipPortal",[bF,iP]=uu(oP,{forceMount:void 0}),si="TooltipContent",eb=h.forwardRef((e,t)=>{const r=iP(si,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=du(si,e.__scopeTooltip);return u.jsx(Qn,{present:n||i.open,children:i.disableHoverableContent?u.jsx(tb,{side:s,...o,ref:t}):u.jsx(aP,{side:s,...o,ref:t})})}),aP=h.forwardRef((e,t)=>{const r=du(si,e.__scopeTooltip),n=Jx(si,e.__scopeTooltip),s=h.useRef(null),o=he(t,s),[i,a]=h.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const b=x.currentTarget,w={x:x.clientX,y:x.clientY},v=fP(w,b.getBoundingClientRect()),y=hP(w,v),_=pP(g.getBoundingClientRect()),E=gP([...y,..._]);a(E),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(l&&d){const x=b=>p(b,d),g=b=>p(b,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,p,m]),h.useEffect(()=>{if(i){const x=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),y=!mP(w,i);v?m():y&&(m(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,i,c,m]),u.jsx(tb,{...e,ref:o})}),[lP,cP]=uu(Zx,{isInside:!1}),uP=F0("TooltipContent"),tb=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=du(si,r),c=Vp(r),{onClose:d}=l;return h.useEffect(()=>(document.addEventListener(sv,d),()=>document.removeEventListener(sv,d)),[d]),h.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(zp,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(uP,{children:n}),u.jsx(lP,{scope:r,isInside:!0,children:u.jsx(qC,{id:l.contentId,role:"tooltip",children:s||n})})]})})});eb.displayName=si;var rb="TooltipArrow",dP=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Vp(r);return cP(rb,r).isInside?null:u.jsx(Wp,{...s,...n,ref:t})});dP.displayName=rb;function fP(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hP(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function pP(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function mP(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,m=l.y;d>n!=m>n&&r<(f-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function gP(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vP(t)}function vP(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var yP=Xx,nb=eb;const wP=yP,xP=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(nb,{ref:n,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));xP.displayName=nb.displayName;var pi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ms=typeof window>"u"||"Deno"in globalThis;function dt(){}function bP(e,t){return typeof e=="function"?e(t):e}function Mf(e){return typeof e=="number"&&e>=0&&e!==1/0}function sb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $n(e,t){return typeof e=="function"?e(t):e}function Ut(e,t){return typeof e=="function"?e(t):e}function ov(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Hp(i,t.options))return!1}else if(!Ea(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function iv(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ls(t.options.mutationKey)!==Ls(o))return!1}else if(!Ea(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Hp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ls)(e)}function Ls(e){return JSON.stringify(e,(t,r)=>Lf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ea(e[r],t[r])):!1}function ob(e,t){if(e===t)return e;const r=av(e)&&av(t);if(r||Lf(e)&&Lf(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=ob(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Tc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function av(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lf(e){if(!lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function _P(e){return new Promise(t=>{setTimeout(t,e)})}function $f(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ob(e,t):t}function SP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function EP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qp=Symbol();function ib(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ab(e,t){return typeof e=="function"?e(...t):!!e}var vs,vn,Mo,hy,kP=(hy=class extends pi{constructor(){super();J(this,vs);J(this,vn);J(this,Mo);V(this,Mo,t=>{if(!Ms&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,vn)||this.setEventListener(C(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,vn))==null||t.call(this),V(this,vn,void 0))}setEventListener(t){var r;V(this,Mo,t),(r=C(this,vn))==null||r.call(this),V(this,vn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,vs)!==t&&(V(this,vs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,vs)=="boolean"?C(this,vs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vs=new WeakMap,vn=new WeakMap,Mo=new WeakMap,hy),Kp=new kP,Lo,yn,$o,py,CP=(py=class extends pi{constructor(){super();J(this,Lo,!0);J(this,yn);J(this,$o);V(this,$o,t=>{if(!Ms&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,yn)||this.setEventListener(C(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,yn))==null||t.call(this),V(this,yn,void 0))}setEventListener(t){var r;V(this,$o,t),(r=C(this,yn))==null||r.call(this),V(this,yn,t(this.setOnline.bind(this)))}setOnline(t){C(this,Lo)!==t&&(V(this,Lo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Lo)}},Lo=new WeakMap,yn=new WeakMap,$o=new WeakMap,py),Nc=new CP;function Ff(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function TP(e){return Math.min(1e3*2**e,3e4)}function lb(e){return(e??"online")==="online"?Nc.isOnline():!0}var cb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cd(e){return e instanceof cb}function ub(e){let t=!1,r=0,n=!1,s;const o=Ff(),i=g=>{var b;n||(m(new cb(g)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Kp.isFocused()&&(e.networkMode==="always"||Nc.isOnline())&&e.canRun(),d=()=>lb(e.networkMode)&&e.canRun(),f=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var b;s=w=>{(n||c())&&g(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var S;if(n)return;const v=e.retry??(Ms?0:3),y=e.retryDelay??TP,_=typeof y=="function"?y(r,w):y,E=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,w);if(t||!E){m(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),_P(_).then(()=>c()?void 0:p()).then(()=>{t?m(w):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():p().then(x),o)}}var NP=e=>setTimeout(e,0);function RP(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=NP;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var He=RP(),ys,my,db=(my=class{constructor(){J(this,ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mf(this.gcTime)&&V(this,ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ms?1/0:5*60*1e3))}clearGcTimeout(){C(this,ys)&&(clearTimeout(C(this,ys)),V(this,ys,void 0))}},ys=new WeakMap,my),Fo,ws,Ft,xs,ot,Ia,bs,or,Or,gy,PP=(gy=class extends db{constructor(t){super();J(this,or);J(this,Fo);J(this,ws);J(this,Ft);J(this,xs);J(this,ot);J(this,Ia);J(this,bs);V(this,bs,!1),V(this,Ia,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,xs,t.client),V(this,Ft,C(this,xs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,Fo,jP(this.options)),this.state=t.state??C(this,Fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,ot))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Ia),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Ft).remove(this)}setData(t,r){const n=$f(this.state.data,t,this.options);return le(this,or,Or).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){le(this,or,Or).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,ot))==null?void 0:n.promise;return(s=C(this,ot))==null||s.cancel(t),r?r.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Fo))}isActive(){return this.observers.some(t=>Ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$n(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!sb(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Ft).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,ot)&&(C(this,bs)?C(this,ot).cancel({revert:!0}):C(this,ot).cancelRetry()),this.scheduleGc()),C(this,Ft).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,or,Or).call(this,{type:"invalidate"})}fetch(t,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,ot))return C(this,ot).continueRetry(),C(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(V(this,bs,!0),n.signal)})},o=()=>{const m=ib(this.options,r),x=(()=>{const g={client:C(this,xs),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return V(this,bs,!1),this.options.persister?this.options.persister(m,x,this):m(x)},a=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,xs),state:this.state,fetchFn:o};return s(m),m})();(c=this.options.behavior)==null||c.onFetch(a,this),V(this,ws,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&le(this,or,Or).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var p,x,g,b;cd(m)&&m.silent||le(this,or,Or).call(this,{type:"error",error:m}),cd(m)||((x=(p=C(this,Ft).config).onError)==null||x.call(p,m,this),(b=(g=C(this,Ft).config).onSettled)==null||b.call(g,this.state.data,m,this)),this.scheduleGc()};return V(this,ot,ub({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,x,g,b;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){l(w);return}(x=(p=C(this,Ft).config).onSuccess)==null||x.call(p,m,this),(b=(g=C(this,Ft).config).onSettled)==null||b.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,p)=>{le(this,or,Or).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{le(this,or,Or).call(this,{type:"pause"})},onContinue:()=>{le(this,or,Or).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),C(this,ot).start()}},Fo=new WeakMap,ws=new WeakMap,Ft=new WeakMap,xs=new WeakMap,ot=new WeakMap,Ia=new WeakMap,bs=new WeakMap,or=new WeakSet,Or=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fb(n.data,this.options),fetchMeta:t.meta??null};case"success":return V(this,ws,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return cd(s)&&s.revert&&C(this,ws)?{...C(this,ws),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),He.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Ft).notify({query:this,type:"updated",action:t})})},gy);function fb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wr,vy,OP=(vy=class extends pi{constructor(t={}){super();J(this,wr);this.config=t,V(this,wr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Hp(s,r);let i=this.get(o);return i||(i=new PP({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){C(this,wr).has(t.queryHash)||(C(this,wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,wr).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){He.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,wr).get(t)}getAll(){return[...C(this,wr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ov(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ov(t,n)):r}notify(t){He.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){He.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wr=new WeakMap,vy),xr,lt,_s,br,cn,yy,AP=(yy=class extends db{constructor(t){super();J(this,br);J(this,xr);J(this,lt);J(this,_s);this.mutationId=t.mutationId,V(this,lt,t.mutationCache),V(this,xr,[]),this.state=t.state||hb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,xr).includes(t)||(C(this,xr).push(t),this.clearGcTimeout(),C(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,xr,C(this,xr).filter(r=>r!==t)),this.scheduleGc(),C(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,xr).length||(this.state.status==="pending"?this.scheduleGc():C(this,lt).remove(this))}continue(){var t;return((t=C(this,_s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,d,f,m,p,x,g,b,w,v,y,_,E,S,k,T;const r=()=>{le(this,br,cn).call(this,{type:"continue"})};V(this,_s,ub({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{le(this,br,cn).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{le(this,br,cn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,lt).canRun(this)}));const n=this.state.status==="pending",s=!C(this,_s).canStart();try{if(n)r();else{le(this,br,cn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=C(this,lt).config).onMutate)==null?void 0:i.call(o,t,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));P!==this.state.context&&le(this,br,cn).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const A=await C(this,_s).start();return await((d=(c=C(this,lt).config).onSuccess)==null?void 0:d.call(c,A,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,t,this.state.context)),await((x=(p=C(this,lt).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,A,null,t,this.state.context)),le(this,br,cn).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(w=C(this,lt).config).onError)==null?void 0:v.call(w,A,t,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,A,t,this.state.context)),await((S=(E=C(this,lt).config).onSettled)==null?void 0:S.call(E,void 0,A,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,A,t,this.state.context)),A}finally{le(this,br,cn).call(this,{type:"error",error:A})}}finally{C(this,lt).runNext(this)}}},xr=new WeakMap,lt=new WeakMap,_s=new WeakMap,br=new WeakSet,cn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),He.batch(()=>{C(this,xr).forEach(n=>{n.onMutationUpdate(t)}),C(this,lt).notify({mutation:this,type:"updated",action:t})})},yy);function hb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mr,ir,Da,wy,IP=(wy=class extends pi{constructor(t={}){super();J(this,Mr);J(this,ir);J(this,Da);this.config=t,V(this,Mr,new Set),V(this,ir,new Map),V(this,Da,0)}build(t,r,n){const s=new AP({mutationCache:this,mutationId:++Za(this,Da)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,Mr).add(t);const r=bl(t);if(typeof r=="string"){const n=C(this,ir).get(r);n?n.push(t):C(this,ir).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Mr).delete(t)){const r=bl(t);if(typeof r=="string"){const n=C(this,ir).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,ir).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=bl(t);if(typeof r=="string"){const n=C(this,ir).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=bl(t);if(typeof r=="string"){const s=(n=C(this,ir).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){He.batch(()=>{C(this,Mr).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Mr).clear(),C(this,ir).clear()})}getAll(){return Array.from(C(this,Mr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iv(r,n))}findAll(t={}){return this.getAll().filter(r=>iv(t,r))}notify(t){He.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return He.batch(()=>Promise.all(t.map(r=>r.continue().catch(dt))))}},Mr=new WeakMap,ir=new WeakMap,Da=new WeakMap,wy);function bl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cv(e){return{onFetch:(t,r)=>{var d,f,m,p,x;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=ib(t.options,t.fetchOptions),v=async(y,_,E)=>{if(g)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return b(I),I})(),T=await w(k),{maxPages:A}=t.options,P=E?EP:SP;return{pages:P(y.pages,T,A),pageParams:P(y.pageParams,_,A)}};if(s&&o.length){const y=s==="backward",_=y?DP:uv,E={pages:o,pageParams:i},S=_(n,E);a=await v(E,S,y)}else{const y=e??o.length;do{const _=l===0?i[0]??n.initialPageParam:uv(n,a);if(l>0&&_==null)break;a=await v(a,_),l++}while(l<y)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function uv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function DP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var De,wn,xn,Uo,Bo,bn,zo,Wo,xy,MP=(xy=class{constructor(e={}){J(this,De);J(this,wn);J(this,xn);J(this,Uo);J(this,Bo);J(this,bn);J(this,zo);J(this,Wo);V(this,De,e.queryCache||new OP),V(this,wn,e.mutationCache||new IP),V(this,xn,e.defaultOptions||{}),V(this,Uo,new Map),V(this,Bo,new Map),V(this,bn,0)}mount(){Za(this,bn)._++,C(this,bn)===1&&(V(this,zo,Kp.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onFocus())})),V(this,Wo,Nc.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onOnline())})))}unmount(){var e,t;Za(this,bn)._--,C(this,bn)===0&&((e=C(this,zo))==null||e.call(this),V(this,zo,void 0),(t=C(this,Wo))==null||t.call(this),V(this,Wo,void 0))}isFetching(e){return C(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($n(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,De).get(n.queryHash),o=s==null?void 0:s.state.data,i=bP(t,o);if(i!==void 0)return C(this,De).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return He.batch(()=>C(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,De);He.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,De);return He.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=He.batch(()=>C(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(dt).catch(dt)}invalidateQueries(e,t={}){return He.batch(()=>(C(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=He.batch(()=>C(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(dt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,De).build(this,t);return r.isStaleByTime($n(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dt).catch(dt)}fetchInfiniteQuery(e){return e.behavior=cv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dt).catch(dt)}ensureInfiniteQueryData(e){return e.behavior=cv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nc.isOnline()?C(this,wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,De)}getMutationCache(){return C(this,wn)}getDefaultOptions(){return C(this,xn)}setDefaultOptions(e){V(this,xn,e)}setQueryDefaults(e,t){C(this,Uo).set(Ls(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Uo).values()],r={};return t.forEach(n=>{Ea(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Bo).set(Ls(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Bo).values()],r={};return t.forEach(n=>{Ea(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,xn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,xn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,De).clear(),C(this,wn).clear()}},De=new WeakMap,wn=new WeakMap,xn=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,bn=new WeakMap,zo=new WeakMap,Wo=new WeakMap,xy),mt,fe,Ma,ct,Ss,Vo,_n,Sn,La,Ho,qo,Es,ks,En,Ko,ye,Vi,Uf,Bf,zf,Wf,Vf,Hf,qf,pb,by,LP=(by=class extends pi{constructor(t,r){super();J(this,ye);J(this,mt);J(this,fe);J(this,Ma);J(this,ct);J(this,Ss);J(this,Vo);J(this,_n);J(this,Sn);J(this,La);J(this,Ho);J(this,qo);J(this,Es);J(this,ks);J(this,En);J(this,Ko,new Set);this.options=r,V(this,mt,t),V(this,Sn,null),V(this,_n,Ff()),this.options.experimental_prefetchInRender||C(this,_n).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,fe).addObserver(this),dv(C(this,fe),this.options)?le(this,ye,Vi).call(this):this.updateResult(),le(this,ye,Wf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kf(C(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kf(C(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,ye,Vf).call(this),le(this,ye,Hf).call(this),C(this,fe).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,fe);if(this.options=C(this,mt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ut(this.options.enabled,C(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,ye,qf).call(this),C(this,fe).setOptions(this.options),r._defaulted&&!Tc(this.options,r)&&C(this,mt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,fe),observer:this});const s=this.hasListeners();s&&fv(C(this,fe),n,this.options,r)&&le(this,ye,Vi).call(this),this.updateResult(),s&&(C(this,fe)!==n||Ut(this.options.enabled,C(this,fe))!==Ut(r.enabled,C(this,fe))||$n(this.options.staleTime,C(this,fe))!==$n(r.staleTime,C(this,fe)))&&le(this,ye,Uf).call(this);const o=le(this,ye,Bf).call(this);s&&(C(this,fe)!==n||Ut(this.options.enabled,C(this,fe))!==Ut(r.enabled,C(this,fe))||o!==C(this,En))&&le(this,ye,zf).call(this,o)}getOptimisticResult(t){const r=C(this,mt).getQueryCache().build(C(this,mt),t),n=this.createResult(r,t);return FP(this,n)&&(V(this,ct,n),V(this,Vo,this.options),V(this,Ss,C(this,fe).state)),n}getCurrentResult(){return C(this,ct)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){C(this,Ko).add(t)}getCurrentQuery(){return C(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,mt).defaultQueryOptions(t),n=C(this,mt).getQueryCache().build(C(this,mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return le(this,ye,Vi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,ct)))}createResult(t,r){var A;const n=C(this,fe),s=this.options,o=C(this,ct),i=C(this,Ss),a=C(this,Vo),c=t!==n?t.state:C(this,Ma),{state:d}=t;let f={...d},m=!1,p;if(r._optimisticResults){const P=this.hasListeners(),I=!P&&dv(t,r),j=P&&fv(t,n,r,s);(I||j)&&(f={...f,...fb(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:b}=f;p=f.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let P;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=o.data,w=!0):P=typeof r.placeholderData=="function"?r.placeholderData((A=C(this,qo))==null?void 0:A.state.data,C(this,qo)):r.placeholderData,P!==void 0&&(b="success",p=$f(o==null?void 0:o.data,P,r),m=!0)}if(r.select&&p!==void 0&&!w)if(o&&p===(i==null?void 0:i.data)&&r.select===C(this,La))p=C(this,Ho);else try{V(this,La,r.select),p=r.select(p),p=$f(o==null?void 0:o.data,p,r),V(this,Ho,p),V(this,Sn,null)}catch(P){V(this,Sn,P)}C(this,Sn)&&(x=C(this,Sn),p=C(this,Ho),g=Date.now(),b="error");const v=f.fetchStatus==="fetching",y=b==="pending",_=b==="error",E=y&&v,S=p!==void 0,T={status:b,fetchStatus:f.fetchStatus,isPending:y,isSuccess:b==="success",isError:_,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&S,isStale:Gp(t,r),refetch:this.refetch,promise:C(this,_n),isEnabled:Ut(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=H=>{T.status==="error"?H.reject(T.error):T.data!==void 0&&H.resolve(T.data)},I=()=>{const H=V(this,_n,T.promise=Ff());P(H)},j=C(this,_n);switch(j.status){case"pending":t.queryHash===n.queryHash&&P(j);break;case"fulfilled":(T.status==="error"||T.data!==j.value)&&I();break;case"rejected":(T.status!=="error"||T.error!==j.reason)&&I();break}}return T}updateResult(){const t=C(this,ct),r=this.createResult(C(this,fe),this.options);if(V(this,Ss,C(this,fe).state),V(this,Vo,this.options),C(this,Ss).data!==void 0&&V(this,qo,C(this,fe)),Tc(r,t))return;V(this,ct,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!C(this,Ko).size)return!0;const i=new Set(o??C(this,Ko));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,ct)).some(a=>{const l=a;return C(this,ct)[l]!==t[l]&&i.has(l)})};le(this,ye,pb).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,ye,Wf).call(this)}},mt=new WeakMap,fe=new WeakMap,Ma=new WeakMap,ct=new WeakMap,Ss=new WeakMap,Vo=new WeakMap,_n=new WeakMap,Sn=new WeakMap,La=new WeakMap,Ho=new WeakMap,qo=new WeakMap,Es=new WeakMap,ks=new WeakMap,En=new WeakMap,Ko=new WeakMap,ye=new WeakSet,Vi=function(t){le(this,ye,qf).call(this);let r=C(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(dt)),r},Uf=function(){le(this,ye,Vf).call(this);const t=$n(this.options.staleTime,C(this,fe));if(Ms||C(this,ct).isStale||!Mf(t))return;const n=sb(C(this,ct).dataUpdatedAt,t)+1;V(this,Es,setTimeout(()=>{C(this,ct).isStale||this.updateResult()},n))},Bf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,fe)):this.options.refetchInterval)??!1},zf=function(t){le(this,ye,Hf).call(this),V(this,En,t),!(Ms||Ut(this.options.enabled,C(this,fe))===!1||!Mf(C(this,En))||C(this,En)===0)&&V(this,ks,setInterval(()=>{(this.options.refetchIntervalInBackground||Kp.isFocused())&&le(this,ye,Vi).call(this)},C(this,En)))},Wf=function(){le(this,ye,Uf).call(this),le(this,ye,zf).call(this,le(this,ye,Bf).call(this))},Vf=function(){C(this,Es)&&(clearTimeout(C(this,Es)),V(this,Es,void 0))},Hf=function(){C(this,ks)&&(clearInterval(C(this,ks)),V(this,ks,void 0))},qf=function(){const t=C(this,mt).getQueryCache().build(C(this,mt),this.options);if(t===C(this,fe))return;const r=C(this,fe);V(this,fe,t),V(this,Ma,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pb=function(t){He.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,ct))}),C(this,mt).getQueryCache().notify({query:C(this,fe),type:"observerResultsUpdated"})})},by);function $P(e,t){return Ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dv(e,t){return $P(e,t)||e.state.data!==void 0&&Kf(e,t,t.refetchOnMount)}function Kf(e,t,r){if(Ut(t.enabled,e)!==!1&&$n(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Gp(e,t)}return!1}function fv(e,t,r,n){return(e!==t||Ut(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Gp(e,r)}function Gp(e,t){return Ut(t.enabled,e)!==!1&&e.isStaleByTime($n(t.staleTime,e))}function FP(e,t){return!Tc(e.getCurrentResult(),t)}var kn,Cn,gt,Lr,Br,Kl,Gf,_y,UP=(_y=class extends pi{constructor(r,n){super();J(this,Br);J(this,kn);J(this,Cn);J(this,gt);J(this,Lr);V(this,kn,r),this.setOptions(n),this.bindMethods(),le(this,Br,Kl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,kn).defaultMutationOptions(r),Tc(this.options,n)||C(this,kn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,gt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ls(n.mutationKey)!==Ls(this.options.mutationKey)?this.reset():((s=C(this,gt))==null?void 0:s.state.status)==="pending"&&C(this,gt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,gt))==null||r.removeObserver(this)}onMutationUpdate(r){le(this,Br,Kl).call(this),le(this,Br,Gf).call(this,r)}getCurrentResult(){return C(this,Cn)}reset(){var r;(r=C(this,gt))==null||r.removeObserver(this),V(this,gt,void 0),le(this,Br,Kl).call(this),le(this,Br,Gf).call(this)}mutate(r,n){var s;return V(this,Lr,n),(s=C(this,gt))==null||s.removeObserver(this),V(this,gt,C(this,kn).getMutationCache().build(C(this,kn),this.options)),C(this,gt).addObserver(this),C(this,gt).execute(r)}},kn=new WeakMap,Cn=new WeakMap,gt=new WeakMap,Lr=new WeakMap,Br=new WeakSet,Kl=function(){var n;const r=((n=C(this,gt))==null?void 0:n.state)??hb();V(this,Cn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Gf=function(r){He.batch(()=>{var n,s,o,i,a,l,c,d;if(C(this,Lr)&&this.hasListeners()){const f=C(this,Cn).variables,m=C(this,Cn).context;(r==null?void 0:r.type)==="success"?((s=(n=C(this,Lr)).onSuccess)==null||s.call(n,r.data,f,m),(i=(o=C(this,Lr)).onSettled)==null||i.call(o,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((l=(a=C(this,Lr)).onError)==null||l.call(a,r.error,f,m),(d=(c=C(this,Lr)).onSettled)==null||d.call(c,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(C(this,Cn))})})},_y),mb=h.createContext(void 0),Pr=e=>{const t=h.useContext(mb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BP=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(mb.Provider,{value:e,children:t})),gb=h.createContext(!1),zP=()=>h.useContext(gb);gb.Provider;function WP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VP=h.createContext(WP()),HP=()=>h.useContext(VP),qP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},KP=e=>{h.useEffect(()=>{e.clearReset()},[e])},GP=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||ab(r,[e.error,n])),YP=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},QP=(e,t)=>e.isLoading&&e.isFetching&&!t,JP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,hv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function XP(e,t,r){var f,m,p,x,g;const n=zP(),s=HP(),o=Pr(),i=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",YP(i),qP(i,s),KP(s);const a=!o.getQueryCache().get(i.queryHash),[l]=h.useState(()=>new t(o,i)),c=l.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(b=>{const w=d?l.subscribe(He.batchCalls(b)):dt;return l.updateResult(),w},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),h.useEffect(()=>{l.setOptions(i)},[i,l]),JP(i,c))throw hv(i,l,s);if(GP({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((x=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,i,c),i.experimental_prefetchInRender&&!Ms&&QP(c,n)){const b=a?hv(i,l,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;b==null||b.catch(dt).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?c:l.trackResult(c)}function ze(e,t){return XP(e,LP)}function mi(e,t){const r=Pr(),[n]=h.useState(()=>new UP(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(He.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,a)=>{n.mutate(i,a).catch(dt)},[n]);if(s.error&&ab(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const pv="popstate";function ZP(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Yf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Rc(s)}return tj(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ej(){return Math.random().toString(36).substr(2,8)}function mv(e,t){return{usr:e.state,key:e.key,idx:t}}function Yf(e,t,r,n){return r===void 0&&(r=null),ka({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gi(t):t,{state:r,key:t&&t.key||n||ej()})}function Rc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Rn.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(ka({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Rn.Pop;let b=d(),w=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:w})}function m(b,w){a=Rn.Push;let v=Yf(g.location,b,w);c=d()+1;let y=mv(v,c),_=g.createHref(v);try{i.pushState(y,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function p(b,w){a=Rn.Replace;let v=Yf(g.location,b,w);c=d();let y=mv(v,c),_=g.createHref(v);i.replaceState(y,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function x(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Rc(b);return v=v.replace(/ $/,"%20"),Fe(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return e(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(pv,f),l=b,()=>{s.removeEventListener(pv,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(b){return i.go(b)}};return g}var gv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gv||(gv={}));function rj(e,t,r){return r===void 0&&(r="/"),nj(e,t,r)}function nj(e,t,r,n){let s=typeof t=="string"?gi(t):t,o=Yp(s.pathname||"/",r);if(o==null)return null;let i=yb(e);sj(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=gj(o);a=hj(i[l],c)}return a}function yb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Fn([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yb(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:dj(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of wb(o.path))s(o,i,l)}),t}function wb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=wb(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function sj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oj=/^:[\w-]+$/,ij=3,aj=2,lj=1,cj=10,uj=-2,vv=e=>e==="*";function dj(e,t){let r=e.split("/"),n=r.length;return r.some(vv)&&(n+=uj),t&&(n+=aj),r.filter(s=>!vv(s)).reduce((s,o)=>s+(oj.test(o)?ij:o===""?lj:cj),n)}function fj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hj(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=pj({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Fn([o,f.pathname]),pathnameBase:xj(Fn([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Fn([o,f.pathnameBase]))}return i}function pj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return p&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function mj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function gj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gi(e):e;return{pathname:r?r.startsWith("/")?r:yj(r,t):t,search:bj(n),hash:_j(s)}}function yj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ud(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qp(e,t){let r=wj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gi(e):(s=ka({},e),Fe(!s.pathname||!s.pathname.includes("?"),ud("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),ud("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),ud("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let l=vj(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Fn=e=>e.join("/").replace(/\/\/+/g,"/"),xj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_j=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xb=["post","put","patch","delete"];new Set(xb);const Ej=["get",...xb];new Set(Ej);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(this,arguments)}const Xp=h.createContext(null),kj=h.createContext(null),Jn=h.createContext(null),fu=h.createContext(null),Qr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),bb=h.createContext(null);function Cj(e,t){let{relative:r}=t===void 0?{}:t;vi()||Fe(!1);let{basename:n,navigator:s}=h.useContext(Jn),{hash:o,pathname:i,search:a}=Sb(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Fn([n,i])),s.createHref({pathname:l,search:a,hash:o})}function vi(){return h.useContext(fu)!=null}function Jr(){return vi()||Fe(!1),h.useContext(fu).location}function _b(e){h.useContext(Jn).static||h.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=h.useContext(Qr);return e?Uj():Tj()}function Tj(){vi()||Fe(!1);let e=h.useContext(Xp),{basename:t,future:r,navigator:n}=h.useContext(Jn),{matches:s}=h.useContext(Qr),{pathname:o}=Jr(),i=JSON.stringify(Qp(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return _b(()=>{a.current=!0}),h.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Jp(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function Nj(){let{matches:e}=h.useContext(Qr),t=e[e.length-1];return t?t.params:{}}function Sb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Jn),{matches:s}=h.useContext(Qr),{pathname:o}=Jr(),i=JSON.stringify(Qp(s,n.v7_relativeSplatPath));return h.useMemo(()=>Jp(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function Rj(e,t){return Pj(e,t)}function Pj(e,t,r,n){vi()||Fe(!1);let{navigator:s}=h.useContext(Jn),{matches:o}=h.useContext(Qr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Jr(),d;if(t){var f;let b=typeof t=="string"?gi(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Fe(!1),d=b}else d=c;let m=d.pathname||"/",p=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=rj(e,{pathname:p}),g=Dj(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Fn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Fn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&g?h.createElement(fu.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rn.Pop}},g):g}function jj(){let e=Fj(),t=Sj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const Oj=h.createElement(jj,null);class Aj extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Qr.Provider,{value:this.props.routeContext},h.createElement(bb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ij(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Xp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Qr.Provider,{value:t},n)}function Dj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Fe(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,x=!1,g=null,b=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Oj,l&&(c<0&&m===0?(Bj("route-fallback"),x=!0,b=null):c===m&&(x=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),v=()=>{let y;return p?y=g:x?y=b:f.route.Component?y=h.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,h.createElement(Ij,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(Aj,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Eb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Eb||{}),kb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kb||{});function Mj(e){let t=h.useContext(Xp);return t||Fe(!1),t}function Lj(e){let t=h.useContext(kj);return t||Fe(!1),t}function $j(e){let t=h.useContext(Qr);return t||Fe(!1),t}function Cb(e){let t=$j(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function Fj(){var e;let t=h.useContext(bb),r=Lj(),n=Cb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Uj(){let{router:e}=Mj(Eb.UseNavigateStable),t=Cb(kb.UseNavigateStable),r=h.useRef(!1);return _b(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ca({fromRouteId:t},o)))},[e,t])}const yv={};function Bj(e,t,r){yv[e]||(yv[e]=!0)}function zj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wj(e){let{to:t,replace:r,state:n,relative:s}=e;vi()||Fe(!1);let{future:o,static:i}=h.useContext(Jn),{matches:a}=h.useContext(Qr),{pathname:l}=Jr(),c=Gt(),d=Jp(t,Qp(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function er(e){Fe(!1)}function Vj(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rn.Pop,navigator:o,static:i=!1,future:a}=e;vi()&&Fe(!1);let l=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:o,static:i,future:Ca({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=gi(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let b=Yp(d,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:x},navigationType:s}},[l,d,f,m,p,x,s]);return g==null?null:h.createElement(Jn.Provider,{value:c},h.createElement(fu.Provider,{children:r,value:g}))}function Hj(e){let{children:t,location:r}=e;return Rj(Qf(t),r)}new Promise(()=>{});function Qf(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Qf(n.props.children,o));return}n.type!==er&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Qf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function qj(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Kj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gj(e,t){return e.button===0&&(!t||t==="_self")&&!Kj(e)}function Xf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Yj(e,t){let r=Xf(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const Qj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jj="6";try{window.__reactRouterVersion=Jj}catch{}const Xj="startTransition",wv=Mh[Xj];function Zj(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=ZP({window:s,v5Compat:!0}));let i=o.current,[a,l]=h.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=h.useCallback(f=>{c&&wv?wv(()=>l(f)):l(f)},[l,c]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>zj(n),[n]),h.createElement(Vj,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const eO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rO=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,m=qj(t,Qj),{basename:p}=h.useContext(Jn),x,g=!1;if(typeof c=="string"&&tO.test(c)&&(x=c,eO))try{let y=new URL(window.location.href),_=c.startsWith("//")?new URL(y.protocol+c):new URL(c),E=Yp(_.pathname,p);_.origin===y.origin&&E!=null?c=E+_.search+_.hash:g=!0}catch{}let b=Cj(c,{relative:s}),w=nO(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(y){n&&n(y),y.defaultPrevented||w(y)}return h.createElement("a",Jf({},m,{href:x||b,onClick:g||o?n:v,ref:r,target:l}))});var xv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xv||(xv={}));var bv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bv||(bv={}));function nO(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=Gt(),c=Jr(),d=Sb(e,{relative:i});return h.useCallback(f=>{if(Gj(f,r)){f.preventDefault();let m=n!==void 0?n:Rc(c)===Rc(d);l(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,d,n,s,r,e,o,i,a])}function sO(e){let t=h.useRef(Xf(e)),r=h.useRef(!1),n=Jr(),s=h.useMemo(()=>Yj(n.search,r.current?null:t.current),[n.search]),o=Gt(),i=h.useCallback((a,l)=>{const c=Xf(typeof a=="function"?a(s):a);r.current=!0,o("?"+c,l)},[o,s]);return[s,i]}var Sr=function(){return Sr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Sr.apply(this,arguments)};function yi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function oO(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function iO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const aO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Zp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lO extends Zp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _v extends Zp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sv extends Zp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zf||(Zf={}));class cO{constructor(t,{headers:r={},customFetch:n,region:s=Zf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=aO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oO(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:d,timeout:f}=n;let m={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(m["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(m["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let b=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(b=i.signal,d.addEventListener("abort",()=>i.abort())):b=i.signal);const w=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:b}).catch(E=>{throw new lO(E)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new _v(w);if(!w.ok)throw new Sv(w);let y=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield w.json():y==="application/octet-stream"||y==="application/pdf"?_=yield w.blob():y==="text/event-stream"?_=w:y==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Sv||a instanceof _v?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var uO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},dO=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,m;if(r.method!=="HEAD"){var p;const w=await o.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,c=200,d="OK")}catch{o.status===404&&g===""?(c=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(x=i.details)===null||x===void 0)&&x.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&r.shouldThrowOnError)throw new uO(i)}return{error:i,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const l=o==null?void 0:o.cause;if(l){var c,d,f,m;const x=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"Error"}: ${x}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=o==null?void 0:o.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},fO=class extends dO{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ev=new RegExp("[,()]");var io=class extends fO{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ev.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ev.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},hO=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new io({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);o.searchParams.set("columns",l.join(","))}}return new io({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new io({method:i,url:a,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new io({method:n,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new io({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},pO=class Tb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(a="POST",c=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{l.searchParams.append(p,x)})):(a="POST",c=r);const m=new Headers(this.headers);return f?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new io({method:a,url:l,headers:m,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class mO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gO="2.90.1",vO=`realtime-js/${gO}`,Nb="1.0.0",yO="2.0.0",kv=Nb,eh=1e4,wO=1e3,xO=100;var hn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hn||(hn={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lr||(lr={}));var th;(function(e){e.websocket="websocket"})(th||(th={}));var ds;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ds||(ds={}));class bO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(p),g=0;x.setUint8(g++,this.KINDS.userBroadcastPush),x.setUint8(g++,l.length),x.setUint8(g++,a.length),x.setUint8(g++,i.length),x.setUint8(g++,c.length),x.setUint8(g++,f.length),x.setUint8(g++,r),Array.from(l,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(c,w=>x.setUint8(g++,w.charCodeAt(0))),Array.from(f,w=>x.setUint8(g++,w.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,l]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+o));l=l+o;const f=n.decode(t.slice(l,l+i));l=l+i;const m=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,x={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Rb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Cv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=_O(i,e,t,s),o),{}):{}},_O=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Pb(o,i):rh(i)},Pb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CO(t,r)}switch(e){case Ee.bool:return SO(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return EO(t);case Ee.json:case Ee.jsonb:return kO(t);case Ee.timestamp:return TO(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return rh(t);default:return rh(t)}},rh=e=>e,SO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},CO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Pb(t,a))}return e},TO=e=>typeof e=="string"?e.replace(" ","T"):e,jb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dd{constructor(t,r,n={},s=eh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Tv||(Tv={}));class na{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=na.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=na.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=na.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const m=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}n(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nv||(Nv={}));var sa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sa||(sa={}));var Ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class Eo{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dd(this,lr.join,this.params,this.timeout),this.rejoinTimer=new Rb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new na(this),this.broadcastEndpointURL=jb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[sa.PRESENCE]&&this.bindings[sa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ir.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ir.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,w=[];for(let v=0;v<b;v++){const y=g[v],{filter:{event:_,schema:E,table:S,filter:k}}=y,T=p&&p[v];if(T&&T.event===_&&Eo.isFilterValueEqual(T.schema,E)&&Eo.isFilterValueEqual(T.table,S)&&Eo.isFilterValueEqual(T.filter,k))w.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Ir.SUBSCRIBED);return}}).receive("error",p=>{this.state=We.errored,t==null||t(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===We.joined&&t===sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new dd(this,lr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=lr;if(n&&[a,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,b,w,v,y,_,E;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((w=p.filter)===null||w===void 0)&&w.table)||p.filter.table===((v=r.data)===null||v===void 0?void 0:v.table))}else{const S=(_=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:b,commit_timestamp:w,type:v,errors:y}=x;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Eo.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lr.close,{},t)}_onError(t){this._on(lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cv(t.columns,t.old_record)),r}}const fd=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NO=[1e3,2e3,5e3,1e4],RO=1e4,PO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eh,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fd,this.ref=0,this.reconnectTimer=null,this.vsn=kv,this.logger=fd,this.conn=null,this.sendBuffer=[],this.serializer=new bO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${th.websocket}`,this.httpEndpoint=jb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return ds.Connecting;case hn.open:return ds.Open;case hn.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Eo(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===hn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hn.open||this.conn.readyState===hn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:vO};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Rb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,l,c,d,f,m,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:eh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_l.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:fd,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:kv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:x=>NO[x-1]||RO,this.vsn){case Nb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,g)=>g(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,g)=>g(JSON.parse(x));break;case yO:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ta=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OO(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function AO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function IO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=OO(e.baseUrl,n,s),l=await AO(e.auth),c=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?m:void 0,x=p==null?void 0:p.error;throw new Ta((x==null?void 0:x.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:c.status,headers:c.headers,data:m}}}}function Sl(e){return e.join("")}var DO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`}),!0}catch(t){if(t instanceof Ta&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ta&&r.status===409)return;throw r}}};function Qs(e){return e.join("")}var MO=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ta&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ta&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},LO=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=IO({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new DO(this.client,t),this.tableOps=new MO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $O=class extends hu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nh=class extends hu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const em=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FO=()=>Response,sh=e=>{if(Array.isArray(e))return e.map(r=>sh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=sh(n)}),t},UO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function zO(e,t){if(Na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WO(e){var t=zO(e,"string");return Na(t)=="symbol"?t:t+""}function VO(e,t,r){return(t=WO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(r),!0).forEach(function(n){VO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const hd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HO=async(e,t,r)=>{e instanceof await FO()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new $O(hd(n),s,o))}).catch(n=>{t(new nh(hd(n),n))}):t(new nh(hd(e),e))},qO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(UO(n)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),ne(ne({},s),r))};async function qa(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,qO(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>HO(l,a,n))})}async function Ra(e,t,r,n){return qa(e,"GET",t,r,n)}async function sr(e,t,r,n,s){return qa(e,"POST",t,n,s,r)}async function oh(e,t,r,n,s){return qa(e,"PUT",t,n,s,r)}async function KO(e,t,r,n){return qa(e,"HEAD",t,ne(ne({},r),{},{noResolveJson:!0}),n)}async function tm(e,t,r,n,s){return qa(e,"DELETE",t,n,s,r)}var GO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}};let Ob;Ob=Symbol.toStringTag;var YO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ob]="BlobDownloadBuilder",this.promise=null}asStream(){return new GO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}};const QO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var JO=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=em(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const i=ne(ne({},Pv),n);let a=ne(ne({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=ne(ne({},a),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),f=await(e=="PUT"?oh:sr)(s.fetch,`${s.url}/object/${d}`,o,ne({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let l;const c=ne({upsert:Pv.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await oh(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=ne({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await sr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new hu("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await sr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await sr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await sr(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await sr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>ne(ne({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>Ra(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new YO(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:sh(await Ra(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await KO(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n)&&n instanceof nh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await tm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=ne(ne(ne({},QO),t),{},{prefix:e||""});return{data:await sr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=ne({},e);return{data:await sr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Ab="2.90.1",Ib={"X-Client-Info":`storage-js/${Ab}`};var XO=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ne(ne({},Ib),t),this.fetch=em(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Ra(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ra(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await sr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await oh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ZO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},Ib),t),this.fetch=em(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Ra(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!BO(e))throw new hu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new LO({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const rm={"X-Client-Info":`storage-js/${Ab}`,"Content-Type":"application/json"};var Db=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var pd=class extends Db{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eA=class extends Db{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const nm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rA=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new pd(jv(o),n,i))}).catch(()=>{const o=n+"";t(new pd(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new pd(s.statusText||`HTTP ${n} error`,n,o))}}else t(new eA(jv(e),e))},nA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(tA(n)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,ne(ne({},s),r)):s};async function sA(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,nA(t,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>rA(l,a,n))})}async function Rt(e,t,r,n,s){return sA(e,"POST",t,n,s,r)}var oA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},rm),t),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Rt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Rt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}},iA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},rm),t),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Rt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Rt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Rt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},aA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},rm),t),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Rt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}},lA=class extends aA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},cA=class extends oA{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new uA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uA=class extends iA{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},dA=class extends XO{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new JO(this.url,this.headers,e,this.fetch)}get vectors(){return new lA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ZO(this.url+"/iceberg",this.headers,this.fetch)}};const Mb="2.90.1",ao=30*1e3,ih=3,md=ih*ao,fA="http://localhost:9999",hA="supabase.auth.token",pA={"X-Client-Info":`gotrue-js/${Mb}`},ah="X-Supabase-Api-Version",Lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gA=10*60*1e3;class Pa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vA extends Pa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yA(e){return Y(e)&&e.name==="AuthApiError"}class fs extends Pa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xr extends Pa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class kt extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wA(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Js extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class El extends Xr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kl extends Xr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xA(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ov extends Xr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bA extends Xr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lh extends Xr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gd(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Av extends Xr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ch extends Xr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iv=` 	
\r=`.split(""),_A=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iv.length;t+=1)e[Iv[t].charCodeAt(0)]=-2;for(let t=0;t<Pc.length;t+=1)e[Pc[t].charCodeAt(0)]=t;return e})();function Dv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pc[n]),t.queuedBits-=6}}function $b(e,t,r){const n=_A[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{kA(i,n,r)};for(let i=0;i<e.length;i+=1)$b(e.charCodeAt(i),s,o);return t.join("")}function SA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}SA(n,t)}}function kA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ao(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$b(e.charCodeAt(s),r,n);return new Uint8Array(t)}function CA(e){const t=[];return EA(e,r=>t.push(r)),new Uint8Array(t)}function gs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Dv(s,r,n)),Dv(null,r,n),t.join("")}function TA(e){return Math.round(Date.now()/1e3)+e}function NA(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},Fb=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function RA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ub=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},is=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ye=async(e,t)=>{await e.removeItem(t)};class pu{constructor(){this.promise=new pu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pu.promiseConstructor=Promise;function vd(e){const t=e.split(".");if(t.length!==3)throw new ch("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mA.test(t[n]))throw new ch("JWT not in base64url format");return{header:JSON.parse(Mv(t[0])),payload:JSON.parse(Mv(t[1])),signature:Ao(t[2]),raw:{header:t[0],payload:t[1]}}}async function jA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OA(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function AA(e){return("0"+e.toString(16)).substr(-2)}function IA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,AA).join("")}async function DA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function MA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(e,t,r=!1){const n=IA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await lo(e,`${t}-code-verifier`,s);const o=await MA(n);return[o,n===o?"plain":"s256"]}const LA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $A(e){const t=e.headers.get(ah);if(!t||!t.match(LA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(e){if(!BA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zA(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Lv(e){return JSON.parse(JSON.stringify(e))}const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WA=[502,503,504];async function $v(e){var t;if(!PA(e))throw new lh(cs(e),0);if(WA.includes(e.status))throw new lh(cs(e),e.status);let r;try{r=await e.json()}catch(o){throw new fs(cs(o),o)}let n;const s=$A(e);if(s&&s.getTime()>=Lb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Av(cs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Av(cs(r),e.status,r.weak_password.reasons);throw new vA(cs(r),e.status||500,n)}const VA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[ah]||(o[ah]=Lb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await HA(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function HA(e,t,r,n,s,o){const i=VA(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new lh(cs(l),0)}if(a.ok||await $v(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $v(l)}}function tr(e){var t;let r=null;GA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Fv(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qA(e){return{data:e,error:null}}function KA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=yi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Uv(e){return e}function GA(e){return e.access_token&&e.refresh_token&&e.expires_in}const wd=["global","local","others"];class YA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ub(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wd[0]){if(wd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wd.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:KA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Uv});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Zs(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zs(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zs(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zs(t.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zs(t.userId),Zs(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Uv});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function Bv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const eo={debug:!!(globalThis&&Fb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QA extends Bb{}async function JA(e,t,r){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function XA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZA(e){return parseInt(e,16)}function eI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function tI(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=zb(e.address),x=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}w+=v}return`${b}
${w}`}class Ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class jc extends Ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function rI({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Wb(i)){if(o.rp.id!==i)return new Ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Wb(n)){if(r.rpId!==n)return new Ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const oI=new sI;function iI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=yi(e,["challenge","user","excludeCredentials"]),o=Ao(t).buffer,i=Object.assign(Object.assign({},r),{id:Ao(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ao(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function aI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yi(e,["challenge","allowCredentials"]),s=Ao(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Ao(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function lI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gs(new Uint8Array(e.response.attestationObject)),clientDataJSON:gs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gs(new Uint8Array(s.authenticatorData)),clientDataJSON:gs(new Uint8Array(s.clientDataJSON)),signature:gs(new Uint8Array(s.signature)),userHandle:s.userHandle?gs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zv(){var e,t;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:rI({error:t,options:e})}}}async function dI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:nI({error:t,options:e})}}}const fI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=Oc(a,i):n[o]=Oc(i)}else n[o]=i}return n}function pI(e,t){return Oc(fI,e,t||{})}function mI(e,t){return Oc(hI,e,t||{})}class gI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const l=s??oI.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=pI(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await uI({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=mI(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await dI(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new fs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Pa("rpId is required for WebAuthn authentication")};try{if(!zv())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new fs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Pa("rpId is required for WebAuthn registration")};try{if(!zv())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new fs("Unexpected error in register",i)}}}}XA();const vI={url:fA,storageKey:hA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wv(e,t,r){return await r()}const to={};class ja{get jwks(){var t,r;return(r=(t=to[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=to[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},vI),t);if(this.storageKey=o.storageKey,this.instanceID=(r=ja.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ja.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Qe()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new YA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ub(o.fetch),this.lock=o.lock||Wv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=JA:this.lock=Wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Fb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Qe()&&(r=RA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),xA(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?this._returnResult({error:r}):this._returnResult({error:new fs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(Y(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Xs(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:tr})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:tr})}else throw new El("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await Ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fv})}else throw new El("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Js;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,l,c,d,f,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:g,wallet:b,statement:w,options:v}=t;let y;if(Qe())if(typeof b=="object")y=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=zb(E[0]);let k=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await y.request({method:"eth_chainId"});k=ZA(A)}const T={domain:_.host,address:S,statement:w,uri:_.href,version:"1",chainId:k,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=tI(T),x=await y.request({method:"personal_sign",params:[eI(p),S]})}try{const{data:g,error:b}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:tr});if(b)throw b;if(!g||!g.session||!g.user){const w=new Js;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(Y(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,l,c,d,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:b,wallet:w,statement:v,options:y}=t;let _;if(Qe())if(typeof w=="object")_=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:b,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:gs(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tr});if(w)throw w;if(!b||!b.session||!b.user){const v=new Js;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Y(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await is(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new bA;const{data:o,error:i}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await Ye(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Js;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Js;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Xs(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new El("You must provide either an email or phone number.")}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:tr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Xs(this.storage,this.storageKey));const c=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:qA});return!((o=c.data)===null||o===void 0)&&o.url&&Qe()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kt;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Y(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new El("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<md:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await is(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=yd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=zA(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:gn})})}catch(r){if(Y(r))return wA(r)&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new kt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Xs(this.storage,this.storageKey));const{data:c,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:gn});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=vd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Y(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new kl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ov("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ov("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new kl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(yA(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=NA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Y(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:d}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:tr}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Js}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OA(async s=>(s>0&&await jA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&gd(o)&&Date.now()+i-n<ao})}catch(n){if(this._debug(r,"error",n),Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await is(this.storage,this.storageKey);if(s&&this.userStorage){let i=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await lo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:yd()}else if(s&&!s.user&&!s.user){const i=await is(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Ye(this.storage,this.storageKey+"-user"),await lo(this.storage,this.storageKey,s)):s.user=yd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<md;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${md}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),gd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new kt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Y(o)){const i={data:null,error:o};return gd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ye(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await lo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Lv(s);await lo(this.storage,this.storageKey,o)}else{const s=Lv(r);await lo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ye(this.storage,this.storageKey),await Ye(this.storage,this.storageKey+"-code-verifier"),await Ye(this.storage,this.storageKey+"-user"),this.userStorage&&await Ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ao}ms, refresh threshold is ${ih} ticks`),s<=ih&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Xs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lI(t.webauthn.credential_response):cI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:iI(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:aI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new kt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new kt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new kt})})}catch(t){if(Y(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+gA>s)return n;const{data:o,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=vd(n);r!=null&&r.allowExpired||FA(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=UA(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,CA(`${a}.${l}`)))throw new ch("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}}ja.nextInstanceID={};const yI=ja,wI="2.90.1";let Hi="";typeof Deno<"u"?Hi="deno":typeof document<"u"?Hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hi="react-native":Hi="node";const xI={"X-Client-Info":`supabase-js-${Hi}/${wI}`},bI={headers:xI},_I={schema:"public"},SI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EI={};function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function kI(e,t){if(Oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CI(e){var t=kI(e,"string");return Oa(t)=="symbol"?t:t+""}function TI(e,t,r){return(t=CI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(n){TI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const NI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RI=()=>Headers,PI=(e,t,r)=>{const n=NI(r),s=RI();return async(o,i)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Me(Me({},i),{},{headers:c}))}};function jI(e){return e.endsWith("/")?e:e+"/"}function OI(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,m={db:Me(Me({},l),s),auth:Me(Me({},c),o),realtime:Me(Me({},d),i),storage:{},global:Me(Me(Me({},f),a),{},{headers:Me(Me({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function AI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var II=class extends yI{constructor(e){super(e)}},DI=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=AI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:_I,realtime:EI,auth:Me(Me({},SI),{},{storageKey:i}),global:bI},l=OI(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=PI(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new pO(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new dA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new cO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:l,throwOnError:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new II({url:this.authUrl.href,headers:Me(Me({},m),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jO(this.realtimeUrl.href,Me(Me({},e),{},{params:Me(Me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const MI=(e,t,r)=>new DI(e,t,r);function LI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}LI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $I="https://mhrbfgathudkequhmvjs.supabase.co",FI="sb_publishable_h6n1TxuwtoG4MIY9V_p-dg__P1dJXDw",Z=MI($I,FI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Vb=h.createContext(void 0);function UI({children:e}){const[t,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(null),[a,l]=h.useState(!0),c=async p=>{const{data:x,error:g}=await Z.from("profiles").select("*").eq("user_id",p).maybeSingle();return g?(console.error("Error fetching profile:",g),null):x};h.useEffect(()=>{const{data:{subscription:p}}=Z.auth.onAuthStateChange(async(x,g)=>{s(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?setTimeout(async()=>{var w;const b=await c(g.user.id);if(b)if(b.username.startsWith("temp_")&&((w=g.user.user_metadata)!=null&&w.username)){const{error:v}=await Z.from("profiles").update({username:g.user.user_metadata.username.toLowerCase().trim()}).eq("user_id",g.user.id);if(v)i(b);else{const y=await c(g.user.id);i(y||b)}}else i(b);l(!1)},0):(i(null),l(!1))});return Z.auth.getSession().then(async({data:{session:x}})=>{if(s(x),r((x==null?void 0:x.user)??null),x!=null&&x.user){const g=await c(x.user.id);i(g)}l(!1)}),()=>p.unsubscribe()},[]);const d=async(p,x,g)=>{const{data:b}=await Z.from("profiles").select("username").eq("username",g).maybeSingle();if(b)return{error:new Error("Username already taken")};const{data:w,error:v}=await Z.auth.signUp({email:p,password:x,options:{emailRedirectTo:window.location.origin,data:{username:g.toLowerCase().trim()}}});if(v)return{error:v};if(w.user){let y=!1,_=0;const E=10;for(;!y&&_<E;){const S=await c(w.user.id);if(S){if(y=!0,S.username.startsWith("temp_")){const{error:k}=await Z.from("profiles").update({username:g.toLowerCase().trim()}).eq("user_id",w.user.id);if(k)console.warn("Could not update profile username immediately:",k.message),i(S);else{const T=await c(w.user.id);i(T||S)}}else i(S);break}await new Promise(k=>setTimeout(k,100)),_++}if(!y)return{error:new Error("Profile creation timed out. Please try again.")}}return{error:null}},f=async(p,x)=>{const{error:g}=await Z.auth.signInWithPassword({email:p,password:x});return{error:g}},m=async()=>{await Z.auth.signOut(),i(null)};return u.jsx(Vb.Provider,{value:{user:t,session:n,profile:o,loading:a,signUp:d,signIn:f,signOut:m},children:e})}function ve(){const e=h.useContext(Vb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function BI(e,t){if(!e.last_message_at||!e.last_message_sender_id||e.last_message_sender_id===t)return!1;const r=e.user1_id===t?e.user1_last_read_at:e.user2_last_read_at;return r?new Date(e.last_message_at)>new Date(r):!0}function Hb(){const{user:e}=ve();return ze({queryKey:["dm_threads",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Z.from("dm_threads").select("*").or(`user1_id.eq.${e.id},user2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(r)throw r;const n=t.map(i=>i.user1_id===e.id?i.user2_id:i.user1_id);if(n.length===0)return[];const{data:s}=await Z.from("profiles").select("user_id, username").in("user_id",n),o=new Map((s==null?void 0:s.map(i=>[i.user_id,i.username]))||[]);return t.map(i=>({...i,other_username:o.get(i.user1_id===e.id?i.user2_id:i.user1_id)||"Unknown",hasUnread:BI(i,e.id)}))},enabled:!!e})}function zI(){const{data:e=[]}=Hb();return e.filter(t=>t.hasUnread).length}function WI(){const{user:e}=ve(),t=Pr();return mi({mutationFn:async r=>{if(!e)throw new Error("Not authenticated");const[n,s]=[e.id,r].sort(),{data:o}=await Z.from("dm_threads").select("*").eq("user1_id",n).eq("user2_id",s).maybeSingle();if(o)return o;const{data:i,error:a}=await Z.from("dm_threads").insert({user1_id:n,user2_id:s}).select().single();if(a)throw a;return i},onSuccess:()=>{t.invalidateQueries({queryKey:["dm_threads"]})}})}function VI(e){const{user:t}=ve();return ze({queryKey:["dm_messages",e],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await Z.from("dm_messages").select("*").eq("thread_id",e).order("created_at",{ascending:!0});if(n)throw n;return r},enabled:!!e&&!!t})}function HI(){const{user:e}=ve(),t=Pr();return mi({mutationFn:async({threadId:r,body:n})=>{if(!e)throw new Error("Not authenticated");const{data:s,error:o}=await Z.from("dm_messages").insert({thread_id:r,sender_id:e.id,body:n.trim()}).select().single();if(o)throw o;const i=new Date().toISOString(),{error:a}=await Z.from("dm_threads").update({last_message_text:n.trim().substring(0,100),last_message_at:i,last_message_sender_id:e.id}).eq("id",r);if(a)throw a;return s},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["dm_messages",n.threadId]}),t.invalidateQueries({queryKey:["dm_threads"]})}})}function qI(){const{user:e}=ve(),t=Pr();return mi({mutationFn:async r=>{if(!e)throw new Error("Not authenticated");const n=new Date().toISOString(),s=r.user1_id===e.id?{user1_last_read_at:n}:{user2_last_read_at:n},{error:o}=await Z.from("dm_threads").update(s).eq("id",r.id);if(o)throw o},onSuccess:()=>{t.invalidateQueries({queryKey:["dm_threads"]})}})}function KI(e){const t=Pr();h.useEffect(()=>{if(!e)return;const r=Z.channel(`dm_messages_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"dm_messages",filter:`thread_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["dm_messages",e]}),t.invalidateQueries({queryKey:["dm_threads"]})}).subscribe();return()=>{Z.removeChannel(r)}},[e,t])}function GI(){const{user:e}=ve(),t=Pr();h.useEffect(()=>{if(!e)return;const r=Z.channel("dm_threads_updates").on("postgres_changes",{event:"*",schema:"public",table:"dm_threads"},()=>{t.invalidateQueries({queryKey:["dm_threads"]})}).subscribe();return()=>{Z.removeChannel(r)}},[e,t])}const YI=[{path:"/leaderboard",icon:wT,label:"Rank"},{path:"/calendar",icon:hx,label:"Calendar"},{path:"/",icon:su,label:"Check"},{path:"/messages",icon:gx,label:"Messages",showBadge:!0},{path:"/profile",icon:xT,label:"Profile"}];function QI(){const e=Jr(),t=zI();return GI(),u.jsx("nav",{className:"tab-nav",children:u.jsx("div",{className:"flex items-stretch",children:YI.map(r=>{const n=e.pathname===r.path,s=r.icon,o=r.showBadge&&t>0;return u.jsxs(rO,{to:r.path,className:`flex-1 tab-item ${n?"tab-item-active":""}`,children:[u.jsxs("div",{className:"relative",children:[u.jsx(s,{size:24,strokeWidth:n?2.5:2}),o&&u.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]}),u.jsx("span",{className:"text-xs font-medium mt-1",children:r.label})]},r.path)})})})}function JI({children:e}){return u.jsxs("div",{className:"min-h-screen bg-background",children:[e,u.jsx(QI,{})]})}const sm=nu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?SC:"button";return u.jsx(i,{className:Q(sm({variant:t,size:r,className:e})),ref:o,...s})});xe.displayName="Button";function qb({monthCount:e}){return u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("span",{className:"text-lg font-bold uppercase tracking-wide",children:[" ",e," ",e===1?"coffee":"coffees"," this month"]})})})}var xd="focusScope.autoFocusOnMount",bd="focusScope.autoFocusOnUnmount",Hv={bubbles:!1,cancelable:!0},XI="FocusScope",mu=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=h.useState(null),c=hr(s),d=hr(o),f=h.useRef(null),m=he(t,g=>l(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(y){if(p.paused||!a)return;const _=y.target;a.contains(_)?f.current=_:un(f.current,{select:!0})},b=function(y){if(p.paused||!a)return;const _=y.relatedTarget;_!==null&&(a.contains(_)||un(f.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&un(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[n,a,p.paused]),h.useEffect(()=>{if(a){Kv.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(xd,Hv);a.addEventListener(xd,c),a.dispatchEvent(w),w.defaultPrevented||(ZI(sD(Kb(a)),{select:!0}),document.activeElement===g&&un(a))}return()=>{a.removeEventListener(xd,c),setTimeout(()=>{const w=new CustomEvent(bd,Hv);a.addEventListener(bd,d),a.dispatchEvent(w),w.defaultPrevented||un(g??document.body,{select:!0}),a.removeEventListener(bd,d),Kv.remove(p)},0)}}},[a,c,d,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const v=g.currentTarget,[y,_]=eD(v);y&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&un(y,{select:!0})):g.shiftKey&&w===y&&(g.preventDefault(),r&&un(_,{select:!0})):w===v&&g.preventDefault()}},[r,n,p.paused]);return u.jsx(se.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});mu.displayName=XI;function ZI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(un(n,{select:t}),document.activeElement!==r)return}function eD(e){const t=Kb(e),r=qv(t,e),n=qv(t.reverse(),e);return[r,n]}function Kb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qv(e,t){for(const r of e)if(!tD(r,{upTo:t}))return r}function tD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rD(e){return e instanceof HTMLInputElement&&"select"in e}function un(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rD(e)&&t&&e.select()}}var Kv=nD();function nD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Gv(e,t),e.unshift(t)},remove(t){var r;e=Gv(e,t),(r=e[0])==null||r.resume()}}}function Gv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sD(e){return e.filter(t=>t.tagName!=="A")}var _d=0;function om(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yv()),document.body.insertAdjacentElement("beforeend",e[1]??Yv()),_d++,()=>{_d===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_d--}},[])}function Yv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gl="right-scroll-bar-position",Yl="width-before-scroll-bar",oD="with-scroll-bars-hidden",iD="--removed-body-scroll-bar-size";function Sd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aD(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var lD=typeof window<"u"?h.useLayoutEffect:h.useEffect,Qv=new WeakMap;function cD(e,t){var r=aD(null,function(n){return e.forEach(function(s){return Sd(s,n)})});return lD(function(){var n=Qv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Sd(a,null)}),o.forEach(function(a){s.has(a)||Sd(a,i)})}Qv.set(r,e)},[e]),r}function uD(e){return e}function dD(e,t){t===void 0&&(t=uD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),r}}}};return s}function fD(e){e===void 0&&(e={});var t=dD(null);return t.options=Sr({async:!0,ssr:!1},e),t}var Gb=function(e){var t=e.sideCar,r=yi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Sr({},r))};Gb.isSideCarExport=!0;function hD(e,t){return e.useMedium(t),Gb}var Yb=fD(),Ed=function(){},gu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Ed,onWheelCapture:Ed,onTouchMoveCapture:Ed}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,b=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=e.gapMode,_=yi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,S=cD([r,t]),k=Sr(Sr({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(E,{sideCar:Yb,removeScrollBar:c,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:y}),i?h.cloneElement(h.Children.only(a),Sr(Sr({},k),{ref:S})):h.createElement(v,Sr({},k,{className:l,ref:S}),a))});gu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gu.classNames={fullWidth:Yl,zeroRight:Gl};var pD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pD();return t&&e.setAttribute("nonce",t),e}function gD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mD())&&(gD(t,r),vD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wD=function(){var e=yD();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Qb=function(){var e=wD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},xD={left:0,top:0,right:0,gap:0},kd=function(e){return parseInt(e||"",10)||0},bD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[kd(r),kd(n),kd(s)]},_D=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xD;var t=bD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},SD=Qb(),Io="data-scroll-locked",ED=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(oD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Io,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Yl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Io,`] {
    `).concat(iD,": ").concat(a,`px;
  }
`)},Jv=function(){var e=parseInt(document.body.getAttribute(Io)||"0",10);return isFinite(e)?e:0},kD=function(){h.useEffect(function(){return document.body.setAttribute(Io,(Jv()+1).toString()),function(){var e=Jv()-1;e<=0?document.body.removeAttribute(Io):document.body.setAttribute(Io,e.toString())}},[])},CD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;kD();var o=h.useMemo(function(){return _D(s)},[s]);return h.createElement(SD,{styles:ED(o,!t,s,r?"":"!important")})},uh=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return uh=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{uh=!1}var ro=uh?{passive:!1}:!1,TD=function(e){return e.tagName==="TEXTAREA"},Jb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TD(e)&&r[t]==="visible")},ND=function(e){return Jb(e,"overflowY")},RD=function(e){return Jb(e,"overflowX")},Xv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Xb(e,n);if(s){var o=Zb(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Xb=function(e,t){return e==="v"?ND(t):RD(t)},Zb=function(e,t){return e==="v"?PD(t):jD(t)},OD=function(e,t){return e==="h"&&t==="rtl"?-1:1},AD=function(e,t,r,n,s){var o=OD(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,l=t.contains(a),c=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=Zb(e,a),x=p[0],g=p[1],b=p[2],w=g-b-o*x;(x||w)&&Xb(e,a)&&(f+=w,m+=x);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},Tl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zv=function(e){return[e.deltaX,e.deltaY]},ey=function(e){return e&&"current"in e?e.current:e},ID=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MD=0,no=[];function LD(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(MD++)[0],o=h.useState(Qb)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=iO([e.lockRef.current],(e.shards||[]).map(ey),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Tl(g),v=r.current,y="deltaX"in g?g.deltaX:v[0]-w[0],_="deltaY"in g?g.deltaY:v[1]-w[1],E,S=g.target,k=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var T=Xv(k,S);if(!T)return!0;if(T?E=k:(E=k==="v"?"h":"v",T=Xv(k,S)),!T)return!1;if(!n.current&&"changedTouches"in g&&(y||_)&&(n.current=E),!E)return!0;var A=n.current||E;return AD(A,b,g,A==="h"?y:_)},[]),l=h.useCallback(function(g){var b=g;if(!(!no.length||no[no.length-1]!==o)){var w="deltaY"in b?Zv(b):Tl(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&ID(E.delta,w)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(ey).filter(Boolean).filter(function(E){return E.contains(b.target)}),_=y.length>0?a(b,y[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),c=h.useCallback(function(g,b,w,v){var y={name:g,delta:b,target:w,should:v,shadowParent:$D(w)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),d=h.useCallback(function(g){r.current=Tl(g),n.current=void 0},[]),f=h.useCallback(function(g){c(g.type,Zv(g),g.target,a(g,e.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,Tl(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return no.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,ro),document.addEventListener("touchmove",l,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,ro),document.removeEventListener("touchmove",l,ro),document.removeEventListener("touchstart",d,ro)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:DD(s)}):null,p?h.createElement(CD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $D(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FD=hD(Yb,LD);var vu=h.forwardRef(function(e,t){return h.createElement(gu,Sr({},e,{ref:t,sideCar:FD}))});vu.classNames=gu.classNames;var UD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,Nl=new WeakMap,Rl={},Cd=0,e_=function(e){return e&&(e.host||e_(e.parentNode))},BD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=e_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zD=function(e,t,r,n){var s=BD(t,Array.isArray(e)?e:[e]);Rl[r]||(Rl[r]=new WeakMap);var o=Rl[r],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(so.get(m)||0)+1,b=(o.get(m)||0)+1;so.set(m,g),o.set(m,b),i.push(m),g===1&&x&&Nl.set(m,!0),b===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),a.clear(),Cd++,function(){i.forEach(function(f){var m=so.get(f)-1,p=o.get(f)-1;so.set(f,m),o.set(f,p),m||(Nl.has(f)||f.removeAttribute(n),Nl.delete(f)),p||f.removeAttribute(r)}),Cd--,Cd||(so=new WeakMap,so=new WeakMap,Nl=new WeakMap,Rl={})}},im=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=UD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),zD(n,s,r,"aria-hidden")):function(){return null}},yu="Dialog",[t_,r_]=Yr(yu),[WD,gr]=t_(yu),n_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),l=h.useRef(null),[c,d]=ti({prop:n,defaultProp:s??!1,onChange:o,caller:yu});return u.jsx(WD,{scope:t,triggerRef:a,contentRef:l,contentId:Ot(),titleId:Ot(),descriptionId:Ot(),open:c,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};n_.displayName=yu;var s_="DialogTrigger",o_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(s_,r),o=he(t,s.triggerRef);return u.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cm(s.open),...n,ref:o,onClick:X(e.onClick,s.onOpenToggle)})});o_.displayName=s_;var am="DialogPortal",[VD,i_]=t_(am,{forceMount:void 0}),a_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=gr(am,t);return u.jsx(VD,{scope:t,forceMount:r,children:h.Children.map(n,i=>u.jsx(Qn,{present:r||o.open,children:u.jsx(Wa,{asChild:!0,container:s,children:i})}))})};a_.displayName=am;var Ac="DialogOverlay",l_=h.forwardRef((e,t)=>{const r=i_(Ac,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr(Ac,e.__scopeDialog);return o.modal?u.jsx(Qn,{present:n||o.open,children:u.jsx(qD,{...s,ref:t})}):null});l_.displayName=Ac;var HD=Is("DialogOverlay.RemoveScroll"),qD=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(Ac,r);return u.jsx(vu,{as:HD,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(se.div,{"data-state":cm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$s="DialogContent",c_=h.forwardRef((e,t)=>{const r=i_($s,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr($s,e.__scopeDialog);return u.jsx(Qn,{present:n||o.open,children:o.modal?u.jsx(KD,{...s,ref:t}):u.jsx(GD,{...s,ref:t})})});c_.displayName=$s;var KD=h.forwardRef((e,t)=>{const r=gr($s,e.__scopeDialog),n=h.useRef(null),s=he(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return im(o)},[]),u.jsx(u_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:X(e.onFocusOutside,o=>o.preventDefault())})}),GD=h.forwardRef((e,t)=>{const r=gr($s,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return u.jsx(u_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),u_=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=gr($s,r),l=h.useRef(null),c=he(t,l);return om(),u.jsxs(u.Fragment,{children:[u.jsx(mu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(ci,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":cm(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(QD,{titleId:a.titleId}),u.jsx(XD,{contentRef:l,descriptionId:a.descriptionId})]})]})}),lm="DialogTitle",d_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(lm,r);return u.jsx(se.h2,{id:s.titleId,...n,ref:t})});d_.displayName=lm;var f_="DialogDescription",h_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(f_,r);return u.jsx(se.p,{id:s.descriptionId,...n,ref:t})});h_.displayName=f_;var p_="DialogClose",m_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(p_,r);return u.jsx(se.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});m_.displayName=p_;function cm(e){return e?"open":"closed"}var g_="DialogTitleWarning",[YD,v_]=bC(g_,{contentName:$s,titleName:lm,docsSlug:"dialog"}),QD=({titleId:e})=>{const t=v_(g_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JD="DialogDescriptionWarning",XD=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v_(JD).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},wu=n_,ZD=o_,xu=a_,wi=l_,xi=c_,Ka=d_,Ga=h_,bu=m_;const y_=wu,e2=xu,w_=h.forwardRef(({className:e,...t},r)=>u.jsx(wi,{ref:r,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));w_.displayName=wi.displayName;const um=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(e2,{children:[u.jsx(w_,{}),u.jsxs(xi,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(ou,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));um.displayName=xi.displayName;const x_=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x_.displayName="DialogHeader";const b_=h.forwardRef(({className:e,...t},r)=>u.jsx(Ka,{ref:r,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));b_.displayName=Ka.displayName;const t2=h.forwardRef(({className:e,...t},r)=>u.jsx(Ga,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));t2.displayName=Ga.displayName;const ty=["PERFECT BREW!","CAFFEINE LEGEND!","COFFEE MASTER!","BREW-TASTIC!","ESPRESSO EXCELLENCE!","LATTE ARTIST!","COFFEE CONNOISSEUR!","CAFFEINE CHAMPION!"];function r2({open:e,onOpenChange:t,percentBeat:r}){const[n,s]=h.useState("");return h.useEffect(()=>{if(e){const o=ty[Math.floor(Math.random()*ty.length)];s(o)}},[e]),u.jsx(y_,{open:e,onOpenChange:t,children:u.jsx(um,{className:"bg-foreground text-background border-none p-8 text-center max-w-sm",children:u.jsxs("div",{className:"animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-6",children:""}),u.jsx("h2",{className:"text-2xl font-black mb-4",children:n}),u.jsxs("p",{className:"text-lg font-medium opacity-80",children:["You beat ",r,"% of users today"]})]})})})}const n2=wu,s2=xu,__=h.forwardRef(({className:e,...t},r)=>u.jsx(wi,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));__.displayName=wi.displayName;const o2=nu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),S_=h.forwardRef(({side:e="right",className:t,children:r,...n},s)=>u.jsxs(s2,{children:[u.jsx(__,{}),u.jsxs(xi,{ref:s,className:Q(o2({side:e}),t),...n,children:[r,u.jsxs(bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(ou,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));S_.displayName=xi.displayName;const E_=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});E_.displayName="SheetHeader";const k_=h.forwardRef(({className:e,...t},r)=>u.jsx(Ka,{ref:r,className:Q("text-lg font-semibold text-foreground",e),...t}));k_.displayName=Ka.displayName;const C_=h.forwardRef(({className:e,...t},r)=>u.jsx(Ga,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));C_.displayName=Ga.displayName;const Vt=h.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Vt.displayName="Input";var i2="Label",T_=h.forwardRef((e,t)=>u.jsx(se.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));T_.displayName=i2;var N_=T_;const a2=nu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wt=h.forwardRef(({className:e,...t},r)=>u.jsx(N_,{ref:r,className:Q(a2(),e),...t}));wt.displayName=N_.displayName;function Ic(e,[t,r]){return Math.min(r,Math.max(t,e))}var l2=h.createContext(void 0);function R_(e){const t=h.useContext(l2);return e||t||"ltr"}function P_(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var j_=["PageUp","PageDown"],O_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bi="Slider",[dh,c2,u2]=Tp(bi),[I_]=Yr(bi,[u2]),[d2,_u]=I_(bi),D_=h.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:x,...g}=e,b=h.useRef(new Set),w=h.useRef(0),y=i==="horizontal"?f2:h2,[_=[],E]=ti({prop:d,defaultProp:c,onChange:I=>{var H;(H=[...b.current][w.current])==null||H.focus(),f(I)}}),S=h.useRef(_);function k(I){const j=y2(_,I);P(I,j)}function T(I){P(I,w.current)}function A(){const I=S.current[w.current];_[w.current]!==I&&m(_)}function P(I,j,{commit:H}={commit:!1}){const D=_2(o),G=S2(Math.round((I-n)/o)*o+n,D),W=Ic(G,[n,s]);E((q=[])=>{const N=g2(q,W,j);if(b2(N,l*o)){w.current=N.indexOf(W);const O=String(N)!==String(q);return O&&H&&m(N),O?N:q}else return q})}return u.jsx(d2,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:w,thumbs:b.current,values:_,orientation:i,form:x,children:u.jsx(dh.Provider,{scope:e.__scopeSlider,children:u.jsx(dh.Slot,{scope:e.__scopeSlider,children:u.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:t,onPointerDown:X(g.onPointerDown,()=>{a||(S.current=_)}),min:n,max:s,inverted:p,onSlideStart:a?void 0:k,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&P(n,0,{commit:!0}),onEndKeyDown:()=>!a&&P(s,_.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:j})=>{if(!a){const G=j_.includes(I.key)||I.shiftKey&&O_.includes(I.key)?10:1,W=w.current,q=_[W],N=o*G*j;P(q+N,W,{commit:!0})}}})})})})});D_.displayName=bi;var[M_,L_]=I_(bi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),f2=h.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[f,m]=h.useState(null),p=he(t,y=>m(y)),x=h.useRef(void 0),g=R_(s),b=g==="ltr",w=b&&!o||!b&&o;function v(y){const _=x.current||f.getBoundingClientRect(),E=[0,_.width],k=dm(E,w?[r,n]:[n,r]);return x.current=_,k(y-_.left)}return u.jsx(M_,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:u.jsx($_,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const _=v(y.clientX);i==null||i(_)},onSlideMove:y=>{const _=v(y.clientX);a==null||a(_)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:y=>{const E=A_[w?"from-left":"from-right"].includes(y.key);c==null||c({event:y,direction:E?-1:1})}})})}),h2=h.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=h.useRef(null),f=he(t,d),m=h.useRef(void 0),p=!s;function x(g){const b=m.current||d.current.getBoundingClientRect(),w=[0,b.height],y=dm(w,p?[n,r]:[r,n]);return m.current=b,y(g-b.top)}return u.jsx(M_,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:u.jsx($_,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=x(g.clientY);o==null||o(b)},onSlideMove:g=>{const b=x(g.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:g=>{const w=A_[p?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:w?-1:1})}})})}),$_=h.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=_u(bi,r);return u.jsx(se.span,{...c,ref:t,onKeyDown:X(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):j_.concat(O_).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:X(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:X(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:X(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),o(f))})})}),F_="SliderTrack",U_=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=_u(F_,r);return u.jsx(se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});U_.displayName=F_;var fh="SliderRange",B_=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=_u(fh,r),o=L_(fh,r),i=h.useRef(null),a=he(t,i),l=s.values.length,c=s.values.map(m=>V_(m,s.min,s.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});B_.displayName=fh;var hh="SliderThumb",z_=h.forwardRef((e,t)=>{const r=c2(e.__scopeSlider),[n,s]=h.useState(null),o=he(t,a=>s(a)),i=h.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return u.jsx(p2,{...e,ref:o,index:i})}),p2=h.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=_u(hh,r),a=L_(hh,r),[l,c]=h.useState(null),d=he(t,v=>c(v)),f=l?i.form||!!l.closest("form"):!0,m=Fx(l),p=i.values[n],x=p===void 0?0:V_(p,i.min,i.max),g=v2(n,i.values.length),b=m==null?void 0:m[a.size],w=b?w2(b,x,a.direction):0;return h.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${w}px)`},children:[u.jsx(dh.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:X(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&u.jsx(W_,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});z_.displayName=hh;var m2="RadioBubbleInput",W_=h.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=h.useRef(null),o=he(s,n),i=P_(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(se.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});W_.displayName=m2;function g2(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function V_(e,t,r){const o=100/(r-t)*(e-t);return Ic(o,[0,100])}function v2(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function y2(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function w2(e,t,r){const n=e/2,o=dm([0,50],[0,n]);return(n-o(t)*r)*r}function x2(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function b2(e,t){if(t>0){const r=x2(e);return Math.min(...r)>=t}return!0}function dm(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _2(e){return(String(e).split(".")[1]||"").length}function S2(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var H_=D_,E2=U_,k2=B_,C2=z_;const q_=h.forwardRef(({className:e,...t},r)=>u.jsxs(H_,{ref:r,className:Q("relative flex w-full touch-none select-none items-center",e),...t,children:[u.jsx(E2,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(k2,{className:"absolute h-full bg-primary"})}),u.jsx(C2,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));q_.displayName=H_.displayName;const fm=h.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));fm.displayName="Textarea";var Su="Popover",[K_]=Yr(Su,[hi]),Ya=hi(),[T2,Xn]=K_(Su),G_=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Ya(t),l=h.useRef(null),[c,d]=h.useState(!1),[f,m]=ti({prop:n,defaultProp:s??!1,onChange:o,caller:Su});return u.jsx(Yx,{...a,children:u.jsx(T2,{scope:t,contentId:Ot(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};G_.displayName=Su;var Y_="PopoverAnchor",N2=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(Y_,r),o=Ya(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(i(),()=>a()),[i,a]),u.jsx(cu,{...o,...n,ref:t})});N2.displayName=Y_;var Q_="PopoverTrigger",J_=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(Q_,r),o=Ya(r),i=he(t,s.triggerRef),a=u.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rS(s.open),...n,ref:i,onClick:X(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(cu,{asChild:!0,...o,children:a})});J_.displayName=Q_;var hm="PopoverPortal",[R2,P2]=K_(hm,{forceMount:void 0}),X_=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Xn(hm,t);return u.jsx(R2,{scope:t,forceMount:r,children:u.jsx(Qn,{present:r||o.open,children:u.jsx(Wa,{asChild:!0,container:s,children:n})})})};X_.displayName=hm;var oi="PopoverContent",Z_=h.forwardRef((e,t)=>{const r=P2(oi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Xn(oi,e.__scopePopover);return u.jsx(Qn,{present:n||o.open,children:o.modal?u.jsx(O2,{...s,ref:t}):u.jsx(A2,{...s,ref:t})})});Z_.displayName=oi;var j2=Is("PopoverContent.RemoveScroll"),O2=h.forwardRef((e,t)=>{const r=Xn(oi,e.__scopePopover),n=h.useRef(null),s=he(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return im(i)},[]),u.jsx(vu,{as:j2,allowPinchZoom:!0,children:u.jsx(eS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),A2=h.forwardRef((e,t)=>{const r=Xn(oi,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return u.jsx(eS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),eS=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,m=Xn(oi,r),p=Ya(r);return om(),u.jsx(mu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(zp,{"data-state":rS(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tS="PopoverClose",I2=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(tS,r);return u.jsx(se.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});I2.displayName=tS;var D2="PopoverArrow",M2=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ya(r);return u.jsx(Wp,{...s,...n,ref:t})});M2.displayName=D2;function rS(e){return e?"open":"closed"}var L2=G_,$2=J_,F2=X_,nS=Z_;const U2=L2,B2=$2,sS=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>u.jsx(F2,{children:u.jsx(nS,{ref:s,align:t,sideOffset:r,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sS.displayName=nS.displayName;var ry=1,z2=.9,W2=.8,V2=.17,Td=.1,Nd=.999,H2=.9999,q2=.99,K2=/[\\\/_+.#"@\[\(\{&]/,G2=/[\\\/_+.#"@\[\(\{&]/g,Y2=/[\s-]/,oS=/[\s-]/g;function ph(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?ry:q2;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var l=n.charAt(o),c=r.indexOf(l,s),d=0,f,m,p,x;c>=0;)f=ph(e,t,r,n,c+1,o+1,i),f>d&&(c===s?f*=ry:K2.test(e.charAt(c-1))?(f*=W2,p=e.slice(s,c-1).match(G2),p&&s>0&&(f*=Math.pow(Nd,p.length))):Y2.test(e.charAt(c-1))?(f*=z2,x=e.slice(s,c-1).match(oS),x&&s>0&&(f*=Math.pow(Nd,x.length))):(f*=V2,s>0&&(f*=Math.pow(Nd,c-s))),e.charAt(c)!==t.charAt(o)&&(f*=H2)),(f<Td&&r.charAt(c-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(c-1)!==n.charAt(o))&&(m=ph(e,t,r,n,c+1,o+2,i),m*Td>f&&(f=m*Td)),f>d&&(d=f),c=r.indexOf(l,c+1);return i[a]=d,d}function ny(e){return e.toLowerCase().replace(oS," ")}function Q2(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ph(e,t,ny(e),ny(t),0,0,{})}var Mi='[cmdk-group=""]',Rd='[cmdk-group-items=""]',J2='[cmdk-group-heading=""]',iS='[cmdk-item=""]',sy=`${iS}:not([aria-disabled="true"])`,mh="cmdk-item-select",co="data-value",X2=(e,t,r)=>Q2(e,t,r),aS=h.createContext(void 0),Qa=()=>h.useContext(aS),lS=h.createContext(void 0),pm=()=>h.useContext(lS),cS=h.createContext(void 0),uS=h.forwardRef((e,t)=>{let r=uo(()=>{var R,F;return{search:"",value:(F=(R=e.value)!=null?R:e.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=uo(()=>new Set),s=uo(()=>new Map),o=uo(()=>new Map),i=uo(()=>new Set),a=dS(e),{label:l,children:c,value:d,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:b=!0,...w}=e,v=Ot(),y=Ot(),_=Ot(),E=h.useRef(null),S=cM();Fs(()=>{if(d!==void 0){let R=d.trim();r.current.value=R,k.emit()}},[d]),Fs(()=>{S(6,H)},[]);let k=h.useMemo(()=>({subscribe:R=>(i.current.add(R),()=>i.current.delete(R)),snapshot:()=>r.current,setState:(R,F,U)=>{var B,te,M,oe;if(!Object.is(r.current[R],F)){if(r.current[R]=F,R==="search")j(),P(),S(1,I);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ce=document.getElementById(_);ce?ce.focus():(B=document.getElementById(v))==null||B.focus()}if(S(7,()=>{var ce;r.current.selectedItemId=(ce=D())==null?void 0:ce.id,k.emit()}),U||S(5,H),((te=a.current)==null?void 0:te.value)!==void 0){let ce=F??"";(oe=(M=a.current).onValueChange)==null||oe.call(M,ce);return}}k.emit()}},emit:()=>{i.current.forEach(R=>R())}}),[]),T=h.useMemo(()=>({value:(R,F,U)=>{var B;F!==((B=o.current.get(R))==null?void 0:B.value)&&(o.current.set(R,{value:F,keywords:U}),r.current.filtered.items.set(R,A(F,U)),S(2,()=>{P(),k.emit()}))},item:(R,F)=>(n.current.add(R),F&&(s.current.has(F)?s.current.get(F).add(R):s.current.set(F,new Set([R]))),S(3,()=>{j(),P(),r.current.value||I(),k.emit()}),()=>{o.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let U=D();S(4,()=>{j(),(U==null?void 0:U.getAttribute("id"))===R&&I(),k.emit()})}),group:R=>(s.current.has(R)||s.current.set(R,new Set),()=>{o.current.delete(R),s.current.delete(R)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:v,inputId:_,labelId:y,listInnerRef:E}),[]);function A(R,F){var U,B;let te=(B=(U=a.current)==null?void 0:U.filter)!=null?B:X2;return R?te(R,r.current.search,F):0}function P(){if(!r.current.search||a.current.shouldFilter===!1)return;let R=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(B=>{let te=s.current.get(B),M=0;te.forEach(oe=>{let ce=R.get(oe);M=Math.max(ce,M)}),F.push([B,M])});let U=E.current;G().sort((B,te)=>{var M,oe;let ce=B.getAttribute("id"),de=te.getAttribute("id");return((M=R.get(de))!=null?M:0)-((oe=R.get(ce))!=null?oe:0)}).forEach(B=>{let te=B.closest(Rd);te?te.appendChild(B.parentElement===te?B:B.closest(`${Rd} > *`)):U.appendChild(B.parentElement===U?B:B.closest(`${Rd} > *`))}),F.sort((B,te)=>te[1]-B[1]).forEach(B=>{var te;let M=(te=E.current)==null?void 0:te.querySelector(`${Mi}[${co}="${encodeURIComponent(B[0])}"]`);M==null||M.parentElement.appendChild(M)})}function I(){let R=G().find(U=>U.getAttribute("aria-disabled")!=="true"),F=R==null?void 0:R.getAttribute(co);k.setState("value",F||void 0)}function j(){var R,F,U,B;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let te=0;for(let M of n.current){let oe=(F=(R=o.current.get(M))==null?void 0:R.value)!=null?F:"",ce=(B=(U=o.current.get(M))==null?void 0:U.keywords)!=null?B:[],de=A(oe,ce);r.current.filtered.items.set(M,de),de>0&&te++}for(let[M,oe]of s.current)for(let ce of oe)if(r.current.filtered.items.get(ce)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=te}function H(){var R,F,U;let B=D();B&&(((R=B.parentElement)==null?void 0:R.firstChild)===B&&((U=(F=B.closest(Mi))==null?void 0:F.querySelector(J2))==null||U.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function D(){var R;return(R=E.current)==null?void 0:R.querySelector(`${iS}[aria-selected="true"]`)}function G(){var R;return Array.from(((R=E.current)==null?void 0:R.querySelectorAll(sy))||[])}function W(R){let F=G()[R];F&&k.setState("value",F.getAttribute(co))}function q(R){var F;let U=D(),B=G(),te=B.findIndex(oe=>oe===U),M=B[te+R];(F=a.current)!=null&&F.loop&&(M=te+R<0?B[B.length-1]:te+R===B.length?B[0]:B[te+R]),M&&k.setState("value",M.getAttribute(co))}function N(R){let F=D(),U=F==null?void 0:F.closest(Mi),B;for(;U&&!B;)U=R>0?aM(U,Mi):lM(U,Mi),B=U==null?void 0:U.querySelector(sy);B?k.setState("value",B.getAttribute(co)):q(R)}let O=()=>W(G().length-1),z=R=>{R.preventDefault(),R.metaKey?O():R.altKey?N(1):q(1)},ee=R=>{R.preventDefault(),R.metaKey?W(0):R.altKey?N(-1):q(-1)};return h.createElement(se.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:R=>{var F;(F=w.onKeyDown)==null||F.call(w,R);let U=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||U))switch(R.key){case"n":case"j":{b&&R.ctrlKey&&z(R);break}case"ArrowDown":{z(R);break}case"p":case"k":{b&&R.ctrlKey&&ee(R);break}case"ArrowUp":{ee(R);break}case"Home":{R.preventDefault(),W(0);break}case"End":{R.preventDefault(),O();break}case"Enter":{R.preventDefault();let B=D();if(B){let te=new Event(mh);B.dispatchEvent(te)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:dM},l),Eu(e,R=>h.createElement(lS.Provider,{value:k},h.createElement(aS.Provider,{value:T},R))))}),Z2=h.forwardRef((e,t)=>{var r,n;let s=Ot(),o=h.useRef(null),i=h.useContext(cS),a=Qa(),l=dS(e),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Fs(()=>{if(!c)return a.item(s,i==null?void 0:i.id)},[c]);let d=fS(s,o,[e.value,e.children,o],e.keywords),f=pm(),m=Vn(S=>S.value&&S.value===d.current),p=Vn(S=>c||a.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);h.useEffect(()=>{let S=o.current;if(!(!S||e.disabled))return S.addEventListener(mh,x),()=>S.removeEventListener(mh,x)},[p,e.onSelect,e.disabled]);function x(){var S,k;g(),(k=(S=l.current).onSelect)==null||k.call(S,d.current)}function g(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:w,onSelect:v,forceMount:y,keywords:_,...E}=e;return h.createElement(se.div,{ref:As(o,t),...E,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||a.getDisablePointerSelection()?void 0:g,onClick:b?void 0:x},e.children)}),eM=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=Ot(),a=h.useRef(null),l=h.useRef(null),c=Ot(),d=Qa(),f=Vn(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);Fs(()=>d.group(i),[]),fS(i,a,[e.value,e.heading,l]);let m=h.useMemo(()=>({id:i,forceMount:s}),[s]);return h.createElement(se.div,{ref:As(a,t),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Eu(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},h.createElement(cS.Provider,{value:m},p))))}),tM=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=h.useRef(null),o=Vn(i=>!i.search);return!r&&!o?null:h.createElement(se.div,{ref:As(s,t),...n,"cmdk-separator":"",role:"separator"})}),rM=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=pm(),i=Vn(c=>c.search),a=Vn(c=>c.selectedItemId),l=Qa();return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement(se.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:i,onChange:c=>{s||o.setState("search",c.target.value),r==null||r(c.target.value)}})}),nM=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=h.useRef(null),i=h.useRef(null),a=Vn(c=>c.selectedItemId),l=Qa();return h.useEffect(()=>{if(i.current&&o.current){let c=i.current,d=o.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=c.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(f),m.unobserve(c)}}},[]),h.createElement(se.div,{ref:As(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},Eu(e,c=>h.createElement("div",{ref:As(i,l.listInnerRef),"cmdk-list-sizer":""},c)))}),sM=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return h.createElement(wu,{open:r,onOpenChange:n},h.createElement(xu,{container:i},h.createElement(wi,{"cmdk-overlay":"",className:s}),h.createElement(xi,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement(uS,{ref:t,...a}))))}),oM=h.forwardRef((e,t)=>Vn(r=>r.filtered.count===0)?h.createElement(se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),iM=h.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return h.createElement(se.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Eu(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),Et=Object.assign(uS,{List:nM,Item:Z2,Input:rM,Group:eM,Separator:tM,Dialog:sM,Empty:oM,Loading:iM});function aM(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function lM(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function dS(e){let t=h.useRef(e);return Fs(()=>{t.current=e}),t}var Fs=typeof window>"u"?h.useEffect:h.useLayoutEffect;function uo(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Vn(e){let t=pm(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function fS(e,t,r,n=[]){let s=h.useRef(),o=Qa();return Fs(()=>{var i;let a=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():s.current}})(),l=n.map(c=>c.trim());o.value(e,a,l),(i=t.current)==null||i.setAttribute(co,a),s.current=a}),s}var cM=()=>{let[e,t]=h.useState(),r=uo(()=>new Map);return Fs(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function uM(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Eu({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(uM(t),{ref:t.ref},r(t.props.children)):r(t)}var dM={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const hS=h.forwardRef(({className:e,...t},r)=>u.jsx(Et,{ref:r,className:Q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));hS.displayName=Et.displayName;const pS=h.forwardRef(({className:e,...t},r)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(jp,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Et.Input,{ref:r,className:Q("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));pS.displayName=Et.Input.displayName;const mS=h.forwardRef(({className:e,...t},r)=>u.jsx(Et.List,{ref:r,className:Q("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));mS.displayName=Et.List.displayName;const gS=h.forwardRef((e,t)=>u.jsx(Et.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));gS.displayName=Et.Empty.displayName;const vS=h.forwardRef(({className:e,...t},r)=>u.jsx(Et.Group,{ref:r,className:Q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));vS.displayName=Et.Group.displayName;const fM=h.forwardRef(({className:e,...t},r)=>u.jsx(Et.Separator,{ref:r,className:Q("-mx-1 h-px bg-border",e),...t}));fM.displayName=Et.Separator.displayName;const gh=h.forwardRef(({className:e,...t},r)=>u.jsx(Et.Item,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));gh.displayName=Et.Item.displayName;const hM=["Espresso","Doppio","Ristretto","Lungo","Americano","Long Black","Cappuccino","Latte","Flat White","Piccolo","Cortado","Macchiato","Mocha","Affogato","Caf au lait","Breve","Vienna","Irish Coffee","Iced Americano","Iced Latte","Iced Cappuccino","Iced Mocha","Cold Brew","Nitro Cold Brew","Espresso Tonic","Pour-over (V60)","Chemex","AeroPress","French Press","Moka Pot","Siphon","Turkish Coffee","Instant Coffee","Decaf","Oat Latte","Soy Latte","Almond Latte","Coconut Latte","Dirty (espresso + milk)","Latte with syrup (vanilla/caramel/hazelnut)","Other"];function pM({open:e,onOpenChange:t,onSave:r,isPending:n}){const[s,o]=h.useState(5),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,f]=h.useState(""),[m,p]=h.useState(""),[x,g]=h.useState(""),[b,w]=h.useState(!1),[v,y]=h.useState(""),_=hM.filter(j=>j.toLowerCase().includes(v.toLowerCase())),E=()=>{r({rating:i?s:null,coffee_type:l,coffee_type_other:d,place:m,diary:x})},S=()=>{r({rating:null,coffee_type:null,coffee_type_other:"",place:"",diary:""})},k=()=>{o(5),a(!1),c(null),f(""),p(""),g(""),y("")},T=j=>{j||k(),t(j)},A=j=>{j==="Other"?(c("Other"),f(v.trim()||"")):(c(j),f("")),w(!1),y("")},P=()=>{v.trim()&&(c("Other"),f(v.trim()),w(!1),y(""))},I=l==="Other"?d:l;return u.jsx(n2,{open:e,onOpenChange:T,children:u.jsxs(S_,{side:"bottom",className:"bg-background border-t border-border rounded-t-2xl",onOpenAutoFocus:j=>j.preventDefault(),children:[u.jsxs(E_,{className:"text-left mb-6",children:[u.jsx(k_,{className:"text-xl font-black uppercase tracking-tight",children:"Nice Coffee! "}),u.jsx(C_,{className:"text-muted-foreground",children:"Optional: Tell us about your coffee"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(wt,{className:"text-sm font-semibold",children:"How was your coffee?"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"1 = terrible, 10 = heavenly"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-sm font-medium w-4",children:"1"}),u.jsx(q_,{value:[s],onValueChange:j=>{o(j[0]),a(!0)},min:1,max:10,step:1,className:"flex-1"}),u.jsx("span",{className:"text-sm font-medium w-4",children:"10"})]}),i&&u.jsx("div",{className:"text-center",children:u.jsx("span",{className:"text-lg font-bold",children:s})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{className:"text-sm font-semibold",children:"What coffee did you have?!"}),u.jsxs(U2,{open:b,onOpenChange:w,children:[u.jsx(B2,{asChild:!0,children:u.jsxs(xe,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-full justify-between bg-background border-border",children:[I||"Search coffee",u.jsx(mT,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(sS,{className:"w-full p-0",align:"start",children:u.jsxs(hS,{children:[u.jsx(pS,{placeholder:"Search coffee",value:v,onValueChange:y}),u.jsxs(mS,{children:[u.jsx(gS,{children:"No coffee found."}),u.jsxs(vS,{children:[_.map(j=>u.jsxs(gh,{value:j,onSelect:()=>A(j),children:[u.jsx(su,{className:Q("mr-2 h-4 w-4",l===j?"opacity-100":"opacity-0")}),j]},j)),v.trim()&&!_.includes(v.trim())&&u.jsxs(gh,{onSelect:P,className:"text-muted-foreground",children:['Use "',v,'" (Other)']})]})]})]})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"place",className:"text-sm font-semibold",children:"Where did you drink it?!"}),u.jsx(Vt,{id:"place",placeholder:"e.g. Kokoni / Home / Office",value:m,onChange:j=>p(j.target.value),className:"bg-background border-border",autoFocus:!1})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"diary",className:"text-sm font-semibold",children:"Coffee Diary (optional)"}),u.jsx(fm,{id:"diary",placeholder:"Notes about taste, vibe, who you were with...",value:x,onChange:j=>g(j.target.value),className:"bg-background border-border min-h-[100px]"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8",children:[u.jsx(xe,{variant:"outline",className:"flex-1 h-12 font-semibold",onClick:S,disabled:n,children:"Skip"}),u.jsx(xe,{className:"flex-1 h-12 font-semibold",onClick:E,disabled:n,children:n?"Saving...":"Save"})]})]})})}function Hn(e=new Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function mM(){const{user:e}=ve(),t=Pr(),r=Hn();return mi({mutationFn:async n=>{if(!e)throw new Error("Not authenticated");const{data:s,error:o}=await Z.from("daily_coffees").insert({user_id:e.id,coffee_date:r,rating:n.rating??null,coffee_type:n.coffee_type??null,coffee_type_other:n.coffee_type_other??null,place:n.place??null,diary:n.diary??null}).select().single();if(o)throw o;return s},onSuccess:()=>{t.invalidateQueries({queryKey:["today-coffees"]}),t.invalidateQueries({queryKey:["month-coffee-count"]}),t.invalidateQueries({queryKey:["month-coffee-day-counts"]}),t.invalidateQueries({queryKey:["coffees"]}),t.invalidateQueries({queryKey:["leaderboard"]}),t.invalidateQueries({queryKey:["today-percentage"]})}})}function gM(){const{user:e}=ve(),t=Hn();return ze({queryKey:["today-coffees",e==null?void 0:e.id,t],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await Z.from("daily_coffees").select("*").eq("user_id",e.id).eq("coffee_date",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]},enabled:!!e})}function mm(){const{user:e}=ve(),t=new Date;return ze({queryKey:["month-coffee-count",e==null?void 0:e.id],queryFn:async()=>{if(!e)return 0;const r=Hn(new Date(t.getFullYear(),t.getMonth(),1)),n=Hn(new Date(t.getFullYear(),t.getMonth()+1,0)),{count:s,error:o}=await Z.from("daily_coffees").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("coffee_date",r).lte("coffee_date",n);if(o)throw o;return s||0},enabled:!!e})}function vM(e,t){const{user:r}=ve(),n=new Date,s=e??n.getFullYear(),o=t??n.getMonth();return ze({queryKey:["month-coffee-day-counts",r==null?void 0:r.id,s,o],queryFn:async()=>{if(!r)return{};const i=Hn(new Date(s,o,1)),a=Hn(new Date(s,o+1,0)),{data:l,error:c}=await Z.from("daily_coffees").select("coffee_date").eq("user_id",r.id).gte("coffee_date",i).lte("coffee_date",a);if(c)throw c;const d={};return(l||[]).forEach(f=>{const m=f.coffee_date;d[m]=(d[m]||0)+1}),d},enabled:!!r})}function yM(){return ze({queryKey:["today-percentage"],queryFn:async()=>{const{data:e,error:t}=await Z.rpc("get_today_coffee_percentage");if(t)throw t;return Number(e)||0}})}function wM(){const{user:e,loading:t}=ve(),{data:r=0,isLoading:n}=mm(),{data:s=[],isLoading:o}=gM(),{data:i}=yM(),a=mM(),l=Gt(),[c,d]=h.useState(!1),[f,m]=h.useState(!1),p=t||e&&(n||o),x=()=>{if(!e){l("/profile?msg=tracking");return}m(!0)},g=async w=>{try{await a.mutateAsync({rating:w.rating,coffee_type:w.coffee_type,coffee_type_other:w.coffee_type_other,place:w.place,diary:w.diary}),m(!1),d(!0)}catch(v){console.error("Error adding coffee:",v)}},b=100-(i||0);return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx(qb,{monthCount:r}),u.jsx("div",{className:"container flex flex-col items-center justify-center px-4 pt-16",children:p?u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight text-center mb-12",children:"Log a coffee "}),u.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[u.jsx(xe,{onClick:x,className:"btn-run btn-run-yes w-full",disabled:a.isPending,size:"lg",children:a.isPending?"Saving...":"+ Add Coffee"}),s.length>0&&u.jsxs("div",{className:"mt-8 space-y-3 animate-fade-in",children:[u.jsxs("p",{className:"text-sm font-semibold text-muted-foreground text-center",children:["Today: ",s.length," ",s.length===1?"coffee":"coffees"]}),u.jsxs("div",{className:"space-y-2",children:[s.slice(0,3).map(w=>u.jsx("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-medium",children:w.coffee_type==="Other"?w.coffee_type_other||"Coffee":w.coffee_type||"Coffee"}),w.rating&&u.jsxs("span",{className:"text-muted-foreground",children:[w.rating,"/10"]})]})},w.id)),s.length>3&&u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",s.length-3," more"]})]})]})]})]})}),u.jsx(pM,{open:f,onOpenChange:m,onSave:g,isPending:a.isPending}),u.jsx(r2,{open:c,onOpenChange:d,percentBeat:b})]})}function oy(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function xM(e,t){return ze({queryKey:["events",e,t],queryFn:async()=>{const r=oy(new Date(e,t,1)),n=oy(new Date(e,t+1,0)),{data:s,error:o}=await Z.from("run_club_events").select("*").gte("event_date",r).lte("event_date",n).order("event_date",{ascending:!0});if(o)throw o;return s}})}function bM(e){const t=new Map;return e.forEach(r=>{const n=Number(r.event_date.slice(8,10)),s=t.get(n)||[];t.set(n,[...s,r])}),t}function _M(e){const{user:t}=ve();return ze({queryKey:["eventRegistration",e,t==null?void 0:t.id],queryFn:async()=>{if(!e||!t)return null;const{data:r,error:n}=await Z.from("event_registrations").select("*").eq("event_id",e).eq("user_id",t.id).maybeSingle();if(n)throw n;return r},enabled:!!e&&!!t})}function SM(){const{user:e}=ve();return ze({queryKey:["userEventRegistrations",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Z.from("event_registrations").select("*").eq("user_id",e.id).eq("status","registered");if(r)throw r;return t},enabled:!!e})}function EM(){const e=Pr(),{user:t}=ve();return mi({mutationFn:async({eventId:r,existingRegistrationId:n})=>{if(!t)throw new Error("Must be logged in");if(n){const{data:s,error:o}=await Z.from("event_registrations").update({status:"registered"}).eq("id",n).select().single();if(o)throw o;return s}else{const{data:s,error:o}=await Z.from("event_registrations").insert({event_id:r,user_id:t.id,status:"registered"}).select().single();if(o)throw o;return s}},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["eventRegistration",n.eventId]}),e.invalidateQueries({queryKey:["userEventRegistrations"]})}})}function kM(){const e=Pr();return mi({mutationFn:async({registrationId:t,eventId:r})=>{const{data:n,error:s}=await Z.from("event_registrations").update({status:"cancel"}).eq("id",t).select().single();if(s)throw s;return n},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["eventRegistration",r.eventId]}),e.invalidateQueries({queryKey:["userEventRegistrations"]})}})}function CM(e){return e===0?"":e===1?"calendar-day-coffee-1":e===2?"calendar-day-coffee-2":"calendar-day-coffee-3"}function TM({day:e,coffeeCount:t,isToday:r,events:n,registeredEventIds:s,onEventClick:o}){const a=n.slice(0,2),l=n.length-2;return u.jsxs("div",{className:Q("calendar-day-cell",CM(t),r&&"calendar-day-today"),children:[u.jsxs("div",{className:"calendar-day-number relative",children:[e,t>0&&u.jsx("span",{className:Q("absolute -top-1 -right-1 text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center",t>=3?"bg-foreground text-background":"bg-muted text-foreground"),children:t})]}),n.length>0&&u.jsxs("div",{className:"calendar-day-events",children:[a.map(c=>{const d=s.has(c.id);return u.jsx("button",{onClick:f=>{f.stopPropagation(),o(c)},className:`calendar-event-label ${d?"calendar-event-registered":""}`,title:c.name,children:c.name},c.id)}),l>0&&u.jsxs("span",{className:"calendar-event-more",children:["+",l," more"]})]})]})}var yS="AlertDialog",[NM]=Yr(yS,[r_]),Zr=r_(),wS=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zr(t);return u.jsx(wu,{...n,...r,modal:!0})};wS.displayName=yS;var RM="AlertDialogTrigger",PM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return u.jsx(ZD,{...s,...n,ref:t})});PM.displayName=RM;var jM="AlertDialogPortal",xS=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zr(t);return u.jsx(xu,{...n,...r})};xS.displayName=jM;var OM="AlertDialogOverlay",bS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return u.jsx(wi,{...s,...n,ref:t})});bS.displayName=OM;var Do="AlertDialogContent",[AM,IM]=NM(Do),DM=F0("AlertDialogContent"),_S=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=Zr(r),i=h.useRef(null),a=he(t,i),l=h.useRef(null);return u.jsx(YD,{contentName:Do,titleName:SS,docsSlug:"alert-dialog",children:u.jsx(AM,{scope:r,cancelRef:l,children:u.jsxs(xi,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:X(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(DM,{children:n}),u.jsx(LM,{contentRef:i})]})})})});_S.displayName=Do;var SS="AlertDialogTitle",ES=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return u.jsx(Ka,{...s,...n,ref:t})});ES.displayName=SS;var kS="AlertDialogDescription",CS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return u.jsx(Ga,{...s,...n,ref:t})});CS.displayName=kS;var MM="AlertDialogAction",TS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zr(r);return u.jsx(bu,{...s,...n,ref:t})});TS.displayName=MM;var NS="AlertDialogCancel",RS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=IM(NS,r),o=Zr(r),i=he(t,s);return u.jsx(bu,{...o,...n,ref:i})});RS.displayName=NS;var LM=({contentRef:e})=>{const t=`\`${Do}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Do}\` by passing a \`${kS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Do}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$M=wS,FM=xS,PS=bS,jS=_S,OS=TS,AS=RS,IS=ES,DS=CS;const iy=$M,UM=FM,MS=h.forwardRef(({className:e,...t},r)=>u.jsx(PS,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));MS.displayName=PS.displayName;const vh=h.forwardRef(({className:e,...t},r)=>u.jsxs(UM,{children:[u.jsx(MS,{}),u.jsx(jS,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vh.displayName=jS.displayName;const yh=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});yh.displayName="AlertDialogHeader";const wh=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wh.displayName="AlertDialogFooter";const xh=h.forwardRef(({className:e,...t},r)=>u.jsx(IS,{ref:r,className:Q("text-lg font-semibold",e),...t}));xh.displayName=IS.displayName;const bh=h.forwardRef(({className:e,...t},r)=>u.jsx(DS,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));bh.displayName=DS.displayName;const _h=h.forwardRef(({className:e,...t},r)=>u.jsx(OS,{ref:r,className:Q(sm(),e),...t}));_h.displayName=OS.displayName;const Sh=h.forwardRef(({className:e,...t},r)=>u.jsx(AS,{ref:r,className:Q(sm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Sh.displayName=AS.displayName;function _i(){const{user:e}=ve(),{data:t,isLoading:r}=ze({queryKey:["user-role",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:i,error:a}=await Z.from("user_access").select("role").eq("user_id",e.id).maybeSingle();return a?(console.error("Error fetching user role:",a),null):(i==null?void 0:i.role)||null},enabled:!!e}),n=t==="super_admin",s=t==="run_club_host";return{role:t,isSuperAdmin:n,isRunClubHost:s,canHostEvent:n||s,isLoading:r}}function BM(e){const{user:t}=ve(),{isSuperAdmin:r,isRunClubHost:n}=_i();return ze({queryKey:["can-view-participants",e,t==null?void 0:t.id,r,n],queryFn:async()=>{if(!t||!e)return!1;if(r)return!0;if(n){const{data:s,error:o}=await Z.from("run_club_events").select("org_id").eq("id",e).maybeSingle();if(o||!s||!s.org_id)return!1;const{data:i,error:a}=await Z.from("org_hosts").select("id").eq("org_id",s.org_id).eq("user_id",t.id).maybeSingle();return a?!1:!!i}return!1},enabled:!!t&&!!e&&(r||n)})}function zM({event:e,open:t,onOpenChange:r}){const{user:n}=ve(),s=Gt(),{toast:o}=eu(),[i,a]=h.useState(!1),[l,c]=h.useState(!1),{data:d,isLoading:f}=_M(e==null?void 0:e.id),{data:m,isLoading:p}=BM((e==null?void 0:e.id)||null),x=EM(),g=kM();if(!e)return null;const b=T=>{const[A,P,I]=T.split("-").map(Number);return new Date(A,P-1,I).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},w=(d==null?void 0:d.status)==="registered",v=d==null?void 0:d.id,y=()=>{if(!n){o({title:"Please log in to register",description:"You need to be logged in to register for events.",variant:"destructive"});return}a(!0)},_=async()=>{a(!1);try{await x.mutateAsync({eventId:e.id,existingRegistrationId:v}),o({title:"Registered!",description:`You're registered for ${e.name}.`})}catch{o({title:"Registration failed",description:"Please try again.",variant:"destructive"})}},E=()=>{c(!0)},S=async()=>{if(c(!1),!!v)try{await g.mutateAsync({registrationId:v,eventId:e.id}),o({title:"Cancelled",description:"Your registration has been cancelled."})}catch{o({title:"Cancellation failed",description:"Please try again.",variant:"destructive"})}},k=x.isPending||g.isPending;return u.jsxs(u.Fragment,{children:[u.jsx(y_,{open:t,onOpenChange:r,children:u.jsxs(um,{className:"sm:max-w-md bg-background border border-foreground/20",children:[u.jsx(x_,{children:u.jsx(b_,{className:"text-xl font-bold tracking-tight",children:e.name})}),u.jsxs("div",{className:"space-y-4 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(hx,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:b(e.event_date)})]}),e.event_time&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(gT,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:e.event_time})]}),e.location&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(vT,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:e.location})]}),e.description&&u.jsx("div",{className:"pt-2 border-t border-foreground/10",children:u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),u.jsxs("div",{className:"pt-4 border-t border-foreground/10 space-y-3",children:[f?u.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):w?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(xe,{disabled:!0,className:"flex items-center gap-2 bg-green-600 hover:bg-green-600 text-white",children:[u.jsx(su,{className:"h-4 w-4"}),"Registered"]}),u.jsx(xe,{variant:"outline",onClick:E,disabled:k,children:"Cancel"})]}):u.jsx(xe,{onClick:y,disabled:k,className:"w-full sm:w-auto",children:"Register"}),!p&&m&&u.jsxs(xe,{variant:"outline",onClick:()=>{r(!1),s("/host/participants",{state:{eventId:e.id}})},className:"w-full flex items-center gap-2",children:[u.jsx(bT,{className:"h-4 w-4"}),"View Participants"]})]})]})]})}),u.jsx(iy,{open:i,onOpenChange:a,children:u.jsxs(vh,{children:[u.jsxs(yh,{children:[u.jsx(xh,{children:"Register for this event?"}),u.jsxs(bh,{children:["Confirm your registration for ",e.name,"?"]})]}),u.jsxs(wh,{children:[u.jsx(Sh,{children:"no...."}),u.jsx(_h,{onClick:_,children:"YES!"})]})]})}),u.jsx(iy,{open:l,onOpenChange:c,children:u.jsxs(vh,{children:[u.jsxs(yh,{children:[u.jsx(xh,{children:"Cancel registration?"}),u.jsxs(bh,{children:["Are you sure you want to cancel your registration for ",e.name,"?"]})]}),u.jsxs(wh,{children:[u.jsx(Sh,{children:"No"}),u.jsx(_h,{onClick:S,children:"Yes, cancel"})]})]})})]})}const WM=["January","February","March","April","May","June","July","August","September","October","November","December"],VM=["S","M","T","W","T","F","S"];function HM(){const{user:e,loading:t}=ve(),[r,n]=h.useState(new Date),[s,o]=h.useState(null),[i,a]=h.useState(!1),l=r.getFullYear(),c=r.getMonth(),d=new Date,f=d.getFullYear()===l&&d.getMonth()===c,m=mm(),{data:p={},isLoading:x}=vM(l,c),{data:g=[]}=xM(l,c),{data:b=[]}=SM(),w=new Date(l,c,1).getDay(),v=new Date(l,c+1,0).getDate(),y=bM(g),_=h.useMemo(()=>new Set(b.map(P=>P.event_id)),[b]),E=t,S=()=>{n(new Date(l,c-1,1))},k=()=>{n(new Date(l,c+1,1))},T=()=>{n(new Date)},A=P=>{o(P),a(!0)};return E?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx(qb,{monthCount:m.data||0}),u.jsxs("div",{className:"container px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(xe,{variant:"ghost",size:"icon",onClick:S,children:u.jsx(Rf,{size:24})}),u.jsxs("button",{onClick:T,className:"text-xl font-bold uppercase tracking-tight",children:[WM[c]," ",l]}),u.jsx(xe,{variant:"ghost",size:"icon",onClick:k,children:u.jsx(mx,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:VM.map((P,I)=>u.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:P},I))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:w}).map((P,I)=>u.jsx("div",{className:"min-h-[60px]"},`empty-${I}`)),Array.from({length:v}).map((P,I)=>{const j=I+1,H=Hn(new Date(l,c,j)),D=p[H]||0,G=f&&d.getDate()===j,W=y.get(j)||[];return u.jsx(TM,{day:j,coffeeCount:D,isToday:G,events:W,registeredEventIds:_,onEventClick:A},j)})]}),u.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-sm flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/30 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"1 coffee"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/60 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"2 coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-foreground text-background text-[10px] flex items-center justify-center font-bold",children:"3+"}),u.jsx("span",{className:"text-muted-foreground",children:"3+ coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Today"})]}),g.length>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-4 bg-muted text-[8px] flex items-center justify-center",children:"Event"}),u.jsx("span",{className:"text-muted-foreground",children:"Event"})]})]})]}),u.jsx(zM,{event:s,open:i,onOpenChange:a})]})}function LS(){return ze({queryKey:["leaderboard"],queryFn:async()=>{const{data:e,error:t}=await Z.from("leaderboard").select("*").order("run_count",{ascending:!1}).order("created_at",{ascending:!0});if(t)throw t;return e||[]}})}function qM(e,t,r){const{user:n}=ve();return ze({queryKey:["user-coffees",e,t,r],queryFn:async()=>{if(!e)return[];const s=new Date(t,r,1).toISOString().split("T")[0],o=new Date(t,r+1,0).toISOString().split("T")[0],{data:i,error:a}=await Z.from("daily_coffees_authed_read").select("user_id, coffee_date").eq("user_id",e).gte("coffee_date",s).lte("coffee_date",o);if(a)throw a;return i||[]},enabled:!!n&&!!e})}function KM(e){return ze({queryKey:["user-profile",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await Z.from("profiles").select("user_id, username").eq("user_id",e).maybeSingle();if(r)throw r;return t},enabled:!!e})}function $S(e){const{user:t}=ve();return ze({queryKey:["search-users",e],queryFn:async()=>{if(!e||e.length<2)return[];const{data:r,error:n}=await Z.from("profiles").select("user_id, username").ilike("username",`%${e}%`).limit(10);if(n)throw n;return r||[]},enabled:!!t&&e.length>=2})}function GM(){const e=Gt(),{data:t,isLoading:r}=LS(),{profile:n,user:s}=ve(),[o,i]=h.useState(!1),[a,l]=h.useState(""),{data:c=[]}=$S(a),d=new Date().toLocaleDateString("en-US",{month:"long"}),f=x=>{if(!s){e("/profile?msg=view-calendar");return}e(`/users/${x}`)},m=()=>{if(!s){e("/profile?msg=search");return}i(!0)},p=x=>{i(!1),l(""),e(`/users/${x}`)};return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:o?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vt,{type:"text",placeholder:"Search runners...",value:a,onChange:x=>l(x.target.value),className:"flex-1",autoFocus:!0}),u.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>{i(!1),l("")},children:u.jsx(ou,{size:20})})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"w-10"})," ",u.jsxs("div",{className:"text-center flex-1",children:[u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Leaderboard"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[d," Rankings"]})]}),u.jsx(xe,{variant:"ghost",size:"icon",onClick:m,children:u.jsx(jp,{size:20})})]})}),o&&a.length>=2&&u.jsx("div",{className:"container px-4 py-2 border-b border-border",children:c.length>0?u.jsx("div",{className:"space-y-1",children:c.map(x=>u.jsx("button",{onClick:()=>p(x.user_id),className:"w-full text-left py-2 px-2 hover:bg-muted transition-colors font-medium",children:x.username},x.user_id))}):u.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No runners found"})}),u.jsx("div",{className:"container px-4 py-4",children:r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):t&&t.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-2 py-2 text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:[u.jsx("div",{className:"col-span-2 text-center",children:"#"}),u.jsx("div",{className:"col-span-7",children:"Runner"}),u.jsx("div",{className:"col-span-3 text-right",children:"Days"})]}),t.map((x,g)=>{const b=(n==null?void 0:n.username)===x.username;return u.jsxs("div",{className:`grid grid-cols-12 gap-2 py-3 items-center ${b?"bg-foreground text-background":""} ${g<3?"font-bold":""}`,children:[u.jsx("div",{className:"col-span-2 text-center text-lg",children:g===0?"":g===1?"":g===2?"":g+1}),u.jsx("div",{className:"col-span-7 font-medium truncate",children:u.jsxs("button",{onClick:()=>x.user_id&&f(x.user_id),className:`hover:underline text-left ${b?"text-background":"text-foreground"}`,children:[x.username,b&&" (you)"]})}),u.jsx("div",{className:"col-span-3 text-right font-bold",children:x.run_count})]},x.id)})]}):u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx("p",{className:"text-lg font-semibold",children:"No runners yet"}),u.jsx("p",{className:"text-sm mt-1",children:"Be the first to check in!"})]})})]})}function YM(){const{user:e}=ve();return ze({queryKey:["max-streak",e==null?void 0:e.id],queryFn:async()=>{if(!e)return 0;const{data:t,error:r}=await Z.from("daily_coffees").select("coffee_date").eq("user_id",e.id).order("coffee_date",{ascending:!0});if(r)throw r;if(!t||t.length===0)return 0;const n=t.map(i=>new Date(i.coffee_date));let s=1,o=1;for(let i=1;i<n.length;i++){const a=n[i-1],c=n[i].getTime()-a.getTime(),d=Math.floor(c/(1e3*60*60*24));d===1?(o++,s=Math.max(s,o)):d>1&&(o=1)}return s},enabled:!!e})}function QM(){const[e]=sO(),t=e.get("msg"),n=(()=>{switch(t){case"tracking":return"Sign-up/log in to start tracking your coffee!";case"view-calendar":return"Log in to view other coffee drinkers' calendars.";case"search":return"Log in to search and view other coffee drinkers.";case"messages":return"Log in to message other coffee drinkers.";default:return null}})(),{user:s,profile:o,loading:i,signIn:a,signUp:l,signOut:c}=ve(),{data:d}=LS(),{data:f}=YM(),{data:m=0}=mm(),{canHostEvent:p,role:x,isLoading:g}=_i(),{toast:b}=eu(),w=Gt(),[v,y]=h.useState(!1),[_,E]=h.useState(""),[S,k]=h.useState(""),[T,A]=h.useState(""),[P,I]=h.useState(""),[j,H]=h.useState(!1);if(i)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})});const D=o&&d?d.findIndex(N=>N.username===o.username)+1:null,G=()=>{p?w("/host/event/create"):b({title:"Access Required",description:"Please upgrade your access to host events."})},W=async N=>{N.preventDefault(),I(""),H(!0);try{if(v){if(!T.trim()){I("Username is required"),H(!1);return}const{error:O}=await l(_,S,T);O?I(O.message):w("/")}else{const{error:O}=await a(_,S);O?I(O.message):w("/")}}catch{I("Something went wrong")}finally{H(!1)}},q=async()=>{await c()};return s&&o?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"Profile"})}),u.jsxs("div",{className:"container px-4 py-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-foreground text-background rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-3xl font-black uppercase",children:o.username.charAt(0)})}),u.jsx("h2",{className:"text-2xl font-black uppercase",children:o.username})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:D||"-"}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"Rank"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:m}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"This Month"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:f||0}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"Max Streak"})]})]}),u.jsx(xe,{onClick:G,className:"w-full btn-run btn-run-yes mb-4",disabled:g,children:"Host Event"}),u.jsx(xe,{onClick:()=>w("/events/my"),className:"w-full btn-run btn-run-yes mb-4",children:"View Event"}),(x==="run_club_host"||x==="super_admin")&&u.jsx(xe,{onClick:()=>{p?w("/host/participants"):b({title:"Access Required",description:"Please upgrade your access to host events."})},className:"w-full btn-run btn-run-yes mb-4",disabled:g,children:"View Participants"}),u.jsx(xe,{onClick:q,className:"w-full btn-run btn-run-no",variant:"outline",children:"Logout"})]})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:v?"Sign Up":"Login"})}),u.jsxs("div",{className:"container px-4 py-8",children:[n&&u.jsx("div",{className:"max-w-sm mx-auto mb-6 p-4 bg-foreground text-background text-center",children:u.jsx("p",{className:"font-bold uppercase",children:n})}),u.jsxs("form",{onSubmit:W,className:"space-y-4 max-w-sm mx-auto",children:[v&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"username",className:"text-sm font-semibold uppercase",children:"Username"}),u.jsx(Vt,{id:"username",type:"text",value:T,onChange:N=>A(N.target.value),placeholder:"runner123",className:"h-12 text-lg",required:v})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"email",className:"text-sm font-semibold uppercase",children:"Email"}),u.jsx(Vt,{id:"email",type:"email",value:_,onChange:N=>E(N.target.value),placeholder:"you@example.com",className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"password",className:"text-sm font-semibold uppercase",children:"Password"}),u.jsx(Vt,{id:"password",type:"password",value:S,onChange:N=>k(N.target.value),placeholder:"",className:"h-12 text-lg",required:!0,minLength:6})]}),P&&u.jsx("p",{className:"text-sm font-medium text-center bg-foreground text-background p-2",children:P}),u.jsx(xe,{type:"submit",className:"w-full btn-run btn-run-yes",disabled:j,children:j?"Loading...":v?"Create Account":"Login"}),u.jsx("button",{type:"button",onClick:()=>{y(!v),I("")},className:"w-full text-center text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2",children:v?"Already have an account? Login":"Don't have an account? Sign up"})]})]})]})}function Se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const FS=6048e5,JM=864e5,US=6e4,BS=36e5,Pl=43200,ay=1440;let XM={};function Ja(){return XM}function Aa(e,t){var a,l,c,d;const r=Ja(),n=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Dc(e){return Aa(e,{weekStartsOn:1})}function zS(e){const t=Se(e),r=t.getFullYear(),n=qn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Dc(n),o=qn(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Dc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function ly(e){const t=Se(e);return t.setHours(0,0,0,0),t}function Mc(e){const t=Se(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ZM(e,t){const r=ly(e),n=ly(t),s=+r-Mc(r),o=+n-Mc(n);return Math.round((s-o)/JM)}function eL(e){const t=zS(e),r=qn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Dc(r)}function Ql(e,t){const r=Se(e),n=Se(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function tL(e){return qn(e,Date.now())}function rL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nL(e){if(!rL(e)&&typeof e!="number")return!1;const t=Se(e);return!isNaN(Number(t))}function sL(e,t){const r=Se(e),n=Se(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function oL(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function iL(e,t){return+Se(e)-+Se(t)}function aL(e){const t=Se(e);return t.setHours(23,59,59,999),t}function lL(e){const t=Se(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function cL(e){const t=Se(e);return+aL(t)==+lL(t)}function uL(e,t){const r=Se(e),n=Se(t),s=Ql(r,n),o=Math.abs(sL(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let a=Ql(r,n)===-s;cL(Se(e))&&o===1&&Ql(e,n)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function dL(e,t,r){const n=iL(e,t)/1e3;return oL(r==null?void 0:r.roundingMethod)(n)}function fL(e){const t=Se(e),r=qn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const hL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pL=(e,t,r)=>{let n;const s=hL[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yL={date:Pd({formats:mL,defaultWidth:"full"}),time:Pd({formats:gL,defaultWidth:"full"}),dateTime:Pd({formats:vL,defaultWidth:"full"})},wL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xL=(e,t,r,n)=>wL[e];function Li(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const bL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_L={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NL={ordinalNumber:TL,era:Li({values:bL,defaultWidth:"wide"}),quarter:Li({values:_L,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Li({values:SL,defaultWidth:"wide"}),day:Li({values:EL,defaultWidth:"wide"}),dayPeriod:Li({values:kL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})};function $i(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?PL(a,f=>f.test(i)):RL(a,f=>f.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}function RL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function PL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const OL=/^(\d+)(th|st|nd|rd)?/i,AL=/\d+/i,IL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DL={any:[/^b/i,/^(a|c)/i]},ML={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},$L={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VL={ordinalNumber:jL({matchPattern:OL,parsePattern:AL,valueCallback:e=>parseInt(e,10)}),era:$i({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),quarter:$i({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$i({matchPatterns:$L,defaultMatchWidth:"wide",parsePatterns:FL,defaultParseWidth:"any"}),day:$i({matchPatterns:UL,defaultMatchWidth:"wide",parsePatterns:BL,defaultParseWidth:"any"}),dayPeriod:$i({matchPatterns:zL,defaultMatchWidth:"any",parsePatterns:WL,defaultParseWidth:"any"})},WS={code:"en-US",formatDistance:pL,formatLong:yL,formatRelative:xL,localize:NL,match:VL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HL(e){const t=Se(e);return ZM(t,fL(t))+1}function qL(e){const t=Se(e),r=+Dc(t)-+eL(t);return Math.round(r/FS)+1}function VS(e,t){var d,f,m,p;const r=Se(e),n=r.getFullYear(),s=Ja(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=qn(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Aa(i,t),l=qn(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=Aa(l,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function KL(e,t){var a,l,c,d;const r=Ja(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=VS(e,t),o=qn(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Aa(o,t)}function GL(e,t){const r=Se(e),n=+Aa(r,t)-+KL(r,t);return Math.round(n/FS)+1}function we(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ln={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return we(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):we(r+1,2)},d(e,t){return we(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return we(e.getHours()%12||12,t.length)},H(e,t){return we(e.getHours(),t.length)},m(e,t){return we(e.getMinutes(),t.length)},s(e,t){return we(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return we(s,t.length)}},oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cy={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ln.y(e,t)},Y:function(e,t,r,n){const s=VS(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return we(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):we(o,t.length)},R:function(e,t){const r=zS(e);return we(r,t.length)},u:function(e,t){const r=e.getFullYear();return we(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return we(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return we(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ln.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return we(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=GL(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):we(s,t.length)},I:function(e,t,r){const n=qL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):we(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ln.d(e,t)},D:function(e,t,r){const n=HL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):we(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return we(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return we(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return we(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=oo.noon:n===0?s=oo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=oo.evening:n>=12?s=oo.afternoon:n>=4?s=oo.morning:s=oo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ln.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ln.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ln.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ln.s(e,t)},S:function(e,t){return ln.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dy(n);case"XXXX":case"XX":return us(n);case"XXXXX":case"XXX":default:return us(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return dy(n);case"xxxx":case"xx":return us(n);case"xxxxx":case"xxx":default:return us(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uy(n,":");case"OOOO":default:return"GMT"+us(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uy(n,":");case"zzzz":default:return"GMT"+us(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return we(n,t.length)},T:function(e,t,r){const n=e.getTime();return we(n,t.length)}};function uy(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+we(o,2)}function dy(e,t){return e%60===0?(e>0?"-":"+")+we(Math.abs(e)/60,2):us(e,t)}function us(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=we(Math.trunc(n/60),2),o=we(n%60,2);return r+s+t+o}const fy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},YL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return fy(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fy(n,t)).replace("{{time}}",HS(s,t))},QL={p:HS,P:YL},JL=/^D+$/,XL=/^Y+$/,ZL=["D","DD","YY","YYYY"];function e$(e){return JL.test(e)}function t$(e){return XL.test(e)}function r$(e,t,r){const n=n$(e,t,r);if(console.warn(n),ZL.includes(e))throw new RangeError(n)}function n$(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i$=/^'([^]*?)'?$/,a$=/''/g,l$=/[a-zA-Z]/;function Eh(e,t,r){var d,f,m,p;const n=Ja(),s=n.locale??WS,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Se(e);if(!nL(a))throw new RangeError("Invalid time value");let l=t.match(o$).map(x=>{const g=x[0];if(g==="p"||g==="P"){const b=QL[g];return b(x,s.formatLong)}return x}).join("").match(s$).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:c$(x)};if(cy[g])return{isToken:!0,value:x};if(g.match(l$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const g=x.value;(t$(g)||e$(g))&&r$(g,t,String(e));const b=cy[g[0]];return b(a,g,s.localize,c)}).join("")}function c$(e){const t=e.match(i$);return t?t[1].replace(a$,"'"):e}function u$(e,t,r){const n=Ja(),s=(r==null?void 0:r.locale)??n.locale??WS,o=2520,i=Ql(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,c;i>0?(l=Se(t),c=Se(e)):(l=Se(e),c=Se(t));const d=dL(c,l),f=(Mc(c)-Mc(l))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<ay){const x=Math.round(m/60);return s.formatDistance("aboutXHours",x,a)}else{if(m<o)return s.formatDistance("xDays",1,a);if(m<Pl){const x=Math.round(m/ay);return s.formatDistance("xDays",x,a)}else if(m<Pl*2)return p=Math.round(m/Pl),s.formatDistance("aboutXMonths",p,a)}if(p=uL(c,l),p<12){const x=Math.round(m/Pl);return s.formatDistance("xMonths",x,a)}else{const x=p%12,g=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",g,a):x<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function d$(e,t){return u$(e,tL(e),t)}function kh(e,t){const n=m$(e);let s;if(n.date){const l=g$(n.date,2);s=v$(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(n.time&&(i=y$(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(a=w$(n.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+i),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+i+a)}const jl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},f$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,h$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m$(e){const t={},r=e.split(jl.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],jl.timeZoneDelimiter.test(t.date)&&(t.date=e.split(jl.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=jl.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function g$(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function v$(e,t){if(t===null)return new Date(NaN);const r=e.match(f$);if(!r)return new Date(NaN);const n=!!r[4],s=Fi(r[1]),o=Fi(r[2])-1,i=Fi(r[3]),a=Fi(r[4]),l=Fi(r[5])-1;if(n)return E$(t,a,l)?x$(t,a,l):new Date(NaN);{const c=new Date(0);return!_$(t,o,i)||!S$(t,s)?new Date(NaN):(c.setUTCFullYear(t,o,Math.max(s,i)),c)}}function Fi(e){return e?parseInt(e):1}function y$(e){const t=e.match(h$);if(!t)return NaN;const r=jd(t[1]),n=jd(t[2]),s=jd(t[3]);return k$(r,n,s)?r*BS+n*US+s*1e3:NaN}function jd(e){return e&&parseFloat(e.replace(",","."))||0}function w$(e){if(e==="Z")return 0;const t=e.match(p$);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return C$(n,s)?r*(n*BS+s*US):NaN}function x$(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const b$=[31,null,31,30,31,30,31,31,30,31,30,31];function qS(e){return e%400===0||e%4===0&&e%100!==0}function _$(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(b$[t]||(qS(e)?29:28))}function S$(e,t){return t>=1&&t<=(qS(e)?366:365)}function E$(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function k$(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function C$(e,t){return t>=0&&t<=59}function T$(){const{user:e}=ve(),t=Gt(),[r,n]=h.useState(""),[s,o]=h.useState(null),[i,a]=h.useState(""),{data:l=[],isLoading:c}=Hb(),{data:d=[]}=$S(r),f=WI(),{data:m=[]}=VI((s==null?void 0:s.id)||null),p=HI(),x=qI();if(KI((s==null?void 0:s.id)||null),h.useEffect(()=>{e||t("/profile?msg=messages")},[e,t]),h.useEffect(()=>{s&&s.hasUnread&&x.mutate(s)},[s==null?void 0:s.id]),!e)return null;const g=async(y,_)=>{try{const E=await f.mutateAsync(y);o({...E,other_username:_}),n("")}catch(E){console.error("Failed to create thread:",E)}},b=y=>{o(y),n("")},w=async()=>{if(!(!i.trim()||!s))try{await p.mutateAsync({threadId:s.id,body:i}),a("")}catch(y){console.error("Failed to send message:",y)}},v=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),w())};return s?u.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("button",{onClick:()=>o(null),className:"p-2 -ml-2 hover:bg-muted rounded-full",children:u.jsx(ri,{size:24})}),u.jsx("span",{className:"font-semibold text-lg",children:s.other_username})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:m.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No messages yet. Say hi!"}):m.map(y=>{const _=y.sender_id===e.id;return u.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl ${_?"bg-foreground text-background rounded-br-sm":"bg-muted text-foreground rounded-bl-sm"}`,children:u.jsx("p",{className:"text-sm break-words",children:y.body})})},y.id)})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Vt,{value:i,onChange:y=>a(y.target.value),onKeyDown:v,placeholder:"Message...",className:"flex-1"}),u.jsx(xe,{onClick:w,disabled:!i.trim()||p.isPending,size:"icon",children:u.jsx(gx,{size:20})})]})})]}):u.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)]",children:[u.jsxs("div",{className:"p-4 border-b border-border",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Messages"}),u.jsxs("div",{className:"relative",children:[u.jsx(jp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx(Vt,{value:r,onChange:y=>n(y.target.value),placeholder:"Search users",className:"pl-10"})]})]}),r.length>=2&&d.length>0&&u.jsxs("div",{className:"border-b border-border",children:[u.jsx("p",{className:"px-4 py-2 text-xs text-muted-foreground font-medium",children:"USERS"}),d.map(y=>u.jsxs("button",{onClick:()=>g(y.user_id,y.username),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-muted text-left",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-foreground text-background flex items-center justify-center font-semibold",children:y.username.charAt(0).toUpperCase()}),u.jsx("span",{className:"font-medium",children:y.username})]},y.user_id))]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:c?u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading..."}):l.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[u.jsx(yT,{size:48,className:"mb-4"}),u.jsx("p",{children:"No messages yet"}),u.jsx("p",{className:"text-sm",children:"Search for users to start a conversation"})]}):l.map(y=>{var _;return u.jsxs("button",{onClick:()=>b(y),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-muted text-left border-b border-border",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-foreground text-background flex items-center justify-center font-semibold text-lg",children:((_=y.other_username)==null?void 0:_.charAt(0).toUpperCase())||"?"}),y.hasUnread&&u.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-500 rounded-full border-2 border-background"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:`${y.hasUnread?"font-bold":"font-semibold"}`,children:y.other_username}),y.last_message_at&&u.jsx("span",{className:`text-xs ${y.hasUnread?"text-foreground font-semibold":"text-muted-foreground"}`,children:d$(new Date(y.last_message_at),{addSuffix:!1})})]}),y.last_message_text&&u.jsx("p",{className:`text-sm truncate ${y.hasUnread?"text-foreground font-medium":"text-muted-foreground"}`,children:y.last_message_text})]})]},y.id)})})]})}const N$=["January","February","March","April","May","June","July","August","September","October","November","December"],R$=["S","M","T","W","T","F","S"];function P$(){const{userId:e}=Nj(),t=Gt(),{user:r,loading:n}=ve(),[s,o]=h.useState(new Date),{data:i,isLoading:a}=KM(e),{data:l=[],isLoading:c}=qM(e,s.getFullYear(),s.getMonth()),d=s.getFullYear(),f=s.getMonth(),m=new Date,p=m.getFullYear()===d&&m.getMonth()===f,x=new Date(d,f,1).getDay(),g=new Date(d,f+1,0).getDate(),b={};l.forEach(E=>{const S=E.coffee_date;b[S]=(b[S]||0)+1});const w=()=>{o(new Date(d,f-1,1))},v=()=>{o(new Date(d,f+1,1))},y=()=>{o(new Date)};return!n&&!r?u.jsx(Wj,{to:"/profile?msg=view-calendar",replace:!0}):n||a||c?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):i?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>t("/leaderboard"),children:u.jsx(Rf,{size:24})}),u.jsxs("h1",{className:"text-lg font-black uppercase tracking-tight text-center flex-1",children:[i.username,"'s Calendar"]}),u.jsx("div",{className:"w-10"})," "]})}),u.jsxs("div",{className:"container px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(xe,{variant:"ghost",size:"icon",onClick:w,children:u.jsx(Rf,{size:24})}),u.jsxs("button",{onClick:y,className:"text-xl font-bold uppercase tracking-tight",children:[N$[f]," ",d]}),u.jsx(xe,{variant:"ghost",size:"icon",onClick:v,children:u.jsx(mx,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:R$.map((E,S)=>u.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:E},S))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:x}).map((E,S)=>u.jsx("div",{className:"calendar-day"},`empty-${S}`)),Array.from({length:g}).map((E,S)=>{const k=S+1,T=Hn(new Date(d,f,k)),A=b[T]||0,P=p&&m.getDate()===k;let I="";return A===1?I="calendar-day-coffee-1":A===2?I="calendar-day-coffee-2":A>=3&&(I="calendar-day-coffee-3"),u.jsx("div",{className:`calendar-day ${I} ${P?"calendar-day-today":""}`,children:A>0?u.jsxs("span",{className:"relative",children:[k,u.jsx("span",{className:`absolute -top-1 -right-1 text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center ${A>=3?"bg-foreground text-background":"bg-muted text-foreground"}`,children:A})]}):k},k)})]}),u.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-sm flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/30 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"1 coffee"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/60 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"2 coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-foreground text-background text-[10px] flex items-center justify-center font-bold",children:"3+"}),u.jsx("span",{className:"text-muted-foreground",children:"3+ coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Today"})]})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx("button",{onClick:()=>t("/profile"),className:"text-sm text-muted-foreground underline hover:text-foreground transition-colors",children:"Want to track yours? Sign up."})})]})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-lg font-semibold",children:"User not found"}),u.jsx(xe,{variant:"ghost",onClick:()=>t("/leaderboard"),className:"mt-4",children:"Back to Leaderboard"})]})})}var j$=[" ","Enter","ArrowUp","ArrowDown"],O$=[" ","Enter"],Us="Select",[ku,Cu,A$]=Tp(Us),[Si]=Yr(Us,[A$,hi]),Tu=hi(),[I$,Zn]=Si(Us),[D$,M$]=Si(Us),KS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:m,required:p,form:x}=e,g=Tu(t),[b,w]=h.useState(null),[v,y]=h.useState(null),[_,E]=h.useState(!1),S=R_(c),[k,T]=ti({prop:n,defaultProp:s??!1,onChange:o,caller:Us}),[A,P]=ti({prop:i,defaultProp:a,onChange:l,caller:Us}),I=h.useRef(null),j=b?x||!!b.closest("form"):!0,[H,D]=h.useState(new Set),G=Array.from(H).map(W=>W.props.value).join(";");return u.jsx(Yx,{...g,children:u.jsxs(I$,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:Ot(),value:A,onValueChange:P,open:k,onOpenChange:T,dir:S,triggerPointerDownPosRef:I,disabled:m,children:[u.jsx(ku.Provider,{scope:t,children:u.jsx(D$,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(W=>{D(q=>new Set(q).add(W))},[]),onNativeOptionRemove:h.useCallback(W=>{D(q=>{const N=new Set(q);return N.delete(W),N})},[]),children:r})}),j?u.jsxs(vE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:W=>P(W.target.value),disabled:m,form:x,children:[A===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},G):null]})})};KS.displayName=Us;var GS="SelectTrigger",YS=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Tu(r),i=Zn(GS,r),a=i.disabled||n,l=he(t,i.onTriggerChange),c=Cu(r),d=h.useRef("touch"),[f,m,p]=wE(g=>{const b=c().filter(y=>!y.disabled),w=b.find(y=>y.value===i.value),v=xE(b,g,w);v!==void 0&&i.onValueChange(v.value)}),x=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(cu,{asChild:!0,...o,children:u.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":yE(i.value)?"":void 0,...s,ref:l,onClick:X(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:X(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:X(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&j$.includes(g.key)&&(x(),g.preventDefault())})})})});YS.displayName=GS;var QS="SelectValue",JS=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,l=Zn(QS,r),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=he(t,l.onValueNodeChange);return et(()=>{c(d)},[c,d]),u.jsx(se.span,{...a,ref:f,style:{pointerEvents:"none"},children:yE(l.value)?u.jsx(u.Fragment,{children:i}):o})});JS.displayName=QS;var L$="SelectIcon",XS=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return u.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});XS.displayName=L$;var $$="SelectPortal",ZS=e=>u.jsx(Wa,{asChild:!0,...e});ZS.displayName=$$;var Bs="SelectContent",eE=h.forwardRef((e,t)=>{const r=Zn(Bs,e.__scopeSelect),[n,s]=h.useState();if(et(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Vs.createPortal(u.jsx(tE,{scope:e.__scopeSelect,children:u.jsx(ku.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(rE,{...e,ref:t})});eE.displayName=Bs;var rr=10,[tE,es]=Si(Bs),F$="SelectContentImpl",U$=Is("SelectContent.RemoveScroll"),rE=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b,...w}=e,v=Zn(Bs,r),[y,_]=h.useState(null),[E,S]=h.useState(null),k=he(t,M=>_(M)),[T,A]=h.useState(null),[P,I]=h.useState(null),j=Cu(r),[H,D]=h.useState(!1),G=h.useRef(!1);h.useEffect(()=>{if(y)return im(y)},[y]),om();const W=h.useCallback(M=>{const[oe,...ce]=j().map(ge=>ge.ref.current),[de]=ce.slice(-1),pe=document.activeElement;for(const ge of M)if(ge===pe||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===oe&&E&&(E.scrollTop=0),ge===de&&E&&(E.scrollTop=E.scrollHeight),ge==null||ge.focus(),document.activeElement!==pe))return},[j,E]),q=h.useCallback(()=>W([T,y]),[W,T,y]);h.useEffect(()=>{H&&q()},[H,q]);const{onOpenChange:N,triggerPointerDownPosRef:O}=v;h.useEffect(()=>{if(y){let M={x:0,y:0};const oe=de=>{var pe,ge;M={x:Math.abs(Math.round(de.pageX)-(((pe=O.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ge=O.current)==null?void 0:ge.y)??0))}},ce=de=>{M.x<=10&&M.y<=10?de.preventDefault():y.contains(de.target)||N(!1),document.removeEventListener("pointermove",oe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[y,N,O]),h.useEffect(()=>{const M=()=>N(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[N]);const[z,ee]=wE(M=>{const oe=j().filter(pe=>!pe.disabled),ce=oe.find(pe=>pe.ref.current===document.activeElement),de=xE(oe,M,ce);de&&setTimeout(()=>de.ref.current.focus())}),R=h.useCallback((M,oe,ce)=>{const de=!G.current&&!ce;(v.value!==void 0&&v.value===oe||de)&&(A(M),de&&(G.current=!0))},[v.value]),F=h.useCallback(()=>y==null?void 0:y.focus(),[y]),U=h.useCallback((M,oe,ce)=>{const de=!G.current&&!ce;(v.value!==void 0&&v.value===oe||de)&&I(M)},[v.value]),B=n==="popper"?Ch:nE,te=B===Ch?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b}:{};return u.jsx(tE,{scope:r,content:y,viewport:E,onViewportChange:S,itemRefCallback:R,selectedItem:T,onItemLeave:F,itemTextRefCallback:U,focusSelectedItem:q,selectedItemText:P,position:n,isPositioned:H,searchRef:z,children:u.jsx(vu,{as:U$,allowPinchZoom:!0,children:u.jsx(mu,{asChild:!0,trapped:v.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:X(s,M=>{var oe;(oe=v.trigger)==null||oe.focus({preventScroll:!0}),M.preventDefault()}),children:u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(B,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:M=>M.preventDefault(),...w,...te,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:X(w.onKeyDown,M=>{const oe=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!oe&&M.key.length===1&&ee(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let de=j().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(M.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const pe=M.target,ge=de.indexOf(pe);de=de.slice(ge+1)}setTimeout(()=>W(de)),M.preventDefault()}})})})})})})});rE.displayName=F$;var B$="SelectItemAlignedPosition",nE=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Zn(Bs,r),i=es(Bs,r),[a,l]=h.useState(null),[c,d]=h.useState(null),f=he(t,k=>d(k)),m=Cu(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:v}=i,y=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&b&&w){const k=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(o.dir!=="rtl"){const pe=P.left-T.left,ge=A.left-pe,rt=k.left-ge,Lt=k.width+rt,ts=Math.max(Lt,T.width),en=window.innerWidth-rr,rs=Ic(ge,[rr,Math.max(rr,en-ts)]);a.style.minWidth=Lt+"px",a.style.left=rs+"px"}else{const pe=T.right-P.right,ge=window.innerWidth-A.right-pe,rt=window.innerWidth-k.right-ge,Lt=k.width+rt,ts=Math.max(Lt,T.width),en=window.innerWidth-rr,rs=Ic(ge,[rr,Math.max(rr,en-ts)]);a.style.minWidth=Lt+"px",a.style.right=rs+"px"}const I=m(),j=window.innerHeight-rr*2,H=g.scrollHeight,D=window.getComputedStyle(c),G=parseInt(D.borderTopWidth,10),W=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),N=parseInt(D.paddingBottom,10),O=G+W+H+N+q,z=Math.min(b.offsetHeight*5,O),ee=window.getComputedStyle(g),R=parseInt(ee.paddingTop,10),F=parseInt(ee.paddingBottom,10),U=k.top+k.height/2-rr,B=j-U,te=b.offsetHeight/2,M=b.offsetTop+te,oe=G+W+M,ce=O-oe;if(oe<=U){const pe=I.length>0&&b===I[I.length-1].ref.current;a.style.bottom="0px";const ge=c.clientHeight-g.offsetTop-g.offsetHeight,rt=Math.max(B,te+(pe?F:0)+ge+q),Lt=oe+rt;a.style.height=Lt+"px"}else{const pe=I.length>0&&b===I[0].ref.current;a.style.top="0px";const rt=Math.max(U,G+g.offsetTop+(pe?R:0)+te)+ce;a.style.height=rt+"px",g.scrollTop=oe-U+g.offsetTop}a.style.margin=`${rr}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=j+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,c,g,b,w,o.dir,n]);et(()=>y(),[y]);const[_,E]=h.useState();et(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const S=h.useCallback(k=>{k&&x.current===!0&&(y(),v==null||v(),x.current=!1)},[y,v]);return u.jsx(W$,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nE.displayName=B$;var z$="SelectPopperPosition",Ch=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=rr,...o}=e,i=Tu(r);return u.jsx(zp,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ch.displayName=z$;var[W$,gm]=Si(Bs,{}),Th="SelectViewport",sE=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=es(Th,r),i=gm(Th,r),a=he(t,o.onViewportChange),l=h.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(ku.Slot,{scope:r,children:u.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const x=window.innerHeight-rr*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(g,b);if(w<x){const v=w+p,y=Math.min(x,v),_=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});sE.displayName=Th;var oE="SelectGroup",[V$,H$]=Si(oE),q$=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ot();return u.jsx(V$,{scope:r,id:s,children:u.jsx(se.div,{role:"group","aria-labelledby":s,...n,ref:t})})});q$.displayName=oE;var iE="SelectLabel",aE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=H$(iE,r);return u.jsx(se.div,{id:s.id,...n,ref:t})});aE.displayName=iE;var Lc="SelectItem",[K$,lE]=Si(Lc),cE=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Zn(Lc,r),l=es(Lc,r),c=a.value===n,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),x=he(t,v=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,v,n,s)}),g=Ot(),b=h.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(K$,{scope:r,value:n,disabled:s,textId:g,isSelected:c,onItemTextChange:h.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(ku.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(se.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:X(i.onFocus,()=>p(!0)),onBlur:X(i.onBlur,()=>p(!1)),onClick:X(i.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:X(i.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:X(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:X(i.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=l.onItemLeave)==null||y.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:X(i.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(O$.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});cE.displayName=Lc;var qi="SelectItemText",uE=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Zn(qi,r),a=es(qi,r),l=lE(qi,r),c=M$(qi,r),[d,f]=h.useState(null),m=he(t,w=>f(w),l.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,x=h.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return et(()=>(g(x),()=>b(x)),[g,b,x]),u.jsxs(u.Fragment,{children:[u.jsx(se.span,{id:l.textId,...o,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Vs.createPortal(o.children,i.valueNode):null]})});uE.displayName=qi;var dE="SelectItemIndicator",fE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lE(dE,r).isSelected?u.jsx(se.span,{"aria-hidden":!0,...n,ref:t}):null});fE.displayName=dE;var Nh="SelectScrollUpButton",hE=h.forwardRef((e,t)=>{const r=es(Nh,e.__scopeSelect),n=gm(Nh,e.__scopeSelect),[s,o]=h.useState(!1),i=he(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(mE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});hE.displayName=Nh;var Rh="SelectScrollDownButton",pE=h.forwardRef((e,t)=>{const r=es(Rh,e.__scopeSelect),n=gm(Rh,e.__scopeSelect),[s,o]=h.useState(!1),i=he(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(mE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});pE.displayName=Rh;var mE=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=es("SelectScrollButton",r),i=h.useRef(null),a=Cu(r),l=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),et(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{l()})})}),G$="SelectSeparator",gE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return u.jsx(se.div,{"aria-hidden":!0,...n,ref:t})});gE.displayName=G$;var Ph="SelectArrow",Y$=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Tu(r),o=Zn(Ph,r),i=es(Ph,r);return o.open&&i.position==="popper"?u.jsx(Wp,{...s,...n,ref:t}):null});Y$.displayName=Ph;var Q$="SelectBubbleInput",vE=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=he(n,s),i=P_(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(se.select,{...r,style:{...V0,...r.style},ref:o,defaultValue:t})});vE.displayName=Q$;function yE(e){return e===""||e===void 0}function wE(e){const t=hr(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function xE(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=J$(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function J$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var X$=KS,bE=YS,Z$=JS,eF=XS,tF=ZS,_E=eE,rF=sE,SE=aE,EE=cE,nF=uE,sF=fE,kE=hE,CE=pE,TE=gE;const NE=X$,RE=Z$,vm=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(bE,{ref:n,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(eF,{asChild:!0,children:u.jsx(px,{className:"h-4 w-4 opacity-50"})})]}));vm.displayName=bE.displayName;const PE=h.forwardRef(({className:e,...t},r)=>u.jsx(kE,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(pT,{className:"h-4 w-4"})}));PE.displayName=kE.displayName;const jE=h.forwardRef(({className:e,...t},r)=>u.jsx(CE,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(px,{className:"h-4 w-4"})}));jE.displayName=CE.displayName;const ym=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>u.jsx(tF,{children:u.jsxs(_E,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[u.jsx(PE,{}),u.jsx(rF,{className:Q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(jE,{})]})}));ym.displayName=_E.displayName;const oF=h.forwardRef(({className:e,...t},r)=>u.jsx(SE,{ref:r,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oF.displayName=SE.displayName;const wm=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(EE,{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(sF,{children:u.jsx(su,{className:"h-4 w-4"})})}),u.jsx(nF,{children:t})]}));wm.displayName=EE.displayName;const iF=h.forwardRef(({className:e,...t},r)=>u.jsx(TE,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));iF.displayName=TE.displayName;function aF(){const{user:e}=ve(),{isSuperAdmin:t,isRunClubHost:r}=_i();return ze({queryKey:["orgs",e==null?void 0:e.id,t,r],queryFn:async()=>{if(!e)return[];if(t){const{data:n,error:s}=await Z.from("orgs").select("*").order("org_name");if(s)throw console.error("Error fetching orgs:",s),s;return n}if(r){const{data:n,error:s}=await Z.from("org_hosts").select("org_id").eq("user_id",e.id);if(s)throw console.error("Error fetching org_hosts:",s),s;if(!n||n.length===0)return[];const o=n.map(l=>l.org_id),{data:i,error:a}=await Z.from("orgs").select("*").in("id",o).order("org_name");if(a)throw console.error("Error fetching orgs:",a),a;return i}return[]},enabled:!!e&&(t||r)})}function lF(){const{user:e}=ve(),{canHostEvent:t,isLoading:r}=_i(),{data:n,isLoading:s}=aF(),o=Gt(),{toast:i}=eu(),[a,l]=h.useState(""),[c,d]=h.useState(""),[f,m]=h.useState(""),[p,x]=h.useState(""),[g,b]=h.useState(""),[w,v]=h.useState(""),[y,_]=h.useState(!1);if(r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})});if(!e)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"Host Event"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to host events."}),u.jsx(xe,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]});if(!t)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(ri,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Host Event"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-2",children:"Access Required"}),u.jsx("p",{className:"text-sm mb-4",children:"Please upgrade your access to host events."}),u.jsx(xe,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Back to Profile"})]})})]});const E=async S=>{if(S.preventDefault(),!a.trim()||!f||!c){i({title:"Missing fields",description:"Please fill in the organization, event name, and date.",variant:"destructive"});return}_(!0);try{const{error:k}=await Z.from("run_club_events").insert({name:a.trim(),event_date:f,event_time:p||null,location:g.trim()||null,description:w.trim()||null,created_by:e.id,org_id:c});if(k)throw k;i({title:"Event Created!",description:"Your event has been added to the calendar."}),o("/calendar")}catch(k){console.error("Error creating event:",k),i({title:"Error",description:k.message||"Failed to create event.",variant:"destructive"})}finally{_(!1)}};return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(ri,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Host Event"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("form",{onSubmit:E,className:"space-y-4 max-w-sm mx-auto",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"org",className:"text-sm font-semibold uppercase",children:"Organization *"}),u.jsxs(NE,{value:c,onValueChange:d,disabled:s,children:[u.jsx(vm,{className:"h-12 text-lg",children:u.jsx(RE,{placeholder:s?"Loading...":"Select organization"})}),u.jsx(ym,{children:n==null?void 0:n.map(S=>u.jsx(wm,{value:S.id,children:S.org_name},S.id))})]}),!s&&(n==null?void 0:n.length)===0&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"No organizations available. Contact an admin to create one."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"name",className:"text-sm font-semibold uppercase",children:"Event Name *"}),u.jsx(Vt,{id:"name",type:"text",value:a,onChange:S=>l(S.target.value),placeholder:"Morning Run",className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"eventDate",className:"text-sm font-semibold uppercase",children:"Date *"}),u.jsx(Vt,{id:"eventDate",type:"date",value:f,onChange:S=>m(S.target.value),className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"eventTime",className:"text-sm font-semibold uppercase",children:"Time (Optional)"}),u.jsx(Vt,{id:"eventTime",type:"time",value:p,onChange:S=>x(S.target.value),className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"location",className:"text-sm font-semibold uppercase",children:"Location (Optional)"}),u.jsx(Vt,{id:"location",type:"text",value:g,onChange:S=>b(S.target.value),placeholder:"Central Park",className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(wt,{htmlFor:"description",className:"text-sm font-semibold uppercase",children:"Description (Optional)"}),u.jsx(fm,{id:"description",value:w,onChange:S=>v(S.target.value),placeholder:"Join us for a morning run...",className:"min-h-[100px] text-lg"})]}),u.jsx(xe,{type:"submit",className:"w-full btn-run btn-run-yes",disabled:y,children:y?"Creating...":"Create Event"})]})})]})}function cF(){const{user:e}=ve(),{isSuperAdmin:t,canHostEvent:r}=_i();return ze({queryKey:["host-events",e==null?void 0:e.id,t],queryFn:async()=>{if(!e||!r)return[];if(t){const{data:l,error:c}=await Z.from("run_club_events").select("id, name, event_date, event_time, location, org_id").order("event_date",{ascending:!1});if(c)throw c;return l}const{data:n,error:s}=await Z.from("org_hosts").select("org_id").eq("user_id",e.id);if(s)throw s;if(!n||n.length===0)return[];const o=n.map(l=>l.org_id),{data:i,error:a}=await Z.from("run_club_events").select("id, name, event_date, event_time, location, org_id").in("org_id",o).order("event_date",{ascending:!1});if(a)throw a;return i},enabled:!!e&&r})}function uF(e){const{user:t}=ve();return ze({queryKey:["event-participants",e],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await Z.from("event_registrations").select("id, user_id, event_id, status, created_at").eq("event_id",e).order("created_at",{ascending:!1});if(n)throw n;if(!r||r.length===0)return[];const s=r.map(l=>l.user_id),{data:o,error:i}=await Z.from("profiles").select("user_id, username").in("user_id",s);if(i)throw i;const a=new Map((o==null?void 0:o.map(l=>[l.user_id,l.username]))||[]);return r.map(l=>({...l,username:a.get(l.user_id)||void 0}))},enabled:!!t&&!!e})}const OE=h.forwardRef(({className:e,...t},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Q("w-full caption-bottom text-sm",e),...t})}));OE.displayName="Table";const AE=h.forwardRef(({className:e,...t},r)=>u.jsx("thead",{ref:r,className:Q("[&_tr]:border-b",e),...t}));AE.displayName="TableHeader";const IE=h.forwardRef(({className:e,...t},r)=>u.jsx("tbody",{ref:r,className:Q("[&_tr:last-child]:border-0",e),...t}));IE.displayName="TableBody";const dF=h.forwardRef(({className:e,...t},r)=>u.jsx("tfoot",{ref:r,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));dF.displayName="TableFooter";const jh=h.forwardRef(({className:e,...t},r)=>u.jsx("tr",{ref:r,className:Q("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));jh.displayName="TableRow";const Jl=h.forwardRef(({className:e,...t},r)=>u.jsx("th",{ref:r,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Jl.displayName="TableHead";const Xl=h.forwardRef(({className:e,...t},r)=>u.jsx("td",{ref:r,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xl.displayName="TableCell";const fF=h.forwardRef(({className:e,...t},r)=>u.jsx("caption",{ref:r,className:Q("mt-4 text-sm text-muted-foreground",e),...t}));fF.displayName="TableCaption";function hF(){var f;const{user:e}=ve(),{canHostEvent:t,isLoading:r}=_i(),n=Gt(),s=Jr(),[o,i]=h.useState(((f=s.state)==null?void 0:f.eventId)||null),{data:a,isLoading:l}=cF(),{data:c,isLoading:d}=uF(o);return h.useEffect(()=>{var p;const m=(p=s.state)==null?void 0:p.eventId;m&&m!==o&&i(m)},[s.state,o]),r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):e?t?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>n(-1),className:"absolute left-0 p-2",children:u.jsx(ri,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Participants"})]})}),u.jsxs("div",{className:"container px-4 py-8 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"space-y-2 mb-6",children:[u.jsx("label",{className:"text-sm font-semibold uppercase",children:"Select Event"}),u.jsxs(NE,{value:o||"",onValueChange:m=>i(m||null),disabled:l,children:[u.jsx(vm,{className:"h-12 text-lg",children:u.jsx(RE,{placeholder:l?"Loading events...":"Select an event"})}),u.jsx(ym,{children:a==null?void 0:a.map(m=>u.jsxs(wm,{value:m.id,children:[m.name,"  ",Eh(kh(m.event_date),"MMM d, yyyy")]},m.id))})]})]}),!l&&(a==null?void 0:a.length)===0&&u.jsxs("div",{className:"text-center p-6 bg-muted",children:[u.jsx("p",{className:"text-muted-foreground font-medium",children:"No events found."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create an event first to see participants."})]}),o&&u.jsx("div",{className:"mt-6",children:d?u.jsx("div",{className:"text-center p-6",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading participants..."})}):c&&c.length>0?u.jsxs(OE,{children:[u.jsx(AE,{children:u.jsxs(jh,{children:[u.jsx(Jl,{className:"font-bold uppercase",children:"Participant"}),u.jsx(Jl,{className:"font-bold uppercase",children:"Registered At"}),u.jsx(Jl,{className:"font-bold uppercase",children:"Status"})]})}),u.jsx(IE,{children:c.map(m=>u.jsxs(jh,{children:[u.jsx(Xl,{className:"font-medium",children:m.username||m.user_id.slice(0,8)+"..."}),u.jsx(Xl,{children:Eh(kh(m.created_at),"MMM d, yyyy h:mm a")}),u.jsx(Xl,{children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold uppercase ${m.status==="registered"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:m.status})})]},m.id))})]}):u.jsx("div",{className:"text-center p-6 bg-muted",children:u.jsx("p",{className:"text-muted-foreground font-medium",children:"No participants yet."})})})]})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>n(-1),className:"absolute left-0 p-2",children:u.jsx(ri,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Participants"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-2",children:"Access Required"}),u.jsx("p",{className:"text-sm mb-4",children:"Please upgrade your access to host events."}),u.jsx(xe,{onClick:()=>n("/profile"),variant:"outline",className:"btn-run",children:"Back to Profile"})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"View Participants"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to view participants."}),u.jsx(xe,{onClick:()=>n("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]})}function pF(){const{user:e}=ve();return ze({queryKey:["user-events",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await Z.from("event_registrations").select("event_id").eq("user_id",e.id).eq("status","registered");if(r)throw r;if(!t||t.length===0)return[];const n=t.map(i=>i.event_id),{data:s,error:o}=await Z.from("run_club_events").select(`
          id,
          name,
          event_date,
          event_time,
          location,
          description,
          org_id,
          created_at,
          orgs:org_id (
            org_name
          )
        `).in("id",n).order("event_date",{ascending:!1});if(o)throw o;return s.map(i=>{var a;return{id:i.id,name:i.name,event_date:i.event_date,event_time:i.event_time,location:i.location,description:i.description,org_id:i.org_id,org_name:((a=i.orgs)==null?void 0:a.org_name)||null,created_at:i.created_at}})},enabled:!!e})}function mF(){const{user:e}=ve(),t=Gt(),{data:r,isLoading:n}=pF();return e?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>t(-1),className:"absolute left-0 p-2",children:u.jsx(ri,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Event"})]})}),u.jsx("div",{className:"container px-4 py-8 max-w-2xl mx-auto",children:n?u.jsx("div",{className:"text-center p-6",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading events..."})}):r&&r.length>0?u.jsx("div",{className:"space-y-4",children:r.map(s=>u.jsx("div",{className:"p-6 bg-muted border border-border rounded-lg",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-black uppercase",children:s.name}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Date:"}),u.jsx("span",{children:Eh(kh(s.event_date),"MMM d, yyyy")})]}),s.event_time&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Time:"}),u.jsx("span",{children:s.event_time})]}),s.org_name&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Organization:"}),u.jsx("span",{children:s.org_name})]}),s.location&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Location:"}),u.jsx("span",{children:s.location})]}),s.description&&u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-muted-foreground",children:s.description})})]})]})},s.id))}):u.jsxs("div",{className:"text-center p-6 bg-muted",children:[u.jsx("p",{className:"font-medium text-muted-foreground mb-2",children:"No events found."}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"You haven't joined any events yet."})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"View Event"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to view your events."}),u.jsx(xe,{onClick:()=>t("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]})}const gF=()=>{const e=Jr();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},vF=new MP,yF=()=>u.jsx(BP,{client:vF,children:u.jsxs(wP,{children:[u.jsx(nN,{}),u.jsx(DN,{}),u.jsx(Zj,{children:u.jsx(UI,{children:u.jsx(JI,{children:u.jsxs(Hj,{children:[u.jsx(er,{path:"/",element:u.jsx(wM,{})}),u.jsx(er,{path:"/calendar",element:u.jsx(HM,{})}),u.jsx(er,{path:"/leaderboard",element:u.jsx(GM,{})}),u.jsx(er,{path:"/profile",element:u.jsx(QM,{})}),u.jsx(er,{path:"/messages",element:u.jsx(T$,{})}),u.jsx(er,{path:"/users/:userId",element:u.jsx(P$,{})}),u.jsx(er,{path:"/host/event/create",element:u.jsx(lF,{})}),u.jsx(er,{path:"/host/participants",element:u.jsx(hF,{})}),u.jsx(er,{path:"/events/my",element:u.jsx(mF,{})}),u.jsx(er,{path:"*",element:u.jsx(gF,{})})]})})})})]})});L0(document.getElementById("root")).render(u.jsx(yF,{}));

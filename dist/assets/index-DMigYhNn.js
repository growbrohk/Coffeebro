var Xm=e=>{throw TypeError(e)};var id=(e,t,r)=>t.has(e)||Xm("Cannot "+r);var k=(e,t,r)=>(id(e,t,"read from private field"),r?r.call(e):t.get(e)),X=(e,t,r)=>t.has(e)?Xm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(id(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),le=(e,t,r)=>(id(e,t,"access private method"),r);var bl=(e,t,r,n)=>({set _(s){K(e,t,s,r)},get _(){return k(e,t,n)}});function IE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Xy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zy={exports:{}},hu={},ew={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),ME=Symbol.for("react.portal"),LE=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),FE=Symbol.for("react.profiler"),UE=Symbol.for("react.provider"),BE=Symbol.for("react.context"),zE=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),VE=Symbol.for("react.memo"),HE=Symbol.for("react.lazy"),Zm=Symbol.iterator;function qE(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var tw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,nw={};function _i(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||tw}_i.prototype.isReactComponent={};_i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sw(){}sw.prototype=_i.prototype;function ip(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||tw}var ap=ip.prototype=new sw;ap.constructor=ip;rw(ap,_i.prototype);ap.isPureReactComponent=!0;var eg=Array.isArray,ow=Object.prototype.hasOwnProperty,lp={current:null},iw={key:!0,ref:!0,__self:!0,__source:!0};function aw(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ow.call(t,n)&&!iw.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:sl,type:e,key:o,ref:i,props:s,_owner:lp.current}}function KE(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cp(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function GE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tg=/\/+/g;function ad(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GE(""+e.key):t.toString(36)}function rc(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sl:case ME:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+ad(i,0):n,eg(s)?(r="",e!=null&&(r=e.replace(tg,"$&/")+"/"),rc(s,t,r,"",function(c){return c})):s!=null&&(cp(s)&&(s=KE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(tg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",eg(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+ad(o,a);i+=rc(o,t,r,l,s)}else if(l=qE(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+ad(o,a++),i+=rc(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _l(e,t,r){if(e==null)return e;var n=[],s=0;return rc(e,n,"","",function(o){return t.call(r,o,s++)}),n}function QE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},nc={transition:null},YE={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:nc,ReactCurrentOwner:lp};function lw(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:_l,forEach:function(e,t,r){_l(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!cp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=_i;de.Fragment=LE;de.Profiler=FE;de.PureComponent=ip;de.StrictMode=$E;de.Suspense=WE;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YE;de.act=lw;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=lp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ow.call(t,l)&&!iw.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:sl,type:e.type,key:s,ref:o,props:n,_owner:i}};de.createContext=function(e){return e={$$typeof:BE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UE,_context:e},e.Consumer=e};de.createElement=aw;de.createFactory=function(e){var t=aw.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:zE,render:e}};de.isValidElement=cp;de.lazy=function(e){return{$$typeof:HE,_payload:{_status:-1,_result:e},_init:QE}};de.memo=function(e,t){return{$$typeof:VE,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=nc.transition;nc.transition={};try{e()}finally{nc.transition=t}};de.unstable_act=lw;de.useCallback=function(e,t){return vt.current.useCallback(e,t)};de.useContext=function(e){return vt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};de.useEffect=function(e,t){return vt.current.useEffect(e,t)};de.useId=function(){return vt.current.useId()};de.useImperativeHandle=function(e,t,r){return vt.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return vt.current.useMemo(e,t)};de.useReducer=function(e,t,r){return vt.current.useReducer(e,t,r)};de.useRef=function(e){return vt.current.useRef(e)};de.useState=function(e){return vt.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return vt.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return vt.current.useTransition()};de.version="18.3.1";ew.exports=de;var h=ew.exports;const W=Xy(h),up=IE({__proto__:null,default:W},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=h,XE=Symbol.for("react.element"),ZE=Symbol.for("react.fragment"),eC=Object.prototype.hasOwnProperty,tC=JE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rC={key:!0,ref:!0,__self:!0,__source:!0};function cw(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)eC.call(t,n)&&!rC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:XE,type:e,key:o,ref:i,props:s,_owner:tC.current}}hu.Fragment=ZE;hu.jsx=cw;hu.jsxs=cw;Zy.exports=hu;var u=Zy.exports,uw={exports:{}},$t={},dw={exports:{}},fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var z=N.length;N.push(R);e:for(;0<z;){var ee=z-1>>>1,P=N[ee];if(0<s(P,R))N[ee]=R,N[z]=P,z=ee;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var R=N[0],z=N.pop();if(z!==R){N[0]=z;e:for(var ee=0,P=N.length,B=P>>>1;ee<B;){var V=2*(ee+1)-1,H=N[V],te=V+1,$=N[te];if(0>s(H,z))te<P&&0>s($,H)?(N[ee]=$,N[te]=z,ee=te):(N[ee]=H,N[V]=z,ee=V);else if(te<P&&0>s($,z))N[ee]=$,N[te]=z,ee=te;else break e}}return R}function s(N,R){var z=N.sortIndex-R.sortIndex;return z!==0?z:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,m=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=N)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function _(N){if(g=!1,y(N),!v)if(r(l)!==null)v=!0,L(S);else{var R=r(c);R!==null&&F(_,R.startTime-N)}}function S(N,R){v=!1,g&&(g=!1,w(T),T=-1),p=!0;var z=m;try{for(y(R),f=r(l);f!==null&&(!(f.expirationTime>R)||N&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var P=ee(f.expirationTime<=R);R=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),y(R)}else n(l);f=r(l)}if(f!==null)var B=!0;else{var V=r(c);V!==null&&F(_,V.startTime-R),B=!1}return B}finally{f=null,m=z,p=!1}}var E=!1,C=null,T=-1,j=5,O=-1;function D(){return!(e.unstable_now()-O<j)}function A(){if(C!==null){var N=e.unstable_now();O=N;var R=!0;try{R=C(!0,N)}finally{R?q():(E=!1,C=null)}}else E=!1}var q;if(typeof x=="function")q=function(){x(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=A,q=function(){I.postMessage(null)}}else q=function(){b(A,0)};function L(N){C=N,E||(E=!0,q())}function F(N,R){T=b(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var z=m;m=R;try{return N()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=m;m=N;try{return R()}finally{m=z}},e.unstable_scheduleCallback=function(N,R,z){var ee=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,N){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=z+P,N={id:d++,callback:R,priorityLevel:N,startTime:z,expirationTime:P,sortIndex:-1},z>ee?(N.sortIndex=z,t(c,N),r(l)===null&&N===r(c)&&(g?(w(T),T=-1):g=!0,F(_,z-ee))):(N.sortIndex=P,t(l,N),v||p||(v=!0,L(S))),N},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(N){var R=m;return function(){var z=m;m=R;try{return N.apply(this,arguments)}finally{m=z}}}})(fw);dw.exports=fw;var nC=dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=h,Lt=nC;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hw=new Set,wa={};function to(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(wa[e]=t,e=0;e<t.length;e++)hw.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rg={},ng={};function iC(e){return cf.call(ng,e)?!0:cf.call(rg,e)?!1:oC.test(e)?ng[e]=!0:(rg[e]=!0,!1)}function aC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lC(e,t,r,n){if(t===null||typeof t>"u"||aC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function fp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dp,fp);st[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dp,fp);st[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dp,fp);st[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hp(e,t,r,n){var s=st.hasOwnProperty(t)?st[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lC(t,r,s,n)&&(r=null),n||s===null?iC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sn=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),No=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),mw=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),gw=Symbol.for("react.offscreen"),sg=Symbol.iterator;function Ui(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ld;function ea(e){if(ld===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ld=t&&t[1]||""}return`
`+ld+e}var cd=!1;function ud(e,t){if(!e||cd)return"";cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ea(e):""}function cC(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=ud(e.type,!1),e;case 11:return e=ud(e.type.render,!1),e;case 1:return e=ud(e.type,!0),e;default:return""}}function hf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Po:return"Fragment";case No:return"Portal";case uf:return"Profiler";case pp:return"StrictMode";case df:return"Suspense";case ff:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mw:return(e.displayName||"Context")+".Consumer";case pw:return(e._context.displayName||"Context")+".Provider";case mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:hf(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return hf(e(t))}catch{}}return null}function uC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hf(t);case 8:return t===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dC(e){var t=vw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function El(e){e._valueTracker||(e._valueTracker=dC(e))}function yw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pf(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function og(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ww(e,t){t=t.checked,t!=null&&hp(e,"checked",t,!1)}function mf(e,t){ww(e,t);var r=Jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gf(e,t.type,r):t.hasOwnProperty("defaultValue")&&gf(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ig(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gf(e,t,r){(t!=="number"||kc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ta=Array.isArray;function Bo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ag(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(ta(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jn(r)}}function xw(e,t){var r=Jn(t.value),n=Jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cl,_w=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fC=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(e){fC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aa[t]=aa[e]})});function Sw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||aa.hasOwnProperty(e)&&aa[e]?(""+t).trim():t+"px"}function Ew(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Sw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hC=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wf(e,t){if(t){if(hC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function xf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=null;function vp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _f=null,zo=null,Wo=null;function cg(e){if(e=al(e)){if(typeof _f!="function")throw Error(U(280));var t=e.stateNode;t&&(t=yu(t),_f(e.stateNode,e.type,t))}}function Cw(e){zo?Wo?Wo.push(e):Wo=[e]:zo=e}function kw(){if(zo){var e=zo,t=Wo;if(Wo=zo=null,cg(e),t)for(e=0;e<t.length;e++)cg(t[e])}}function Tw(e,t){return e(t)}function Nw(){}var dd=!1;function Pw(e,t,r){if(dd)return e(t,r);dd=!0;try{return Tw(e,t,r)}finally{dd=!1,(zo!==null||Wo!==null)&&(Nw(),kw())}}function ba(e,t){var r=e.stateNode;if(r===null)return null;var n=yu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Sf=!1;if(Xr)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Sf=!1}function pC(e,t,r,n,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var la=!1,Tc=null,Nc=!1,Ef=null,mC={onError:function(e){la=!0,Tc=e}};function gC(e,t,r,n,s,o,i,a,l){la=!1,Tc=null,pC.apply(mC,arguments)}function vC(e,t,r,n,s,o,i,a,l){if(gC.apply(this,arguments),la){if(la){var c=Tc;la=!1,Tc=null}else throw Error(U(198));Nc||(Nc=!0,Ef=c)}}function ro(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Rw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ug(e){if(ro(e)!==e)throw Error(U(188))}function yC(e){var t=e.alternate;if(!t){if(t=ro(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return ug(s),e;if(o===n)return ug(s),t;o=o.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function jw(e){return e=yC(e),e!==null?Ow(e):null}function Ow(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ow(e);if(t!==null)return t;e=e.sibling}return null}var Aw=Lt.unstable_scheduleCallback,dg=Lt.unstable_cancelCallback,wC=Lt.unstable_shouldYield,xC=Lt.unstable_requestPaint,Ue=Lt.unstable_now,bC=Lt.unstable_getCurrentPriorityLevel,yp=Lt.unstable_ImmediatePriority,Dw=Lt.unstable_UserBlockingPriority,Pc=Lt.unstable_NormalPriority,_C=Lt.unstable_LowPriority,Iw=Lt.unstable_IdlePriority,pu=null,Ir=null;function SC(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(pu,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:kC,EC=Math.log,CC=Math.LN2;function kC(e){return e>>>=0,e===0?32:31-(EC(e)/CC|0)|0}var kl=64,Tl=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=ra(a):(o&=i,o!==0&&(n=ra(o)))}else i=r&~s,i!==0?n=ra(i):o!==0&&(n=ra(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gr(t),s=1<<r,n|=e[r],t&=~s;return n}function TC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-gr(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=TC(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Cf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mw(){var e=kl;return kl<<=1,!(kl&4194240)&&(kl=64),e}function fd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ol(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=r}function PC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function wp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var be=0;function Lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $w,xp,Fw,Uw,Bw,kf=!1,Nl=[],Bn=null,zn=null,Wn=null,_a=new Map,Sa=new Map,Cn=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fg(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":_a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(t.pointerId)}}function zi(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=al(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jC(e,t,r,n,s){switch(t){case"focusin":return Bn=zi(Bn,e,t,r,n,s),!0;case"dragenter":return zn=zi(zn,e,t,r,n,s),!0;case"mouseover":return Wn=zi(Wn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return _a.set(o,zi(_a.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Sa.set(o,zi(Sa.get(o)||null,e,t,r,n,s)),!0}return!1}function zw(e){var t=ks(e.target);if(t!==null){var r=ro(t);if(r!==null){if(t=r.tag,t===13){if(t=Rw(r),t!==null){e.blockedOn=t,Bw(e.priority,function(){Fw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bf=n,r.target.dispatchEvent(n),bf=null}else return t=al(r),t!==null&&xp(t),e.blockedOn=r,!1;t.shift()}return!0}function hg(e,t,r){sc(e)&&r.delete(t)}function OC(){kf=!1,Bn!==null&&sc(Bn)&&(Bn=null),zn!==null&&sc(zn)&&(zn=null),Wn!==null&&sc(Wn)&&(Wn=null),_a.forEach(hg),Sa.forEach(hg)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,kf||(kf=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,OC)))}function Ea(e){function t(s){return Wi(s,e)}if(0<Nl.length){Wi(Nl[0],e);for(var r=1;r<Nl.length;r++){var n=Nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bn!==null&&Wi(Bn,e),zn!==null&&Wi(zn,e),Wn!==null&&Wi(Wn,e),_a.forEach(t),Sa.forEach(t),r=0;r<Cn.length;r++)n=Cn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cn.length&&(r=Cn[0],r.blockedOn===null);)zw(r),r.blockedOn===null&&Cn.shift()}var Vo=sn.ReactCurrentBatchConfig,jc=!0;function AC(e,t,r,n){var s=be,o=Vo.transition;Vo.transition=null;try{be=1,bp(e,t,r,n)}finally{be=s,Vo.transition=o}}function DC(e,t,r,n){var s=be,o=Vo.transition;Vo.transition=null;try{be=4,bp(e,t,r,n)}finally{be=s,Vo.transition=o}}function bp(e,t,r,n){if(jc){var s=Tf(e,t,r,n);if(s===null)_d(e,t,n,Oc,r),fg(e,n);else if(jC(s,e,t,r,n))n.stopPropagation();else if(fg(e,n),t&4&&-1<RC.indexOf(e)){for(;s!==null;){var o=al(s);if(o!==null&&$w(o),o=Tf(e,t,r,n),o===null&&_d(e,t,n,Oc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else _d(e,t,n,null,r)}}var Oc=null;function Tf(e,t,r,n){if(Oc=null,e=vp(n),e=ks(e),e!==null)if(t=ro(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Rw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oc=e,null}function Ww(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bC()){case yp:return 1;case Dw:return 4;case Pc:case _C:return 16;case Iw:return 536870912;default:return 16}default:return 16}}var $n=null,_p=null,oc=null;function Vw(){if(oc)return oc;var e,t=_p,r=t.length,n,s="value"in $n?$n.value:$n.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return oc=s.slice(e,1<n?1-n:void 0)}function ic(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function pg(){return!1}function Ft(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pl:pg,this.isPropagationStopped=pg,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=Ft(Si),il=Me({},Si,{view:0,detail:0}),IC=Ft(il),hd,pd,Vi,mu=Me({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(hd=e.screenX-Vi.screenX,pd=e.screenY-Vi.screenY):pd=hd=0,Vi=e),hd)},movementY:function(e){return"movementY"in e?e.movementY:pd}}),mg=Ft(mu),MC=Me({},mu,{dataTransfer:0}),LC=Ft(MC),$C=Me({},il,{relatedTarget:0}),md=Ft($C),FC=Me({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=Ft(FC),BC=Me({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zC=Ft(BC),WC=Me({},Si,{data:0}),gg=Ft(WC),VC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qC[e])?!!t[e]:!1}function Ep(){return KC}var GC=Me({},il,{key:function(e){if(e.key){var t=VC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ic(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?ic(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ic(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QC=Ft(GC),YC=Me({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Ft(YC),JC=Me({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),XC=Ft(JC),ZC=Me({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),ek=Ft(ZC),tk=Me({},mu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=Ft(tk),nk=[9,13,27,32],Cp=Xr&&"CompositionEvent"in window,ca=null;Xr&&"documentMode"in document&&(ca=document.documentMode);var sk=Xr&&"TextEvent"in window&&!ca,Hw=Xr&&(!Cp||ca&&8<ca&&11>=ca),yg=" ",wg=!1;function qw(e,t){switch(e){case"keyup":return nk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function ok(e,t){switch(e){case"compositionend":return Kw(t);case"keypress":return t.which!==32?null:(wg=!0,yg);case"textInput":return e=t.data,e===yg&&wg?null:e;default:return null}}function ik(e,t){if(Ro)return e==="compositionend"||!Cp&&qw(e,t)?(e=Vw(),oc=_p=$n=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hw&&t.locale!=="ko"?null:t.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ak[e.type]:t==="textarea"}function Gw(e,t,r,n){Cw(n),t=Ac(t,"onChange"),0<t.length&&(r=new Sp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ua=null,Ca=null;function lk(e){o0(e,0)}function gu(e){var t=Ao(e);if(yw(t))return e}function ck(e,t){if(e==="change")return t}var Qw=!1;if(Xr){var gd;if(Xr){var vd="oninput"in document;if(!vd){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),vd=typeof bg.oninput=="function"}gd=vd}else gd=!1;Qw=gd&&(!document.documentMode||9<document.documentMode)}function _g(){ua&&(ua.detachEvent("onpropertychange",Yw),Ca=ua=null)}function Yw(e){if(e.propertyName==="value"&&gu(Ca)){var t=[];Gw(t,Ca,e,vp(e)),Pw(lk,t)}}function uk(e,t,r){e==="focusin"?(_g(),ua=t,Ca=r,ua.attachEvent("onpropertychange",Yw)):e==="focusout"&&_g()}function dk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Ca)}function fk(e,t){if(e==="click")return gu(t)}function hk(e,t){if(e==="input"||e==="change")return gu(t)}function pk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:pk;function ka(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!cf.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,t){var r=Sg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sg(r)}}function Jw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xw(){for(var e=window,t=kc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kc(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mk(e){var t=Xw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jw(r.ownerDocument.documentElement,r)){if(n!==null&&kp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Eg(r,o);var i=Eg(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gk=Xr&&"documentMode"in document&&11>=document.documentMode,jo=null,Nf=null,da=null,Pf=!1;function Cg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pf||jo==null||jo!==kc(n)||(n=jo,"selectionStart"in n&&kp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),da&&ka(da,n)||(da=n,n=Ac(Nf,"onSelect"),0<n.length&&(t=new Sp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function Rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oo={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},yd={},Zw={};Xr&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function vu(e){if(yd[e])return yd[e];if(!Oo[e])return e;var t=Oo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zw)return yd[e]=t[r];return e}var e0=vu("animationend"),t0=vu("animationiteration"),r0=vu("animationstart"),n0=vu("transitionend"),s0=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){s0.set(e,t),to(t,[e])}for(var wd=0;wd<kg.length;wd++){var xd=kg[wd],vk=xd.toLowerCase(),yk=xd[0].toUpperCase()+xd.slice(1);ss(vk,"on"+yk)}ss(e0,"onAnimationEnd");ss(t0,"onAnimationIteration");ss(r0,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(n0,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Tg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vC(n,t,void 0,e),e.currentTarget=null}function o0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Tg(s,a,c),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Tg(s,a,c),o=l}}}if(Nc)throw e=Ef,Nc=!1,Ef=null,e}function Te(e,t){var r=t[Df];r===void 0&&(r=t[Df]=new Set);var n=e+"__bubble";r.has(n)||(i0(t,e,2,!1),r.add(n))}function bd(e,t,r){var n=0;t&&(n|=4),i0(r,e,n,t)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[jl]){e[jl]=!0,hw.forEach(function(r){r!=="selectionchange"&&(wk.has(r)||bd(r,!1,e),bd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jl]||(t[jl]=!0,bd("selectionchange",!1,t))}}function i0(e,t,r,n){switch(Ww(t)){case 1:var s=AC;break;case 4:s=DC;break;default:s=bp}r=s.bind(null,t,r,e),s=void 0,!Sf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _d(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ks(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Pw(function(){var c=o,d=vp(r),f=[];e:{var m=s0.get(e);if(m!==void 0){var p=Sp,v=e;switch(e){case"keypress":if(ic(r)===0)break e;case"keydown":case"keyup":p=QC;break;case"focusin":v="focus",p=md;break;case"focusout":v="blur",p=md;break;case"beforeblur":case"afterblur":p=md;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XC;break;case e0:case t0:case r0:p=UC;break;case n0:p=ek;break;case"scroll":p=IC;break;case"wheel":p=rk;break;case"copy":case"cut":case"paste":p=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vg}var g=(t&4)!==0,b=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var x=c,y;x!==null;){y=x;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,w!==null&&(_=ba(x,w),_!=null&&g.push(Na(x,_,y)))),b)break;x=x.return}0<g.length&&(m=new p(m,v,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==bf&&(v=r.relatedTarget||r.fromElement)&&(ks(v)||v[Zr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?ks(v):null,v!==null&&(b=ro(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(g=mg,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=vg,_="onPointerLeave",w="onPointerEnter",x="pointer"),b=p==null?m:Ao(p),y=v==null?m:Ao(v),m=new g(_,x+"leave",p,r,d),m.target=b,m.relatedTarget=y,_=null,ks(d)===c&&(g=new g(w,x+"enter",v,r,d),g.target=y,g.relatedTarget=b,_=g),b=_,p&&v)t:{for(g=p,w=v,x=0,y=g;y;y=fo(y))x++;for(y=0,_=w;_;_=fo(_))y++;for(;0<x-y;)g=fo(g),x--;for(;0<y-x;)w=fo(w),y--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=fo(g),w=fo(w)}g=null}else g=null;p!==null&&Ng(f,m,p,g,!1),v!==null&&b!==null&&Ng(f,b,v,g,!0)}}e:{if(m=c?Ao(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=ck;else if(xg(m))if(Qw)S=hk;else{S=dk;var E=uk}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=fk);if(S&&(S=S(e,c))){Gw(f,S,r,d);break e}E&&E(e,m,c),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&gf(m,"number",m.value)}switch(E=c?Ao(c):window,e){case"focusin":(xg(E)||E.contentEditable==="true")&&(jo=E,Nf=c,da=null);break;case"focusout":da=Nf=jo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Cg(f,r,d);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":Cg(f,r,d)}var C;if(Cp)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ro?qw(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Hw&&r.locale!=="ko"&&(Ro||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ro&&(C=Vw()):($n=d,_p="value"in $n?$n.value:$n.textContent,Ro=!0)),E=Ac(c,T),0<E.length&&(T=new gg(T,e,null,r,d),f.push({event:T,listeners:E}),C?T.data=C:(C=Kw(r),C!==null&&(T.data=C)))),(C=sk?ok(e,r):ik(e,r))&&(c=Ac(c,"onBeforeInput"),0<c.length&&(d=new gg("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=C))}o0(f,t)})}function Na(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ac(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ba(e,r),o!=null&&n.unshift(Na(e,o,s)),o=ba(e,t),o!=null&&n.push(Na(e,o,s))),e=e.return}return n}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ng(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=ba(r,o),l!=null&&i.unshift(Na(r,l,a))):s||(l=ba(r,o),l!=null&&i.push(Na(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var xk=/\r\n?/g,bk=/\u0000|\uFFFD/g;function Pg(e){return(typeof e=="string"?e:""+e).replace(xk,`
`).replace(bk,"")}function Ol(e,t,r){if(t=Pg(t),Pg(e)!==t&&r)throw Error(U(425))}function Dc(){}var Rf=null,jf=null;function Of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,_k=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(Ek)}:Af;function Ek(e){setTimeout(function(){throw e})}function Sd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ea(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ea(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ei,Pa="__reactProps$"+Ei,Zr="__reactContainer$"+Ei,Df="__reactEvents$"+Ei,Ck="__reactListeners$"+Ei,kk="__reactHandles$"+Ei;function ks(e){var t=e[Rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zr]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jg(e);e!==null;){if(r=e[Rr])return r;e=jg(e)}return t}e=r,r=e.parentNode}return null}function al(e){return e=e[Rr]||e[Zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function yu(e){return e[Pa]||null}var If=[],Do=-1;function os(e){return{current:e}}function Ne(e){0>Do||(e.current=If[Do],If[Do]=null,Do--)}function Ce(e,t){Do++,If[Do]=e.current,e.current=t}var Xn={},dt=os(Xn),Et=os(!1),Bs=Xn;function di(e,t){var r=e.type.contextTypes;if(!r)return Xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(e){return e=e.childContextTypes,e!=null}function Ic(){Ne(Et),Ne(dt)}function Og(e,t,r){if(dt.current!==Xn)throw Error(U(168));Ce(dt,t),Ce(Et,r)}function a0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(U(108,uC(e)||"Unknown",s));return Me({},r,n)}function Mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Bs=dt.current,Ce(dt,e),Ce(Et,Et.current),!0}function Ag(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=a0(e,t,Bs),n.__reactInternalMemoizedMergedChildContext=e,Ne(Et),Ne(dt),Ce(dt,e)):Ne(Et),Ce(Et,r)}var Hr=null,wu=!1,Ed=!1;function l0(e){Hr===null?Hr=[e]:Hr.push(e)}function Tk(e){wu=!0,l0(e)}function is(){if(!Ed&&Hr!==null){Ed=!0;var e=0,t=be;try{var r=Hr;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hr=null,wu=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(e+1)),Aw(yp,is),s}finally{be=t,Ed=!1}}return null}var Io=[],Mo=0,Lc=null,$c=0,Qt=[],Yt=0,zs=null,Gr=1,Qr="";function xs(e,t){Io[Mo++]=$c,Io[Mo++]=Lc,Lc=e,$c=t}function c0(e,t,r){Qt[Yt++]=Gr,Qt[Yt++]=Qr,Qt[Yt++]=zs,zs=e;var n=Gr;e=Qr;var s=32-gr(n)-1;n&=~(1<<s),r+=1;var o=32-gr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Gr=1<<32-gr(t)+s|r<<s|n,Qr=o+e}else Gr=1<<o|r<<s|n,Qr=e}function Tp(e){e.return!==null&&(xs(e,1),c0(e,1,0))}function Np(e){for(;e===Lc;)Lc=Io[--Mo],Io[Mo]=null,$c=Io[--Mo],Io[Mo]=null;for(;e===zs;)zs=Qt[--Yt],Qt[Yt]=null,Qr=Qt[--Yt],Qt[Yt]=null,Gr=Qt[--Yt],Qt[Yt]=null}var Dt=null,At=null,je=!1,pr=null;function u0(e,t){var r=Jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,At=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zs!==null?{id:Gr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,At=null,!0):!1;default:return!1}}function Mf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lf(e){if(je){var t=At;if(t){var r=t;if(!Dg(e,t)){if(Mf(e))throw Error(U(418));t=Vn(r.nextSibling);var n=Dt;t&&Dg(e,t)?u0(n,r):(e.flags=e.flags&-4097|2,je=!1,Dt=e)}}else{if(Mf(e))throw Error(U(418));e.flags=e.flags&-4097|2,je=!1,Dt=e}}}function Ig(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function Al(e){if(e!==Dt)return!1;if(!je)return Ig(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Of(e.type,e.memoizedProps)),t&&(t=At)){if(Mf(e))throw d0(),Error(U(418));for(;t;)u0(e,t),t=Vn(t.nextSibling)}if(Ig(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){At=Vn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}At=null}}else At=Dt?Vn(e.stateNode.nextSibling):null;return!0}function d0(){for(var e=At;e;)e=Vn(e.nextSibling)}function fi(){At=Dt=null,je=!1}function Pp(e){pr===null?pr=[e]:pr.push(e)}var Nk=sn.ReactCurrentBatchConfig;function Hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function Dl(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mg(e){var t=e._init;return t(e._payload)}function f0(e){function t(w,x){if(e){var y=w.deletions;y===null?(w.deletions=[x],w.flags|=16):y.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Gn(w,x),w.index=0,w.sibling=null,w}function o(w,x,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<x?(w.flags|=2,x):y):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,y,_){return x===null||x.tag!==6?(x=jd(y,w.mode,_),x.return=w,x):(x=s(x,y),x.return=w,x)}function l(w,x,y,_){var S=y.type;return S===Po?d(w,x,y.props.children,_,y.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_n&&Mg(S)===x.type)?(_=s(x,y.props),_.ref=Hi(w,x,y),_.return=w,_):(_=hc(y.type,y.key,y.props,null,w.mode,_),_.ref=Hi(w,x,y),_.return=w,_)}function c(w,x,y,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Od(y,w.mode,_),x.return=w,x):(x=s(x,y.children||[]),x.return=w,x)}function d(w,x,y,_,S){return x===null||x.tag!==7?(x=Us(y,w.mode,_,S),x.return=w,x):(x=s(x,y),x.return=w,x)}function f(w,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jd(""+x,w.mode,y),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:return y=hc(x.type,x.key,x.props,null,w.mode,y),y.ref=Hi(w,null,x),y.return=w,y;case No:return x=Od(x,w.mode,y),x.return=w,x;case _n:var _=x._init;return f(w,_(x._payload),y)}if(ta(x)||Ui(x))return x=Us(x,w.mode,y,null),x.return=w,x;Dl(w,x)}return null}function m(w,x,y,_){var S=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(w,x,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:return y.key===S?l(w,x,y,_):null;case No:return y.key===S?c(w,x,y,_):null;case _n:return S=y._init,m(w,x,S(y._payload),_)}if(ta(y)||Ui(y))return S!==null?null:d(w,x,y,_,null);Dl(w,y)}return null}function p(w,x,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(y)||null,a(x,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sl:return w=w.get(_.key===null?y:_.key)||null,l(x,w,_,S);case No:return w=w.get(_.key===null?y:_.key)||null,c(x,w,_,S);case _n:var E=_._init;return p(w,x,y,E(_._payload),S)}if(ta(_)||Ui(_))return w=w.get(y)||null,d(x,w,_,S,null);Dl(x,_)}return null}function v(w,x,y,_){for(var S=null,E=null,C=x,T=x=0,j=null;C!==null&&T<y.length;T++){C.index>T?(j=C,C=null):j=C.sibling;var O=m(w,C,y[T],_);if(O===null){C===null&&(C=j);break}e&&C&&O.alternate===null&&t(w,C),x=o(O,x,T),E===null?S=O:E.sibling=O,E=O,C=j}if(T===y.length)return r(w,C),je&&xs(w,T),S;if(C===null){for(;T<y.length;T++)C=f(w,y[T],_),C!==null&&(x=o(C,x,T),E===null?S=C:E.sibling=C,E=C);return je&&xs(w,T),S}for(C=n(w,C);T<y.length;T++)j=p(C,w,T,y[T],_),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?T:j.key),x=o(j,x,T),E===null?S=j:E.sibling=j,E=j);return e&&C.forEach(function(D){return t(w,D)}),je&&xs(w,T),S}function g(w,x,y,_){var S=Ui(y);if(typeof S!="function")throw Error(U(150));if(y=S.call(y),y==null)throw Error(U(151));for(var E=S=null,C=x,T=x=0,j=null,O=y.next();C!==null&&!O.done;T++,O=y.next()){C.index>T?(j=C,C=null):j=C.sibling;var D=m(w,C,O.value,_);if(D===null){C===null&&(C=j);break}e&&C&&D.alternate===null&&t(w,C),x=o(D,x,T),E===null?S=D:E.sibling=D,E=D,C=j}if(O.done)return r(w,C),je&&xs(w,T),S;if(C===null){for(;!O.done;T++,O=y.next())O=f(w,O.value,_),O!==null&&(x=o(O,x,T),E===null?S=O:E.sibling=O,E=O);return je&&xs(w,T),S}for(C=n(w,C);!O.done;T++,O=y.next())O=p(C,w,T,O.value,_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?T:O.key),x=o(O,x,T),E===null?S=O:E.sibling=O,E=O);return e&&C.forEach(function(A){return t(w,A)}),je&&xs(w,T),S}function b(w,x,y,_){if(typeof y=="object"&&y!==null&&y.type===Po&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:e:{for(var S=y.key,E=x;E!==null;){if(E.key===S){if(S=y.type,S===Po){if(E.tag===7){r(w,E.sibling),x=s(E,y.props.children),x.return=w,w=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_n&&Mg(S)===E.type){r(w,E.sibling),x=s(E,y.props),x.ref=Hi(w,E,y),x.return=w,w=x;break e}r(w,E);break}else t(w,E);E=E.sibling}y.type===Po?(x=Us(y.props.children,w.mode,_,y.key),x.return=w,w=x):(_=hc(y.type,y.key,y.props,null,w.mode,_),_.ref=Hi(w,x,y),_.return=w,w=_)}return i(w);case No:e:{for(E=y.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(w,x.sibling),x=s(x,y.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Od(y,w.mode,_),x.return=w,w=x}return i(w);case _n:return E=y._init,b(w,x,E(y._payload),_)}if(ta(y))return v(w,x,y,_);if(Ui(y))return g(w,x,y,_);Dl(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(w,x.sibling),x=s(x,y),x.return=w,w=x):(r(w,x),x=jd(y,w.mode,_),x.return=w,w=x),i(w)):r(w,x)}return b}var hi=f0(!0),h0=f0(!1),Fc=os(null),Uc=null,Lo=null,Rp=null;function jp(){Rp=Lo=Uc=null}function Op(e){var t=Fc.current;Ne(Fc),e._currentValue=t}function $f(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ho(e,t){Uc=e,Rp=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Zt(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(Uc===null)throw Error(U(308));Lo=e,Uc.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var Ts=null;function Ap(e){Ts===null?Ts=[e]:Ts.push(e)}function p0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ap(t)):(r.next=s.next,s.next=r),t.interleaved=r,en(e,n)}function en(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Sn=!1;function Dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,en(e,r)}return s=n.interleaved,s===null?(t.next=t,Ap(n)):(t.next=s.next,s.next=t),n.interleaved=t,en(e,r)}function ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wp(e,r)}}function Lg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bc(e,t,r,n){var s=e.updateQueue;Sn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(m=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,f,m):v,m==null)break e;f=Me({},f,m);break e;case 2:Sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Vs|=i,e.lanes=i,e.memoizedState=f}}function $g(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var ll={},Mr=os(ll),Ra=os(ll),ja=os(ll);function Ns(e){if(e===ll)throw Error(U(174));return e}function Ip(e,t){switch(Ce(ja,t),Ce(Ra,e),Ce(Mr,ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yf(t,e)}Ne(Mr),Ce(Mr,t)}function pi(){Ne(Mr),Ne(Ra),Ne(ja)}function g0(e){Ns(ja.current);var t=Ns(Mr.current),r=yf(t,e.type);t!==r&&(Ce(Ra,e),Ce(Mr,r))}function Mp(e){Ra.current===e&&(Ne(Mr),Ne(Ra))}var De=os(0);function zc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cd=[];function Lp(){for(var e=0;e<Cd.length;e++)Cd[e]._workInProgressVersionPrimary=null;Cd.length=0}var lc=sn.ReactCurrentDispatcher,kd=sn.ReactCurrentBatchConfig,Ws=0,Ie=null,qe=null,Ye=null,Wc=!1,fa=!1,Oa=0,Pk=0;function at(){throw Error(U(321))}function $p(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yr(e[r],t[r]))return!1;return!0}function Fp(e,t,r,n,s,o){if(Ws=o,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lc.current=e===null||e.memoizedState===null?Ak:Dk,e=r(n,s),fa){o=0;do{if(fa=!1,Oa=0,25<=o)throw Error(U(301));o+=1,Ye=qe=null,t.updateQueue=null,lc.current=Ik,e=r(n,s)}while(fa)}if(lc.current=Vc,t=qe!==null&&qe.next!==null,Ws=0,Ye=qe=Ie=null,Wc=!1,t)throw Error(U(300));return e}function Up(){var e=Oa!==0;return Oa=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ie.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function er(){if(qe===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ye===null?Ie.memoizedState:Ye.next;if(t!==null)Ye=t,qe=e;else{if(e===null)throw Error(U(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Ie.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Aa(e,t){return typeof t=="function"?t(e):t}function Td(e){var t=er(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=qe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Ws&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,Ie.lanes|=d,Vs|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=a,yr(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ie.lanes|=o,Vs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nd(e){var t=er(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);yr(o,t.memoizedState)||(St=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function v0(){}function y0(e,t){var r=Ie,n=er(),s=t(),o=!yr(n.memoizedState,s);if(o&&(n.memoizedState=s,St=!0),n=n.queue,Bp(b0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,Da(9,x0.bind(null,r,n,s,t),void 0,null),Je===null)throw Error(U(349));Ws&30||w0(r,t,s)}return s}function w0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function x0(e,t,r,n){t.value=r,t.getSnapshot=n,_0(t)&&S0(e)}function b0(e,t,r){return r(function(){_0(t)&&S0(e)})}function _0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yr(e,r)}catch{return!0}}function S0(e){var t=en(e,1);t!==null&&vr(t,e,1,-1)}function Fg(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ok.bind(null,Ie,e),[t.memoizedState,e]}function Da(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function E0(){return er().memoizedState}function cc(e,t,r,n){var s=kr();Ie.flags|=e,s.memoizedState=Da(1|t,r,void 0,n===void 0?null:n)}function xu(e,t,r,n){var s=er();n=n===void 0?null:n;var o=void 0;if(qe!==null){var i=qe.memoizedState;if(o=i.destroy,n!==null&&$p(n,i.deps)){s.memoizedState=Da(t,r,o,n);return}}Ie.flags|=e,s.memoizedState=Da(1|t,r,o,n)}function Ug(e,t){return cc(8390656,8,e,t)}function Bp(e,t){return xu(2048,8,e,t)}function C0(e,t){return xu(4,2,e,t)}function k0(e,t){return xu(4,4,e,t)}function T0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N0(e,t,r){return r=r!=null?r.concat([e]):null,xu(4,4,T0.bind(null,t,e),r)}function zp(){}function P0(e,t){var r=er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$p(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function R0(e,t){var r=er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$p(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function j0(e,t,r){return Ws&21?(yr(r,t)||(r=Mw(),Ie.lanes|=r,Vs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=r)}function Rk(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=kd.transition;kd.transition={};try{e(!1),t()}finally{be=r,kd.transition=n}}function O0(){return er().memoizedState}function jk(e,t,r){var n=Kn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A0(e))D0(t,r);else if(r=p0(e,t,r,n),r!==null){var s=gt();vr(r,e,n,s),I0(r,t,n)}}function Ok(e,t,r){var n=Kn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A0(e))D0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,yr(a,i)){var l=t.interleaved;l===null?(s.next=s,Ap(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=p0(e,t,s,n),r!==null&&(s=gt(),vr(r,e,n,s),I0(r,t,n))}}function A0(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function D0(e,t){fa=Wc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function I0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wp(e,r)}}var Vc={readContext:Zt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Ak={readContext:Zt,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:Ug,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cc(4194308,4,T0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return cc(4,2,e,t)},useMemo:function(e,t){var r=kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jk.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:Fg,useDebugValue:zp,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=Fg(!1),t=e[0];return e=Rk.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,s=kr();if(je){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),Je===null)throw Error(U(349));Ws&30||w0(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Ug(b0.bind(null,n,o,e),[e]),n.flags|=2048,Da(9,x0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=kr(),t=Je.identifierPrefix;if(je){var r=Qr,n=Gr;r=(n&~(1<<32-gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dk={readContext:Zt,useCallback:P0,useContext:Zt,useEffect:Bp,useImperativeHandle:N0,useInsertionEffect:C0,useLayoutEffect:k0,useMemo:R0,useReducer:Td,useRef:E0,useState:function(){return Td(Aa)},useDebugValue:zp,useDeferredValue:function(e){var t=er();return j0(t,qe.memoizedState,e)},useTransition:function(){var e=Td(Aa)[0],t=er().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:y0,useId:O0,unstable_isNewReconciler:!1},Ik={readContext:Zt,useCallback:P0,useContext:Zt,useEffect:Bp,useImperativeHandle:N0,useInsertionEffect:C0,useLayoutEffect:k0,useMemo:R0,useReducer:Nd,useRef:E0,useState:function(){return Nd(Aa)},useDebugValue:zp,useDeferredValue:function(e){var t=er();return qe===null?t.memoizedState=e:j0(t,qe.memoizedState,e)},useTransition:function(){var e=Nd(Aa)[0],t=er().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:y0,useId:O0,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ff(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bu={isMounted:function(e){return(e=e._reactInternals)?ro(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gt(),s=Kn(e),o=Yr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Hn(e,o,s),t!==null&&(vr(t,e,s,n),ac(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gt(),s=Kn(e),o=Yr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Hn(e,o,s),t!==null&&(vr(t,e,s,n),ac(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gt(),n=Kn(e),s=Yr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,n),t!==null&&(vr(t,e,n,r),ac(t,e,n))}};function Bg(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!ka(r,n)||!ka(s,o):!0}function M0(e,t,r){var n=!1,s=Xn,o=t.contextType;return typeof o=="object"&&o!==null?o=Zt(o):(s=Ct(t)?Bs:dt.current,n=t.contextTypes,o=(n=n!=null)?di(e,s):Xn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function zg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bu.enqueueReplaceState(t,t.state,null)}function Uf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Dp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Zt(o):(o=Ct(t)?Bs:dt.current,s.context=di(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ff(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bu.enqueueReplaceState(s,s.state,null),Bc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var r="",n=t;do r+=cC(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function L0(e,t,r){r=Yr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qc||(qc=!0,Jf=n),Bf(e,t)},r}function $0(e,t,r){r=Yr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Bf(e,t),typeof n!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Wg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Yk.bind(null,e,t,r),t.then(e,e))}function Vg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yr(-1,1),t.tag=2,Hn(r,t,1))),r.lanes|=1),e)}var Lk=sn.ReactCurrentOwner,St=!1;function pt(e,t,r,n){t.child=e===null?h0(t,null,r,n):hi(t,e.child,r,n)}function qg(e,t,r,n,s){r=r.render;var o=t.ref;return Ho(t,s),n=Fp(e,t,r,n,o,s),r=Up(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tn(e,t,s)):(je&&r&&Tp(t),t.flags|=1,pt(e,t,n,s),t.child)}function Kg(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Yp(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,F0(e,t,o,n,s)):(e=hc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ka,r(i,n)&&e.ref===t.ref)return tn(e,t,s)}return t.flags|=1,e=Gn(o,n),e.ref=t.ref,e.return=t,t.child=e}function F0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ka(o,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,tn(e,t,s)}return zf(e,t,r,n,s)}function U0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Fo,Pt),Pt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Fo,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ce(Fo,Pt),Pt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ce(Fo,Pt),Pt|=n;return pt(e,t,s,r),t.child}function B0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zf(e,t,r,n,s){var o=Ct(r)?Bs:dt.current;return o=di(t,o),Ho(t,s),r=Fp(e,t,r,n,o,s),n=Up(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tn(e,t,s)):(je&&n&&Tp(t),t.flags|=1,pt(e,t,r,s),t.child)}function Gg(e,t,r,n,s){if(Ct(r)){var o=!0;Mc(t)}else o=!1;if(Ho(t,s),t.stateNode===null)uc(e,t),M0(t,r,n),Uf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zt(c):(c=Ct(r)?Bs:dt.current,c=di(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&zg(t,i,n,c),Sn=!1;var m=t.memoizedState;i.state=m,Bc(t,n,i,s),l=t.memoizedState,a!==n||m!==l||Et.current||Sn?(typeof d=="function"&&(Ff(t,r,d,n),l=t.memoizedState),(a=Sn||Bg(t,r,a,n,m,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,m0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:lr(t.type,a),i.props=c,f=t.pendingProps,m=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zt(l):(l=Ct(r)?Bs:dt.current,l=di(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==l)&&zg(t,i,n,l),Sn=!1,m=t.memoizedState,i.state=m,Bc(t,n,i,s);var v=t.memoizedState;a!==f||m!==v||Et.current||Sn?(typeof p=="function"&&(Ff(t,r,p,n),v=t.memoizedState),(c=Sn||Bg(t,r,c,n,m,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Wf(e,t,r,n,o,s)}function Wf(e,t,r,n,s,o){B0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Ag(t,r,!1),tn(e,t,o);n=t.stateNode,Lk.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,a,o)):pt(e,t,a,o),t.memoizedState=n.state,s&&Ag(t,r,!0),t.child}function z0(e){var t=e.stateNode;t.pendingContext?Og(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Og(e,t.context,!1),Ip(e,t.containerInfo)}function Qg(e,t,r,n,s){return fi(),Pp(s),t.flags|=256,pt(e,t,r,n),t.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Hf(e){return{baseLanes:e,cachePool:null,transitions:null}}function W0(e,t,r){var n=t.pendingProps,s=De.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(De,s&1),e===null)return Lf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Eu(i,n,0,null),e=Us(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hf(r),t.memoizedState=Vf,e):Wp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $k(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Gn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Gn(a,o):(o=Us(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Hf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Vf,n}return o=e.child,e=o.sibling,n=Gn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Wp(e,t){return t=Eu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Il(e,t,r,n){return n!==null&&Pp(n),hi(t,e.child,null,r),e=Wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $k(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Pd(Error(U(422))),Il(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Eu({mode:"visible",children:n.children},s,0,null),o=Us(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&hi(t,e.child,null,i),t.child.memoizedState=Hf(i),t.memoizedState=Vf,o);if(!(t.mode&1))return Il(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(U(419)),n=Pd(o,n,void 0),Il(e,t,i,n)}if(a=(i&e.childLanes)!==0,St||a){if(n=Je,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,en(e,s),vr(n,e,s,-1))}return Qp(),n=Pd(Error(U(421))),Il(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,At=Vn(s.nextSibling),Dt=t,je=!0,pr=null,e!==null&&(Qt[Yt++]=Gr,Qt[Yt++]=Qr,Qt[Yt++]=zs,Gr=e.id,Qr=e.overflow,zs=t),t=Wp(t,n.children),t.flags|=4096,t)}function Yg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$f(e.return,t,r)}function Rd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function V0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(pt(e,t,n.children,r),n=De.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yg(e,r,t);else if(e.tag===19)Yg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(De,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&zc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rd(t,!0,r,null,o);break;case"together":Rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fk(e,t,r){switch(t.tag){case 3:z0(t),fi();break;case 5:g0(t);break;case 1:Ct(t.type)&&Mc(t);break;case 4:Ip(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(Fc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(De,De.current&1),t.flags|=128,null):r&t.child.childLanes?W0(e,t,r):(Ce(De,De.current&1),e=tn(e,t,r),e!==null?e.sibling:null);Ce(De,De.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return V0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(De,De.current),n)break;return null;case 22:case 23:return t.lanes=0,U0(e,t,r)}return tn(e,t,r)}var H0,qf,q0,K0;H0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qf=function(){};q0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ns(Mr.current);var o=null;switch(r){case"input":s=pf(e,s),n=pf(e,n),o=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),o=[];break;case"textarea":s=vf(e,s),n=vf(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dc)}wf(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};K0=function(e,t,r,n){r!==n&&(t.flags|=4)};function qi(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Uk(e,t,r){var n=t.pendingProps;switch(Np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Ct(t.type)&&Ic(),lt(t),null;case 3:return n=t.stateNode,pi(),Ne(Et),Ne(dt),Lp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pr!==null&&(eh(pr),pr=null))),qf(e,t),lt(t),null;case 5:Mp(t);var s=Ns(ja.current);if(r=t.type,e!==null&&t.stateNode!=null)q0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return lt(t),null}if(e=Ns(Mr.current),Al(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Rr]=t,n[Pa]=o,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<na.length;s++)Te(na[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":og(n,o),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Te("invalid",n);break;case"textarea":ag(n,o),Te("invalid",n)}wf(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ol(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ol(n.textContent,a,e),s=["children",""+a]):wa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Te("scroll",n)}switch(r){case"input":El(n),ig(n,o,!0);break;case"textarea":El(n),lg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Dc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Rr]=t,e[Pa]=n,H0(e,t,!1,!1),t.stateNode=e;e:{switch(i=xf(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<na.length;s++)Te(na[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":og(e,n),s=pf(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Te("invalid",e);break;case"textarea":ag(e,n),s=vf(e,n),Te("invalid",e);break;default:s=n}wf(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ew(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_w(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xa(e,l):typeof l=="number"&&xa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Te("scroll",e):l!=null&&hp(e,o,l,i))}switch(r){case"input":El(e),ig(e,n,!1);break;case"textarea":El(e),lg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Bo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)K0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=Ns(ja.current),Ns(Mr.current),Al(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rr]=t,(o=n.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:Ol(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=t,t.stateNode=n}return lt(t),null;case 13:if(Ne(De),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&At!==null&&t.mode&1&&!(t.flags&128))d0(),fi(),t.flags|=98560,o=!1;else if(o=Al(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Rr]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else pr!==null&&(eh(pr),pr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Qe===0&&(Qe=3):Qp())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return pi(),qf(e,t),e===null&&Ta(t.stateNode.containerInfo),lt(t),null;case 10:return Op(t.type._context),lt(t),null;case 17:return Ct(t.type)&&Ic(),lt(t),null;case 19:if(Ne(De),o=t.memoizedState,o===null)return lt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)qi(o,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zc(e),i!==null){for(t.flags|=128,qi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>gi&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304)}else{if(!n)if(e=zc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!je)return lt(t),null}else 2*Ue()-o.renderingStartTime>gi&&r!==1073741824&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=De.current,Ce(De,n?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return Gp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Bk(e,t){switch(Np(t),t.tag){case 1:return Ct(t.type)&&Ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(),Ne(Et),Ne(dt),Lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(Ne(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(De),null;case 4:return pi(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var Ml=!1,ut=!1,zk=typeof WeakSet=="function"?WeakSet:Set,G=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fe(e,t,n)}else r.current=null}function Kf(e,t,r){try{r()}catch(n){Fe(e,t,n)}}var Jg=!1;function Wk(e,t){if(Rf=jc,e=Xw(),kp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++c===s&&(a=i),m===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(jf={focusedElem:e,selectionRange:r},jc=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:lr(t.type,g),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Fe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=Jg,Jg=!1,v}function ha(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Kf(t,r,o)}s=s.next}while(s!==n)}}function _u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function G0(e){var t=e.alternate;t!==null&&(e.alternate=null,G0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[Pa],delete t[Df],delete t[Ck],delete t[kk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Q0(e){return e.tag===5||e.tag===3||e.tag===4}function Xg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dc));else if(n!==4&&(e=e.child,e!==null))for(Qf(e,t,r),e=e.sibling;e!==null;)Qf(e,t,r),e=e.sibling}function Yf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yf(e,t,r),e=e.sibling;e!==null;)Yf(e,t,r),e=e.sibling}var tt=null,fr=!1;function mn(e,t,r){for(r=r.child;r!==null;)Y0(e,t,r),r=r.sibling}function Y0(e,t,r){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(pu,r)}catch{}switch(r.tag){case 5:ut||$o(r,t);case 6:var n=tt,s=fr;tt=null,mn(e,t,r),tt=n,fr=s,tt!==null&&(fr?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(fr?(e=tt,r=r.stateNode,e.nodeType===8?Sd(e.parentNode,r):e.nodeType===1&&Sd(e,r),Ea(e)):Sd(tt,r.stateNode));break;case 4:n=tt,s=fr,tt=r.stateNode.containerInfo,fr=!0,mn(e,t,r),tt=n,fr=s;break;case 0:case 11:case 14:case 15:if(!ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Kf(r,t,i),s=s.next}while(s!==n)}mn(e,t,r);break;case 1:if(!ut&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Fe(r,t,a)}mn(e,t,r);break;case 21:mn(e,t,r);break;case 22:r.mode&1?(ut=(n=ut)||r.memoizedState!==null,mn(e,t,r),ut=n):mn(e,t,r);break;default:mn(e,t,r)}}function Zg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zk),t.forEach(function(n){var s=Xk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function sr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,fr=!1;break e;case 3:tt=a.stateNode.containerInfo,fr=!0;break e;case 4:tt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(tt===null)throw Error(U(160));Y0(o,i,s),tt=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}function J0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),Cr(e),n&4){try{ha(3,e,e.return),_u(3,e)}catch(g){Fe(e,e.return,g)}try{ha(5,e,e.return)}catch(g){Fe(e,e.return,g)}}break;case 1:sr(t,e),Cr(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(sr(t,e),Cr(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{xa(s,"")}catch(g){Fe(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ww(s,o),xf(a,i);var c=xf(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Ew(s,f):d==="dangerouslySetInnerHTML"?_w(s,f):d==="children"?xa(s,f):hp(s,d,f,c)}switch(a){case"input":mf(s,o);break;case"textarea":xw(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Bo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Bo(s,!!o.multiple,o.defaultValue,!0):Bo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Pa]=o}catch(g){Fe(e,e.return,g)}}break;case 6:if(sr(t,e),Cr(e),n&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Fe(e,e.return,g)}}break;case 3:if(sr(t,e),Cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(g){Fe(e,e.return,g)}break;case 4:sr(t,e),Cr(e);break;case 13:sr(t,e),Cr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(qp=Ue())),n&4&&Zg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ut=(c=ut)||d,sr(t,e),ut=c):sr(t,e),Cr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(m=G,p=m.child,m.tag){case 0:case 11:case 14:case 15:ha(4,m,m.return);break;case 1:$o(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Fe(n,r,g)}}break;case 5:$o(m,m.return);break;case 22:if(m.memoizedState!==null){tv(f);continue}}p!==null?(p.return=m,G=p):tv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sw("display",i))}catch(g){Fe(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Fe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sr(t,e),Cr(e),n&4&&Zg(e);break;case 21:break;default:sr(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Q0(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xa(s,""),n.flags&=-33);var o=Xg(e);Yf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Xg(e);Qf(e,a,i);break;default:throw Error(U(161))}}catch(l){Fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vk(e,t,r){G=e,X0(e)}function X0(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ml;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Ml;var c=ut;if(Ml=i,(ut=l)&&!c)for(G=s;G!==null;)i=G,l=i.child,i.tag===22&&i.memoizedState!==null?rv(s):l!==null?(l.return=i,G=l):rv(s);for(;o!==null;)G=o,X0(o),o=o.sibling;G=s,Ml=a,ut=c}ev(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):ev(e)}}function ev(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||_u(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ut)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:lr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$g(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$g(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ea(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ut||t.flags&512&&Gf(t)}catch(m){Fe(t,t.return,m)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function tv(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function rv(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_u(4,t)}catch(l){Fe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Fe(t,s,l)}}var o=t.return;try{Gf(t)}catch(l){Fe(t,o,l)}break;case 5:var i=t.return;try{Gf(t)}catch(l){Fe(t,i,l)}}}catch(l){Fe(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var Hk=Math.ceil,Hc=sn.ReactCurrentDispatcher,Vp=sn.ReactCurrentOwner,Xt=sn.ReactCurrentBatchConfig,ve=0,Je=null,We=null,nt=0,Pt=0,Fo=os(0),Qe=0,Ia=null,Vs=0,Su=0,Hp=0,pa=null,_t=null,qp=0,gi=1/0,Wr=null,qc=!1,Jf=null,qn=null,Ll=!1,Fn=null,Kc=0,ma=0,Xf=null,dc=-1,fc=0;function gt(){return ve&6?Ue():dc!==-1?dc:dc=Ue()}function Kn(e){return e.mode&1?ve&2&&nt!==0?nt&-nt:Nk.transition!==null?(fc===0&&(fc=Mw()),fc):(e=be,e!==0||(e=window.event,e=e===void 0?16:Ww(e.type)),e):1}function vr(e,t,r,n){if(50<ma)throw ma=0,Xf=null,Error(U(185));ol(e,r,n),(!(ve&2)||e!==Je)&&(e===Je&&(!(ve&2)&&(Su|=r),Qe===4&&kn(e,nt)),kt(e,n),r===1&&ve===0&&!(t.mode&1)&&(gi=Ue()+500,wu&&is()))}function kt(e,t){var r=e.callbackNode;NC(e,t);var n=Rc(e,e===Je?nt:0);if(n===0)r!==null&&dg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dg(r),t===1)e.tag===0?Tk(nv.bind(null,e)):l0(nv.bind(null,e)),Sk(function(){!(ve&6)&&is()}),r=null;else{switch(Lw(n)){case 1:r=yp;break;case 4:r=Dw;break;case 16:r=Pc;break;case 536870912:r=Iw;break;default:r=Pc}r=ix(r,Z0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Z0(e,t){if(dc=-1,fc=0,ve&6)throw Error(U(327));var r=e.callbackNode;if(qo()&&e.callbackNode!==r)return null;var n=Rc(e,e===Je?nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gc(e,n);else{t=n;var s=ve;ve|=2;var o=tx();(Je!==e||nt!==t)&&(Wr=null,gi=Ue()+500,Fs(e,t));do try{Gk();break}catch(a){ex(e,a)}while(!0);jp(),Hc.current=o,ve=s,We!==null?t=0:(Je=null,nt=0,t=Qe)}if(t!==0){if(t===2&&(s=Cf(e),s!==0&&(n=s,t=Zf(e,s))),t===1)throw r=Ia,Fs(e,0),kn(e,n),kt(e,Ue()),r;if(t===6)kn(e,n);else{if(s=e.current.alternate,!(n&30)&&!qk(s)&&(t=Gc(e,n),t===2&&(o=Cf(e),o!==0&&(n=o,t=Zf(e,o))),t===1))throw r=Ia,Fs(e,0),kn(e,n),kt(e,Ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:bs(e,_t,Wr);break;case 3:if(kn(e,n),(n&130023424)===n&&(t=qp+500-Ue(),10<t)){if(Rc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Af(bs.bind(null,e,_t,Wr),t);break}bs(e,_t,Wr);break;case 4:if(kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-gr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hk(n/1960))-n,10<n){e.timeoutHandle=Af(bs.bind(null,e,_t,Wr),n);break}bs(e,_t,Wr);break;case 5:bs(e,_t,Wr);break;default:throw Error(U(329))}}}return kt(e,Ue()),e.callbackNode===r?Z0.bind(null,e):null}function Zf(e,t){var r=pa;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Gc(e,t),e!==2&&(t=_t,_t=r,t!==null&&eh(t)),e}function eh(e){_t===null?_t=e:_t.push.apply(_t,e)}function qk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!yr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Hp,t&=~Su,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gr(t),n=1<<r;e[r]=-1,t&=~n}}function nv(e){if(ve&6)throw Error(U(327));qo();var t=Rc(e,0);if(!(t&1))return kt(e,Ue()),null;var r=Gc(e,t);if(e.tag!==0&&r===2){var n=Cf(e);n!==0&&(t=n,r=Zf(e,n))}if(r===1)throw r=Ia,Fs(e,0),kn(e,t),kt(e,Ue()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,_t,Wr),kt(e,Ue()),null}function Kp(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(gi=Ue()+500,wu&&is())}}function Hs(e){Fn!==null&&Fn.tag===0&&!(ve&6)&&qo();var t=ve;ve|=1;var r=Xt.transition,n=be;try{if(Xt.transition=null,be=1,e)return e()}finally{be=n,Xt.transition=r,ve=t,!(ve&6)&&is()}}function Gp(){Pt=Fo.current,Ne(Fo)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_k(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(Np(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ic();break;case 3:pi(),Ne(Et),Ne(dt),Lp();break;case 5:Mp(n);break;case 4:pi();break;case 13:Ne(De);break;case 19:Ne(De);break;case 10:Op(n.type._context);break;case 22:case 23:Gp()}r=r.return}if(Je=e,We=e=Gn(e.current,null),nt=Pt=t,Qe=0,Ia=null,Hp=Su=Vs=0,_t=pa=null,Ts!==null){for(t=0;t<Ts.length;t++)if(r=Ts[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ts=null}return e}function ex(e,t){do{var r=We;try{if(jp(),lc.current=Vc,Wc){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wc=!1}if(Ws=0,Ye=qe=Ie=null,fa=!1,Oa=0,Vp.current=null,r===null||r.return===null){Qe=1,Ia=t,We=null;break}e:{var o=e,i=r.return,a=r,l=t;if(t=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Vg(i);if(p!==null){p.flags&=-257,Hg(p,i,a,o,t),p.mode&1&&Wg(o,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Wg(o,c,t),Qp();break e}l=Error(U(426))}}else if(je&&a.mode&1){var b=Vg(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hg(b,i,a,o,t),Pp(mi(l,a));break e}}o=l=mi(l,a),Qe!==4&&(Qe=2),pa===null?pa=[o]:pa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=L0(o,l,t);Lg(o,w);break e;case 1:a=l;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qn===null||!qn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=$0(o,a,t);Lg(o,_);break e}}o=o.return}while(o!==null)}nx(r)}catch(S){t=S,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function tx(){var e=Hc.current;return Hc.current=Vc,e===null?Vc:e}function Qp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(Vs&268435455)&&!(Su&268435455)||kn(Je,nt)}function Gc(e,t){var r=ve;ve|=2;var n=tx();(Je!==e||nt!==t)&&(Wr=null,Fs(e,t));do try{Kk();break}catch(s){ex(e,s)}while(!0);if(jp(),ve=r,Hc.current=n,We!==null)throw Error(U(261));return Je=null,nt=0,Qe}function Kk(){for(;We!==null;)rx(We)}function Gk(){for(;We!==null&&!wC();)rx(We)}function rx(e){var t=ox(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?nx(e):We=t,Vp.current=null}function nx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Bk(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,We=null;return}}else if(r=Uk(r,t,Pt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Qe===0&&(Qe=5)}function bs(e,t,r){var n=be,s=Xt.transition;try{Xt.transition=null,be=1,Qk(e,t,r,n)}finally{Xt.transition=s,be=n}return null}function Qk(e,t,r,n){do qo();while(Fn!==null);if(ve&6)throw Error(U(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(PC(e,o),e===Je&&(We=Je=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ll||(Ll=!0,ix(Pc,function(){return qo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Xt.transition,Xt.transition=null;var i=be;be=1;var a=ve;ve|=4,Vp.current=null,Wk(e,r),J0(r,e),mk(jf),jc=!!Rf,jf=Rf=null,e.current=r,Vk(r),xC(),ve=a,be=i,Xt.transition=o}else e.current=r;if(Ll&&(Ll=!1,Fn=e,Kc=s),o=e.pendingLanes,o===0&&(qn=null),SC(r.stateNode),kt(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qc)throw qc=!1,e=Jf,Jf=null,e;return Kc&1&&e.tag!==0&&qo(),o=e.pendingLanes,o&1?e===Xf?ma++:(ma=0,Xf=e):ma=0,is(),null}function qo(){if(Fn!==null){var e=Lw(Kc),t=Xt.transition,r=be;try{if(Xt.transition=null,be=16>e?16:e,Fn===null)var n=!1;else{if(e=Fn,Fn=null,Kc=0,ve&6)throw Error(U(331));var s=ve;for(ve|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:ha(8,d,o)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var m=d.sibling,p=d.return;if(G0(d),d===c){G=null;break}if(m!==null){m.return=p,G=m;break}G=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,G=w;break e}G=o.return}}var x=e.current;for(G=x;G!==null;){i=G;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,G=y;else e:for(i=x;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(S){Fe(a,a.return,S)}if(a===i){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(ve=s,is(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(pu,e)}catch{}n=!0}return n}finally{be=r,Xt.transition=t}}return!1}function sv(e,t,r){t=mi(r,t),t=L0(e,t,1),e=Hn(e,t,1),t=gt(),e!==null&&(ol(e,1,t),kt(e,t))}function Fe(e,t,r){if(e.tag===3)sv(e,e,r);else for(;t!==null;){if(t.tag===3){sv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qn===null||!qn.has(n))){e=mi(r,e),e=$0(t,e,1),t=Hn(t,e,1),e=gt(),t!==null&&(ol(t,1,e),kt(t,e));break}}t=t.return}}function Yk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(nt&r)===r&&(Qe===4||Qe===3&&(nt&130023424)===nt&&500>Ue()-qp?Fs(e,0):Hp|=r),kt(e,t)}function sx(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var r=gt();e=en(e,t),e!==null&&(ol(e,t,r),kt(e,r))}function Jk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sx(e,r)}function Xk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),sx(e,r)}var ox;ox=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return St=!1,Fk(e,t,r);St=!!(e.flags&131072)}else St=!1,je&&t.flags&1048576&&c0(t,$c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;uc(e,t),e=t.pendingProps;var s=di(t,dt.current);Ho(t,r),s=Fp(null,t,n,e,s,r);var o=Up();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(n)?(o=!0,Mc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dp(t),s.updater=bu,t.stateNode=s,s._reactInternals=t,Uf(t,n,e,r),t=Wf(null,t,n,!0,o,r)):(t.tag=0,je&&o&&Tp(t),pt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(uc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=eT(n),e=lr(n,e),s){case 0:t=zf(null,t,n,e,r);break e;case 1:t=Gg(null,t,n,e,r);break e;case 11:t=qg(null,t,n,e,r);break e;case 14:t=Kg(null,t,n,lr(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),zf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),Gg(e,t,n,s,r);case 3:e:{if(z0(t),e===null)throw Error(U(387));n=t.pendingProps,o=t.memoizedState,s=o.element,m0(e,t),Bc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=mi(Error(U(423)),t),t=Qg(e,t,n,r,s);break e}else if(n!==s){s=mi(Error(U(424)),t),t=Qg(e,t,n,r,s);break e}else for(At=Vn(t.stateNode.containerInfo.firstChild),Dt=t,je=!0,pr=null,r=h0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fi(),n===s){t=tn(e,t,r);break e}pt(e,t,n,r)}t=t.child}return t;case 5:return g0(t),e===null&&Lf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Of(n,s)?i=null:o!==null&&Of(n,o)&&(t.flags|=32),B0(e,t),pt(e,t,i,r),t.child;case 6:return e===null&&Lf(t),null;case 13:return W0(e,t,r);case 4:return Ip(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hi(t,null,n,r):pt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),qg(e,t,n,s,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ce(Fc,n._currentValue),n._currentValue=i,o!==null)if(yr(o.value,i)){if(o.children===s.children&&!Et.current){t=tn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Yr(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),$f(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),$f(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ho(t,r),s=Zt(s),n=n(s),t.flags|=1,pt(e,t,n,r),t.child;case 14:return n=t.type,s=lr(n,t.pendingProps),s=lr(n.type,s),Kg(e,t,n,s,r);case 15:return F0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lr(n,s),uc(e,t),t.tag=1,Ct(n)?(e=!0,Mc(t)):e=!1,Ho(t,r),M0(t,n,s),Uf(t,n,s,r),Wf(null,t,n,!0,e,r);case 19:return V0(e,t,r);case 22:return U0(e,t,r)}throw Error(U(156,t.tag))};function ix(e,t){return Aw(e,t)}function Zk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,r,n){return new Zk(e,t,r,n)}function Yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eT(e){if(typeof e=="function")return Yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mp)return 11;if(e===gp)return 14}return 2}function Gn(e,t){var r=e.alternate;return r===null?(r=Jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Yp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Po:return Us(r.children,s,o,t);case pp:i=8,s|=8;break;case uf:return e=Jt(12,r,t,s|2),e.elementType=uf,e.lanes=o,e;case df:return e=Jt(13,r,t,s),e.elementType=df,e.lanes=o,e;case ff:return e=Jt(19,r,t,s),e.elementType=ff,e.lanes=o,e;case gw:return Eu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pw:i=10;break e;case mw:i=9;break e;case mp:i=11;break e;case gp:i=14;break e;case _n:i=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Jt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Us(e,t,r,n){return e=Jt(7,e,n,t),e.lanes=r,e}function Eu(e,t,r,n){return e=Jt(22,e,n,t),e.elementType=gw,e.lanes=r,e.stateNode={isHidden:!1},e}function jd(e,t,r){return e=Jt(6,e,null,t),e.lanes=r,e}function Od(e,t,r){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jp(e,t,r,n,s,o,i,a,l){return e=new tT(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(o),e}function rT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ax(e){if(!e)return Xn;e=e._reactInternals;e:{if(ro(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(Ct(r))return a0(e,r,t)}return t}function lx(e,t,r,n,s,o,i,a,l){return e=Jp(r,n,!0,e,s,o,i,a,l),e.context=ax(null),r=e.current,n=gt(),s=Kn(r),o=Yr(n,s),o.callback=t??null,Hn(r,o,s),e.current.lanes=s,ol(e,s,n),kt(e,n),e}function Cu(e,t,r,n){var s=t.current,o=gt(),i=Kn(s);return r=ax(r),t.context===null?t.context=r:t.pendingContext=r,t=Yr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hn(s,t,i),e!==null&&(vr(e,s,i,o),ac(e,s,i)),i}function Qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ov(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xp(e,t){ov(e,t),(e=e.alternate)&&ov(e,t)}function nT(){return null}var cx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zp(e){this._internalRoot=e}ku.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Cu(e,t,null,null)};ku.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hs(function(){Cu(null,e,null,null)}),t[Zr]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cn.length&&t!==0&&t<Cn[r].priority;r++);Cn.splice(r,0,e),r===0&&zw(e)}};function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iv(){}function sT(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var c=Qc(i);o.call(c)}}var i=lx(t,n,e,0,null,!1,!1,"",iv);return e._reactRootContainer=i,e[Zr]=i.current,Ta(e.nodeType===8?e.parentNode:e),Hs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Qc(l);a.call(c)}}var l=Jp(e,0,!1,null,null,!1,!1,"",iv);return e._reactRootContainer=l,e[Zr]=l.current,Ta(e.nodeType===8?e.parentNode:e),Hs(function(){Cu(t,l,r,n)}),l}function Nu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Qc(i);a.call(l)}}Cu(t,i,e,s)}else i=sT(r,t,e,s,n);return Qc(i)}$w=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ra(t.pendingLanes);r!==0&&(wp(t,r|1),kt(t,Ue()),!(ve&6)&&(gi=Ue()+500,is()))}break;case 13:Hs(function(){var n=en(e,1);if(n!==null){var s=gt();vr(n,e,1,s)}}),Xp(e,1)}};xp=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var r=gt();vr(t,e,134217728,r)}Xp(e,134217728)}};Fw=function(e){if(e.tag===13){var t=Kn(e),r=en(e,t);if(r!==null){var n=gt();vr(r,e,t,n)}Xp(e,t)}};Uw=function(){return be};Bw=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};_f=function(e,t,r){switch(t){case"input":if(mf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=yu(n);if(!s)throw Error(U(90));yw(n),mf(n,s)}}}break;case"textarea":xw(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};Tw=Kp;Nw=Hs;var oT={usingClientEntryPoint:!1,Events:[al,Ao,yu,Cw,kw,Kp]},Ki={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{pu=$l.inject(iT),Ir=$l}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oT;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(t))throw Error(U(200));return rT(e,t,null,r)};$t.createRoot=function(e,t){if(!em(e))throw Error(U(299));var r=!1,n="",s=cx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jp(e,1,!1,null,null,r,!1,n,s),e[Zr]=t.current,Ta(e.nodeType===8?e.parentNode:e),new Zp(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=jw(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return Hs(e)};$t.hydrate=function(e,t,r){if(!Tu(t))throw Error(U(200));return Nu(null,e,t,!0,r)};$t.hydrateRoot=function(e,t,r){if(!em(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=cx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=lx(t,null,e,1,r??null,s,!1,o,i),e[Zr]=t.current,Ta(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ku(t)};$t.render=function(e,t,r){if(!Tu(t))throw Error(U(200));return Nu(null,e,t,!1,r)};$t.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(U(40));return e._reactRootContainer?(Hs(function(){Nu(null,null,e,!1,function(){e._reactRootContainer=null,e[Zr]=null})}),!0):!1};$t.unstable_batchedUpdates=Kp;$t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tu(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Nu(e,t,r,!1,n)};$t.version="18.3.1-next-f1338f8080-20240426";function ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ux)}catch(e){console.error(e)}}ux(),uw.exports=$t;var no=uw.exports;const dx=Xy(no);var fx,av=no;fx=av.createRoot,av.hydrateRoot;const aT=1,lT=1e6;let Ad=0;function cT(){return Ad=(Ad+1)%Number.MAX_SAFE_INTEGER,Ad.toString()}const Dd=new Map,lv=e=>{if(Dd.has(e))return;const t=setTimeout(()=>{Dd.delete(e),ga({type:"REMOVE_TOAST",toastId:e})},lT);Dd.set(e,t)},uT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?lv(r):e.toasts.forEach(n=>{lv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},pc=[];let mc={toasts:[]};function ga(e){mc=uT(mc,e),pc.forEach(t=>{t(mc)})}function dT({...e}){const t=cT(),r=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ga({type:"DISMISS_TOAST",toastId:t});return ga({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function so(){const[e,t]=h.useState(mc);return h.useEffect(()=>(pc.push(t),()=>{const r=pc.indexOf(t);r>-1&&pc.splice(r,1)}),[e]),{...e,toast:dT,dismiss:r=>ga({type:"DISMISS_TOAST",toastId:r})}}function Z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qs(...e){return t=>{let r=!1;const n=e.map(s=>{const o=cv(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():cv(e[s],null)}}}}function pe(...e){return h.useCallback(qs(...e),e)}function fT(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,l=h.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function on(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),l=r.length;r=[...r,i];const c=f=>{var w;const{scope:m,children:p,...v}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[l])||a,b=h.useMemo(()=>v,Object.values(v));return u.jsx(g.Provider,{value:b,children:p})};c.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[l])||a,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,hT(s,...t)]}function hT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ks(e){const t=mT(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),l=a.find(gT);if(l){const c=l.props.children,d=a.map(f=>f===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:s,children:h.isValidElement(c)?h.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var pT=Ks("Slot");function mT(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=yT(s),a=vT(o,s.props);return s.type!==h.Fragment&&(a.ref=n?qs(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hx=Symbol("radix.slottable");function px(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=hx,t}function gT(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hx}function vT(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function yT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tm(e){const t=e+"CollectionProvider",[r,n]=on(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:w}=g,x=W.useRef(null),y=W.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:y,collectionRef:x,children:w})};i.displayName=t;const a=e+"CollectionSlot",l=Ks(a),c=W.forwardRef((g,b)=>{const{scope:w,children:x}=g,y=o(a,w),_=pe(b,y.collectionRef);return u.jsx(l,{ref:_,children:x})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ks(d),p=W.forwardRef((g,b)=>{const{scope:w,children:x,...y}=g,_=W.useRef(null),S=pe(b,_),E=o(d,w);return W.useEffect(()=>(E.itemMap.set(_,{ref:_,...y}),()=>void E.itemMap.delete(_))),u.jsx(m,{[f]:"",ref:S,children:x})});p.displayName=d;function v(g){const b=o(e+"CollectionConsumer",g);return W.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((E,C)=>y.indexOf(E.ref.current)-y.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},v,n]}var wT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=wT.reduce((e,t)=>{const r=Ks(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mx(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}function wr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xT(e,t=globalThis==null?void 0:globalThis.document){const r=wr(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bT="DismissableLayer",th="dismissableLayer.update",_T="dismissableLayer.pointerDownOutside",ST="dismissableLayer.focusOutside",uv,gx=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ci=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=h.useContext(gx),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),v=pe(t,C=>f(C)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),x=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=CT(C=>{const T=C.target,j=[...c.branches].some(O=>O.contains(T));!_||j||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},m),E=kT(C=>{const T=C.target;[...c.branches].some(O=>O.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},m);return xT(C=>{x===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(uv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),dv(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=uv)}},[d,m,r,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),dv())},[d,c]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(th,C),()=>document.removeEventListener(th,C)},[]),u.jsx(se.div,{...l,ref:v,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,S.onPointerDownCapture)})});Ci.displayName=bT;var ET="DismissableLayerBranch",vx=h.forwardRef((e,t)=>{const r=h.useContext(gx),n=h.useRef(null),s=pe(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(se.div,{...e,ref:s})});vx.displayName=ET;function CT(e,t=globalThis==null?void 0:globalThis.document){const r=wr(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){yx(_T,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function kT(e,t=globalThis==null?void 0:globalThis.document){const r=wr(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&yx(ST,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dv(){const e=new CustomEvent(th);document.dispatchEvent(e)}function yx(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?mx(s,o):s.dispatchEvent(o)}var TT=Ci,NT=vx,ot=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},PT="Portal",cl=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);ot(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?dx.createPortal(u.jsx(se.div,{...n,ref:t}),i):null});cl.displayName=PT;function RT(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var as=e=>{const{present:t,children:r}=e,n=jT(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=pe(n.ref,OT(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};as.displayName="Presence";function jT(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=RT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Fl(n.current);o.current=a==="mounted"?c:"none"},[a]),ot(()=>{const c=n.current,d=s.current;if(d!==e){const m=o.current,p=Fl(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ot(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Fl(n.current).includes(p.animationName);if(p.target===t&&g&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=Fl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Fl(e){return(e==null?void 0:e.animationName)||"none"}function OT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AT=up[" useInsertionEffect ".trim().toString()]||ot;function vi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=DT({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=h.useCallback(d=>{var f;if(a){const m=IT(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,e,o,i]);return[l,c]}function DT({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return AT(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function IT(e){return typeof e=="function"}var wx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MT="VisuallyHidden",Pu=h.forwardRef((e,t)=>u.jsx(se.span,{...e,ref:t,style:{...wx,...e.style}}));Pu.displayName=MT;var LT=Pu,rm="ToastProvider",[nm,$T,FT]=tm("Toast"),[xx]=on("Toast",[FT]),[UT,Ru]=xx(rm),bx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=h.useState(null),[c,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${rm}\`. Expected non-empty \`string\`.`),u.jsx(nm.Provider,{scope:t,children:u.jsx(UT,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};bx.displayName=rm;var _x="ToastViewport",BT=["F8"],rh="toast.viewportPause",nh="toast.viewportResume",Sx=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=BT,label:s="Notifications ({hotkey})",...o}=e,i=Ru(_x,r),a=$T(r),l=h.useRef(null),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=pe(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;h.useEffect(()=>{const b=w=>{var y;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),h.useEffect(()=>{const b=l.current,w=f.current;if(v&&b&&w){const x=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(rh);w.dispatchEvent(E),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(nh);w.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&y()},S=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",x),b.addEventListener("focusout",_),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[v,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:b})=>{const x=a().map(y=>{const _=y.ref.current,S=[_,...eN(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return h.useEffect(()=>{const b=f.current;if(b){const w=x=>{var S,E,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const T=document.activeElement,j=x.shiftKey;if(x.target===b&&j){(S=c.current)==null||S.focus();return}const A=g({tabbingDirection:j?"backwards":"forwards"}),q=A.findIndex(M=>M===T);Id(A.slice(q+1))?x.preventDefault():j?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),u.jsxs(NT,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(sh,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Id(b)}}),u.jsx(nm.Slot,{scope:r,children:u.jsx(se.ol,{tabIndex:-1,...o,ref:m})}),v&&u.jsx(sh,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Id(b)}})]})});Sx.displayName=_x;var Ex="ToastFocusProxy",sh=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Ru(Ex,r);return u.jsx(Pu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});sh.displayName=Ex;var ul="Toast",zT="toast.swipeStart",WT="toast.swipeMove",VT="toast.swipeCancel",HT="toast.swipeEnd",Cx=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=vi({prop:n,defaultProp:s??!0,onChange:o,caller:ul});return u.jsx(as,{present:r||a,children:u.jsx(GT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:wr(e.onPause),onResume:wr(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Cx.displayName=ul;var[qT,KT]=xx(ul,{onClose(){}}),GT=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...v}=e,g=Ru(ul,r),[b,w]=h.useState(null),x=pe(t,M=>w(M)),y=h.useRef(null),_=h.useRef(null),S=s||g.duration,E=h.useRef(0),C=h.useRef(S),T=h.useRef(0),{onToastAdd:j,onToastRemove:O}=g,D=wr(()=>{var I;(b==null?void 0:b.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),i()}),A=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(D,M))},[D]);h.useEffect(()=>{const M=g.viewport;if(M){const I=()=>{A(C.current),c==null||c()},L=()=>{const F=new Date().getTime()-E.current;C.current=C.current-F,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(rh,L),M.addEventListener(nh,I),()=>{M.removeEventListener(rh,L),M.removeEventListener(nh,I)}}},[g.viewport,S,l,c,A]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&A(S)},[o,S,g.isClosePausedRef,A]),h.useEffect(()=>(j(),()=>O()),[j,O]);const q=h.useMemo(()=>b?Ox(b):null,[b]);return g.viewport?u.jsxs(u.Fragment,{children:[q&&u.jsx(QT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),u.jsx(qT,{scope:r,onClose:D,children:no.createPortal(u.jsx(nm.ItemSlot,{scope:r,children:u.jsx(TT,{asChild:!0,onEscapeKeyDown:Z(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Z(e.onPointerDown,M=>{M.button===0&&(y.current={x:M.clientX,y:M.clientY})}),onPointerMove:Z(e.onPointerMove,M=>{if(!y.current)return;const I=M.clientX-y.current.x,L=M.clientY-y.current.y,F=!!_.current,N=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=N?R(0,I):0,ee=N?0:R(0,L),P=M.pointerType==="touch"?10:2,B={x:z,y:ee},V={originalEvent:M,delta:B};F?(_.current=B,Ul(WT,f,V,{discrete:!1})):fv(B,g.swipeDirection,P)?(_.current=B,Ul(zT,d,V,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(I)>P||Math.abs(L)>P)&&(y.current=null)}),onPointerUp:Z(e.onPointerUp,M=>{const I=_.current,L=M.target;if(L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),_.current=null,y.current=null,I){const F=M.currentTarget,N={originalEvent:M,delta:I};fv(I,g.swipeDirection,g.swipeThreshold)?Ul(HT,p,N,{discrete:!0}):Ul(VT,m,N,{discrete:!0}),F.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),QT=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ru(ul,t),[o,i]=h.useState(!1),[a,l]=h.useState(!1);return XT(()=>i(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(cl,{asChild:!0,children:u.jsx(Pu,{...n,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},YT="ToastTitle",kx=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(se.div,{...n,ref:t})});kx.displayName=YT;var JT="ToastDescription",Tx=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(se.div,{...n,ref:t})});Tx.displayName=JT;var Nx="ToastAction",Px=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?u.jsx(jx,{altText:r,asChild:!0,children:u.jsx(sm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nx}\`. Expected non-empty \`string\`.`),null)});Px.displayName=Nx;var Rx="ToastClose",sm=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=KT(Rx,r);return u.jsx(jx,{asChild:!0,children:u.jsx(se.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,s.onClose)})})});sm.displayName=Rx;var jx=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return u.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Ox(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ZT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Ox(n))}}),t}function Ul(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?mx(s,o):s.dispatchEvent(o)}var fv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function XT(e=()=>{}){const t=wr(e);ot(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ZT(e){return e.nodeType===e.ELEMENT_NODE}function eN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Id(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var tN=bx,Ax=Sx,Dx=Cx,Ix=kx,Mx=Tx,Lx=Px,$x=sm;function Fx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Fx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ux(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Fx(e))&&(n&&(n+=" "),n+=t);return n}const hv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pv=Ux,ju=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return pv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=o==null?void 0:o[c];if(d===null)return null;const m=hv(d)||hv(f);return s[c][m]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...o,...a}[g]):{...o,...a}[g]===b})?[...c,f,m]:c},[]);return pv(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>h.createElement("svg",{ref:l,...nN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Bx("lucide",s),...a},[...i.map(([c,d])=>h.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(sN,{ref:o,iconNode:t,className:Bx(`lucide-${rN(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Ve("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),am="-",dN=e=>{const t=hN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(am);return a[0]===""&&a.length!==1&&a.shift(),Gx(a,t)||fN(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Gx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Gx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(am);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},gv=/^\[(.+)\]$/,fN=e=>{if(gv.test(e)){const t=gv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return mN(Object.entries(e.classGroups),r).forEach(([o,i])=>{ah(i,n,o,t)}),n},ah=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:vv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(pN(s)){ah(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{ah(i,vv(t,o),r,n)})})},vv=(e,t)=>{let r=e;return t.split(am).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pN=e=>e.isThemeGetter,mN=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,gN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Qx="!",vN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let w=a[b];if(c===0){if(w===s&&(n||a.slice(b,b+o)===t)){l.push(a.slice(d,b)),d=b+o;continue}if(w==="/"){f=b;continue}}w==="["?c++:w==="]"&&c--}const m=l.length===0?a:a.substring(d),p=m.startsWith(Qx),v=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},yN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},wN=e=>({cache:gN(e.cacheSize),parseClassName:vN(e),...dN(e)}),xN=/\s+/,bN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(xN);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(c);let v=!!p,g=n(v?m.substring(0,p):m);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const b=yN(d).join(":"),w=f?b+Qx:b,x=w+g;if(o.includes(x))continue;o.push(x);const y=s(g,v);for(let _=0;_<y.length;++_){const S=y[_];o.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function _N(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Yx(t))&&(n&&(n+=" "),n+=r);return n}const Yx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Yx(e[n]))&&(r&&(r+=" "),r+=t);return r};function SN(e,...t){let r,n,s,o=i;function i(l){const c=t.reduce((d,f)=>f(d),e());return r=wN(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=bN(l,r);return s(l,d),d}return function(){return o(_N.apply(null,arguments))}}const ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,EN=/^\d+\/\d+$/,CN=new Set(["px","full","screen"]),kN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Ko(e)||CN.has(e)||EN.test(e),gn=e=>ki(e,"length",$N),Ko=e=>!!e&&!Number.isNaN(Number(e)),Md=e=>ki(e,"number",Ko),Gi=e=>!!e&&Number.isInteger(Number(e)),jN=e=>e.endsWith("%")&&Ko(e.slice(0,-1)),ae=e=>Jx.test(e),vn=e=>kN.test(e),ON=new Set(["length","size","percentage"]),AN=e=>ki(e,ON,Xx),DN=e=>ki(e,"position",Xx),IN=new Set(["image","url"]),MN=e=>ki(e,IN,UN),LN=e=>ki(e,"",FN),Qi=()=>!0,ki=(e,t,r)=>{const n=Jx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$N=e=>TN.test(e)&&!NN.test(e),Xx=()=>!1,FN=e=>PN.test(e),UN=e=>RN.test(e),BN=()=>{const e=ke("colors"),t=ke("spacing"),r=ke("blur"),n=ke("brightness"),s=ke("borderColor"),o=ke("borderRadius"),i=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),c=ke("grayscale"),d=ke("hueRotate"),f=ke("invert"),m=ke("gap"),p=ke("gradientColorStops"),v=ke("gradientColorStopPositions"),g=ke("inset"),b=ke("margin"),w=ke("opacity"),x=ke("padding"),y=ke("saturate"),_=ke("scale"),S=ke("sepia"),E=ke("skew"),C=ke("space"),T=ke("translate"),j=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ae,t],A=()=>[ae,t],q=()=>["",Ur,gn],M=()=>["auto",Ko,ae],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ae],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ko,ae];return{cacheSize:500,separator:":",theme:{colors:[Qi],spacing:[Ur,gn],blur:["none","",vn,ae],brightness:ee(),borderColor:[e],borderRadius:["none","","full",vn,ae],borderSpacing:A(),borderWidth:q(),contrast:ee(),grayscale:R(),hueRotate:ee(),invert:R(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[jN,gn],inset:D(),margin:D(),opacity:ee(),padding:A(),saturate:ee(),scale:ee(),sepia:R(),skew:ee(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[vn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ae]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,ae]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Gi,ae]}],"grid-cols":[{"grid-cols":[Qi]}],"col-start-end":[{col:["auto",{span:["full",Gi,ae]},ae]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Qi]}],"row-start-end":[{row:["auto",{span:[Gi,ae]},ae]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[vn]},vn]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vn,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Md]}],"font-family":[{font:[Qi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Ko,Md]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,gn]}],"underline-offset":[{"underline-offset":["auto",Ur,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),DN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Ur,ae]}],"outline-w":[{outline:[Ur,gn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ur,gn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vn,LN]}],"shadow-color":[{shadow:[Qi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vn,ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Gi,ae]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,gn,Md]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zN=SN(BN);function Q(...e){return zN(Ux(e))}const WN=tN,Zx=h.forwardRef(({className:e,...t},r)=>u.jsx(Ax,{ref:r,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Zx.displayName=Ax.displayName;const VN=ju("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eb=h.forwardRef(({className:e,variant:t,...r},n)=>u.jsx(Dx,{ref:n,className:Q(VN({variant:t}),e),...r}));eb.displayName=Dx.displayName;const HN=h.forwardRef(({className:e,...t},r)=>u.jsx(Lx,{ref:r,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));HN.displayName=Lx.displayName;const tb=h.forwardRef(({className:e,...t},r)=>u.jsx($x,{ref:r,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(dl,{className:"h-4 w-4"})}));tb.displayName=$x.displayName;const rb=h.forwardRef(({className:e,...t},r)=>u.jsx(Ix,{ref:r,className:Q("text-sm font-semibold",e),...t}));rb.displayName=Ix.displayName;const nb=h.forwardRef(({className:e,...t},r)=>u.jsx(Mx,{ref:r,className:Q("text-sm opacity-90",e),...t}));nb.displayName=Mx.displayName;function qN(){const{toasts:e}=so();return u.jsxs(WN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return u.jsxs(eb,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(rb,{children:r}),n&&u.jsx(nb,{children:n})]}),s,u.jsx(tb,{})]},t)}),u.jsx(Zx,{})]})}var yv=["light","dark"],KN="(prefers-color-scheme: dark)",GN=h.createContext(void 0),QN={setTheme:e=>{},themes:[]},YN=()=>{var e;return(e=h.useContext(GN))!=null?e:QN};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?yv.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,g=!1,b=!0)=>{let w=i?i[v]:v,x=g?v+"|| ''":`'${w}'`,y="";return s&&b&&!g&&yv.includes(v)&&(y+=`d.style.colorScheme = '${v}';`),r==="class"?g||w?y+=`c.add(${x})`:y+="null":w&&(y+=`d[s](n,${x})`),y},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${KN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var JN=e=>{switch(e){case"success":return eP;case"info":return rP;case"warning":return tP;case"error":return nP;default:return null}},XN=Array(12).fill(0),ZN=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},XN.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oP=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},lh=1,iP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:lh++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],W.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(lP(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||lh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bt=new iP,aP=(e,t)=>{let r=(t==null?void 0:t.id)||lh++;return bt.addToast({title:e,...t,id:r}),r},lP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cP=aP,uP=()=>bt.toasts,dP=()=>bt.getActiveToasts();Object.assign(cP,{success:bt.success,info:bt.info,warning:bt.warning,error:bt.error,custom:bt.custom,message:bt.message,promise:bt.promise,dismiss:bt.dismiss,loading:bt.loading},{getHistory:uP,getToasts:dP});function fP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bl(e){return e.label!==void 0}var hP=3,pP="32px",mP="16px",wv=4e3,gP=356,vP=14,yP=20,wP=200;function or(...e){return e.filter(Boolean).join(" ")}function xP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var bP=e=>{var t,r,n,s,o,i,a,l,c,d,f;let{invert:m,toast:p,unstyled:v,interacting:g,setHeights:b,visibleToasts:w,heights:x,index:y,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:T,style:j,cancelButtonStyle:O,actionButtonStyle:D,className:A="",descriptionClassName:q="",duration:M,position:I,gap:L,loadingIcon:F,expandByDefault:N,classNames:R,icons:z,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:P}=e,[B,V]=W.useState(null),[H,te]=W.useState(null),[$,oe]=W.useState(!1),[ue,fe]=W.useState(!1),[me,ye]=W.useState(!1),[it,zt]=W.useState(!1),[hs,dn]=W.useState(!1),[ps,$i]=W.useState(0),[ao,qm]=W.useState(0),Fi=W.useRef(p.duration||M||wv),Km=W.useRef(null),ms=W.useRef(null),kE=y===0,TE=y+1<=w,Wt=p.type,lo=p.dismissible!==!1,NE=p.className||"",PE=p.descriptionClassName||"",xl=W.useMemo(()=>x.findIndex(ie=>ie.toastId===p.id)||0,[x,p.id]),RE=W.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:T},[p.closeButton,T]),Gm=W.useMemo(()=>p.duration||M||wv,[p.duration,M]),sd=W.useRef(0),co=W.useRef(0),Qm=W.useRef(0),uo=W.useRef(null),[jE,OE]=I.split("-"),Ym=W.useMemo(()=>x.reduce((ie,_e,Pe)=>Pe>=xl?ie:ie+_e.height,0),[x,xl]),Jm=oP(),AE=p.invert||m,od=Wt==="loading";co.current=W.useMemo(()=>xl*L+Ym,[xl,Ym]),W.useEffect(()=>{Fi.current=Gm},[Gm]),W.useEffect(()=>{oe(!0)},[]),W.useEffect(()=>{let ie=ms.current;if(ie){let _e=ie.getBoundingClientRect().height;return qm(_e),b(Pe=>[{toastId:p.id,height:_e,position:p.position},...Pe]),()=>b(Pe=>Pe.filter(tr=>tr.toastId!==p.id))}},[b,p.id]),W.useLayoutEffect(()=>{if(!$)return;let ie=ms.current,_e=ie.style.height;ie.style.height="auto";let Pe=ie.getBoundingClientRect().height;ie.style.height=_e,qm(Pe),b(tr=>tr.find(rr=>rr.toastId===p.id)?tr.map(rr=>rr.toastId===p.id?{...rr,height:Pe}:rr):[{toastId:p.id,height:Pe,position:p.position},...tr])},[$,p.title,p.description,b,p.id]);let fn=W.useCallback(()=>{fe(!0),$i(co.current),b(ie=>ie.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{E(p)},wP)},[p,E,b,co]);W.useEffect(()=>{if(p.promise&&Wt==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return S||g||P&&Jm?(()=>{if(Qm.current<sd.current){let _e=new Date().getTime()-sd.current;Fi.current=Fi.current-_e}Qm.current=new Date().getTime()})():Fi.current!==1/0&&(sd.current=new Date().getTime(),ie=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),fn()},Fi.current)),()=>clearTimeout(ie)},[S,g,p,Wt,P,Jm,fn]),W.useEffect(()=>{p.delete&&fn()},[fn,p.delete]);function DE(){var ie,_e,Pe;return z!=null&&z.loading?W.createElement("div",{className:or(R==null?void 0:R.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Wt==="loading"},z.loading):F?W.createElement("div",{className:or(R==null?void 0:R.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Wt==="loading"},F):W.createElement(ZN,{className:or(R==null?void 0:R.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader),visible:Wt==="loading"})}return W.createElement("li",{tabIndex:0,ref:ms,className:or(A,NE,R==null?void 0:R.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Wt],(r=p==null?void 0:p.classNames)==null?void 0:r[Wt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":hs,"data-removed":ue,"data-visible":TE,"data-y-position":jE,"data-x-position":OE,"data-index":y,"data-front":kE,"data-swiping":me,"data-dismissible":lo,"data-type":Wt,"data-invert":AE,"data-swipe-out":it,"data-swipe-direction":H,"data-expanded":!!(S||N&&$),style:{"--index":y,"--toasts-before":y,"--z-index":_.length-y,"--offset":`${ue?ps:co.current}px`,"--initial-height":N?"auto":`${ao}px`,...j,...p.style},onDragEnd:()=>{ye(!1),V(null),uo.current=null},onPointerDown:ie=>{od||!lo||(Km.current=new Date,$i(co.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(ye(!0),uo.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,_e,Pe,tr;if(it||!lo)return;uo.current=null;let rr=Number(((ie=ms.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),hn=Number(((_e=ms.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gs=new Date().getTime()-((Pe=Km.current)==null?void 0:Pe.getTime()),nr=B==="x"?rr:hn,pn=Math.abs(nr)/gs;if(Math.abs(nr)>=yP||pn>.11){$i(co.current),(tr=p.onDismiss)==null||tr.call(p,p),te(B==="x"?rr>0?"right":"left":hn>0?"down":"up"),fn(),zt(!0),dn(!1);return}ye(!1),V(null)},onPointerMove:ie=>{var _e,Pe,tr,rr;if(!uo.current||!lo||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let hn=ie.clientY-uo.current.y,gs=ie.clientX-uo.current.x,nr=(Pe=e.swipeDirections)!=null?Pe:xP(I);!B&&(Math.abs(gs)>1||Math.abs(hn)>1)&&V(Math.abs(gs)>Math.abs(hn)?"x":"y");let pn={x:0,y:0};B==="y"?(nr.includes("top")||nr.includes("bottom"))&&(nr.includes("top")&&hn<0||nr.includes("bottom")&&hn>0)&&(pn.y=hn):B==="x"&&(nr.includes("left")||nr.includes("right"))&&(nr.includes("left")&&gs<0||nr.includes("right")&&gs>0)&&(pn.x=gs),(Math.abs(pn.x)>0||Math.abs(pn.y)>0)&&dn(!0),(tr=ms.current)==null||tr.style.setProperty("--swipe-amount-x",`${pn.x}px`),(rr=ms.current)==null||rr.style.setProperty("--swipe-amount-y",`${pn.y}px`)}},RE&&!p.jsx?W.createElement("button",{"aria-label":ee,"data-disabled":od,"data-close-button":!0,onClick:od||!lo?()=>{}:()=>{var ie;fn(),(ie=p.onDismiss)==null||ie.call(p,p)},className:or(R==null?void 0:R.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=z==null?void 0:z.close)!=null?o:sP):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Wt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:or(R==null?void 0:R.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||DE():null,p.type!=="loading"?p.icon||(z==null?void 0:z[Wt])||JN(Wt):null):null,W.createElement("div",{"data-content":"",className:or(R==null?void 0:R.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:or(R==null?void 0:R.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:or(q,PE,R==null?void 0:R.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Bl(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:ie=>{var _e,Pe;Bl(p.cancel)&&lo&&((Pe=(_e=p.cancel).onClick)==null||Pe.call(_e,ie),fn())},className:or(R==null?void 0:R.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Bl(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ie=>{var _e,Pe;Bl(p.action)&&((Pe=(_e=p.action).onClick)==null||Pe.call(_e,ie),!ie.defaultPrevented&&fn())},className:or(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function xv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _P(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?mP:pP;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var SP=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:v=hP,toastOptions:g,dir:b=xv(),gap:w=vP,loadingIcon:x,icons:y,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,C]=W.useState([]),T=W.useMemo(()=>Array.from(new Set([n].concat(E.filter(P=>P.position).map(P=>P.position)))),[E,n]),[j,O]=W.useState([]),[D,A]=W.useState(!1),[q,M]=W.useState(!1),[I,L]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=W.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=W.useRef(null),z=W.useRef(!1),ee=W.useCallback(P=>{C(B=>{var V;return(V=B.find(H=>H.id===P.id))!=null&&V.delete||bt.dismiss(P.id),B.filter(({id:H})=>H!==P.id)})},[]);return W.useEffect(()=>bt.subscribe(P=>{if(P.dismiss){C(B=>B.map(V=>V.id===P.id?{...V,delete:!0}:V));return}setTimeout(()=>{dx.flushSync(()=>{C(B=>{let V=B.findIndex(H=>H.id===P.id);return V!==-1?[...B.slice(0,V),{...B[V],...P},...B.slice(V+1)]:[P,...B]})})})}),[]),W.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:B})=>{L(B?"dark":"light")})}catch{P.addListener(({matches:V})=>{try{L(V?"dark":"light")}catch(H){console.error(H)}})}},[d]),W.useEffect(()=>{E.length<=1&&A(!1)},[E]),W.useEffect(()=>{let P=B=>{var V,H;s.every(te=>B[te]||B.code===te)&&(A(!0),(V=F.current)==null||V.focus()),B.code==="Escape"&&(document.activeElement===F.current||(H=F.current)!=null&&H.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[s]),W.useEffect(()=>{if(F.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,z.current=!1)}},[F.current]),W.createElement("section",{ref:t,"aria-label":`${_} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((P,B)=>{var V;let[H,te]=P.split("-");return E.length?W.createElement("ol",{key:P,dir:b==="auto"?xv():b,tabIndex:-1,ref:F,className:a,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":H,"data-lifted":D&&E.length>1&&!o,"data-x-position":te,style:{"--front-toast-height":`${((V=j[0])==null?void 0:V.height)||0}px`,"--width":`${gP}px`,"--gap":`${w}px`,...p,..._P(l,c)},onBlur:$=>{z.current&&!$.currentTarget.contains($.relatedTarget)&&(z.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||z.current||(z.current=!0,R.current=$.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{q||A(!1)},onDragEnd:()=>A(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},E.filter($=>!$.position&&B===0||$.position===P).map(($,oe)=>{var ue,fe;return W.createElement(bP,{key:$.id,icons:y,index:oe,toast:$,defaultRichColors:f,duration:(ue=g==null?void 0:g.duration)!=null?ue:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(fe=g==null?void 0:g.closeButton)!=null?fe:i,interacting:q,position:P,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:E.filter(me=>me.position==$.position),heights:j.filter(me=>me.position==$.position),setHeights:O,expandByDefault:o,gap:w,loadingIcon:x,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const EP=({...e})=>{const{theme:t="system"}=YN();return u.jsx(SP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var CP=up[" useId ".trim().toString()]||(()=>{}),kP=0;function It(e){const[t,r]=h.useState(CP());return ot(()=>{r(n=>n??String(kP++))},[e]),t?`radix-${t}`:""}const TP=["top","right","bottom","left"],es=Math.min,Rt=Math.max,Yc=Math.round,zl=Math.floor,Lr=e=>({x:e,y:e}),NP={left:"right",right:"left",bottom:"top",top:"bottom"},PP={start:"end",end:"start"};function ch(e,t,r){return Rt(e,es(t,r))}function rn(e,t){return typeof e=="function"?e(t):e}function nn(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function lm(e){return e==="x"?"y":"x"}function cm(e){return e==="y"?"height":"width"}const RP=new Set(["top","bottom"]);function Ar(e){return RP.has(nn(e))?"y":"x"}function um(e){return lm(Ar(e))}function jP(e,t,r){r===void 0&&(r=!1);const n=Ti(e),s=um(e),o=cm(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Jc(i)),[i,Jc(i)]}function OP(e){const t=Jc(e);return[uh(e),t,uh(t)]}function uh(e){return e.replace(/start|end/g,t=>PP[t])}const bv=["left","right"],_v=["right","left"],AP=["top","bottom"],DP=["bottom","top"];function IP(e,t,r){switch(e){case"top":case"bottom":return r?t?_v:bv:t?bv:_v;case"left":case"right":return t?AP:DP;default:return[]}}function MP(e,t,r,n){const s=Ti(e);let o=IP(nn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(uh)))),o}function Jc(e){return e.replace(/left|right|bottom|top/g,t=>NP[t])}function LP(e){return{top:0,right:0,bottom:0,left:0,...e}}function sb(e){return typeof e!="number"?LP(e):{top:e,right:e,bottom:e,left:e}}function Xc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Sv(e,t,r){let{reference:n,floating:s}=e;const o=Ar(t),i=um(t),a=cm(i),l=nn(t),c=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ti(t)){case"start":p[i]-=m*(r&&c?-1:1);break;case"end":p[i]+=m*(r&&c?-1:1);break}return p}const $P=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Sv(c,n,l),m=n,p={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x,y,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});d=x??d,f=y??f,p={...p,[b]:{...p[b],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Sv(c,m,l)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Ma(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=rn(t,e),v=sb(p),b=a[m?f==="floating"?"reference":"floating":f],w=Xc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Xc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:y,strategy:l}):x);return{top:(w.top-S.top+v.top)/_.y,bottom:(S.bottom-w.bottom+v.bottom)/_.y,left:(w.left-S.left+v.left)/_.x,right:(S.right-w.right+v.right)/_.x}}const FP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=rn(e,t)||{};if(c==null)return{};const f=sb(d),m={x:r,y:n},p=um(s),v=cm(p),g=await i.getDimensions(c),b=p==="y",w=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[p]-m[p]-o.floating[v],S=m[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[y]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=a.floating[y]||o.floating[v]);const T=_/2-S/2,j=C/2-g[v]/2-1,O=es(f[w],j),D=es(f[x],j),A=O,q=C-g[v]-D,M=C/2-g[v]/2+T,I=ch(A,M,q),L=!l.arrow&&Ti(s)!=null&&M!==I&&o.reference[v]/2-(M<A?O:D)-g[v]/2<0,F=L?M<A?M-A:M-q:0;return{[p]:m[p]+F,data:{[p]:I,centerOffset:M-I-F,...L&&{alignmentOffset:F}},reset:L}}}),UP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=rn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=nn(s),x=Ar(a),y=nn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=m||(y||!g?[Jc(a)]:OP(a)),E=v!=="none";!m&&E&&S.push(...MP(a,g,v,_));const C=[a,...S],T=await Ma(t,b),j=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&j.push(T[w]),f){const M=jP(s,i,_);j.push(T[M[0]],T[M[1]])}if(O=[...O,{placement:s,overflows:j}],!j.every(M=>M<=0)){var D,A;const M=(((D=o.flip)==null?void 0:D.index)||0)+1,I=C[M];if(I&&(!(f==="alignment"?x!==Ar(I):!1)||O.every(N=>N.overflows[0]>0&&Ar(N.placement)===x)))return{data:{index:M,overflows:O},reset:{placement:I}};let L=(A=O.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(p){case"bestFit":{var q;const F=(q=O.filter(N=>{if(E){const R=Ar(N.placement);return R===x||R==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((N,R)=>N[1]-R[1])[0])==null?void 0:q[0];F&&(L=F);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Ev(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cv(e){return TP.some(t=>e[t]>=0)}const BP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=rn(e,t);switch(n){case"referenceHidden":{const o=await Ma(t,{...s,elementContext:"reference"}),i=Ev(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Cv(i)}}}case"escaped":{const o=await Ma(t,{...s,altBoundary:!0}),i=Ev(o,r.floating);return{data:{escapedOffsets:i,escaped:Cv(i)}}}default:return{}}}}},ob=new Set(["left","top"]);async function zP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=nn(r),a=Ti(r),l=Ar(r)==="y",c=ob.has(i)?-1:1,d=o&&l?-1:1,f=rn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const WP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await zP(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},VP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}},...l}=rn(e,t),c={x:r,y:n},d=await Ma(t,l),f=Ar(nn(s)),m=lm(f);let p=c[m],v=c[f];if(o){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=p+d[b],y=p-d[w];p=ch(x,p,y)}if(i){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=v+d[b],y=v-d[w];v=ch(x,v,y)}const g=a.fn({...t,[m]:p,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},HP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=rn(e,t),d={x:r,y:n},f=Ar(s),m=lm(f);let p=d[m],v=d[f];const g=rn(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=m==="y"?"height":"width",_=o.reference[m]-o.floating[y]+b.mainAxis,S=o.reference[m]+o.reference[y]-b.mainAxis;p<_?p=_:p>S&&(p=S)}if(c){var w,x;const y=m==="y"?"width":"height",_=ob.has(nn(s)),S=o.reference[f]-o.floating[y]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:b.crossAxis),E=o.reference[f]+o.reference[y]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[m]:p,[f]:v}}}},qP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=rn(e,t),d=await Ma(t,c),f=nn(s),m=Ti(s),p=Ar(s)==="y",{width:v,height:g}=o.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=m==="end"?"top":"bottom");const x=g-d.top-d.bottom,y=v-d.left-d.right,_=es(g-d[b],x),S=es(v-d[w],y),E=!t.middlewareData.shift;let C=_,T=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),E&&!m){const O=Rt(d.left,0),D=Rt(d.right,0),A=Rt(d.top,0),q=Rt(d.bottom,0);p?T=v-2*(O!==0||D!==0?O+D:Rt(d.left,d.right)):C=g-2*(A!==0||q!==0?A+q:Rt(d.top,d.bottom))}await l({...t,availableWidth:T,availableHeight:C});const j=await i.getDimensions(a.floating);return v!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function Au(){return typeof window<"u"}function Ni(e){return ib(e)?(e.nodeName||"").toLowerCase():"#document"}function Mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fr(e){var t;return(t=(ib(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ib(e){return Au()?e instanceof Node||e instanceof Mt(e).Node:!1}function xr(e){return Au()?e instanceof Element||e instanceof Mt(e).Element:!1}function $r(e){return Au()?e instanceof HTMLElement||e instanceof Mt(e).HTMLElement:!1}function kv(e){return!Au()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mt(e).ShadowRoot}const KP=new Set(["inline","contents"]);function fl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!KP.has(s)}const GP=new Set(["table","td","th"]);function QP(e){return GP.has(Ni(e))}const YP=[":popover-open",":modal"];function Du(e){return YP.some(t=>{try{return e.matches(t)}catch{return!1}})}const JP=["transform","translate","scale","rotate","perspective"],XP=["transform","translate","scale","rotate","perspective","filter"],ZP=["paint","layout","strict","content"];function dm(e){const t=fm(),r=xr(e)?br(e):e;return JP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||XP.some(n=>(r.willChange||"").includes(n))||ZP.some(n=>(r.contain||"").includes(n))}function eR(e){let t=ts(e);for(;$r(t)&&!yi(t);){if(dm(t))return t;if(Du(t))return null;t=ts(t)}return null}function fm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tR=new Set(["html","body","#document"]);function yi(e){return tR.has(Ni(e))}function br(e){return Mt(e).getComputedStyle(e)}function Iu(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if(Ni(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kv(e)&&e.host||Fr(e);return kv(t)?t.host:t}function ab(e){const t=ts(e);return yi(t)?e.ownerDocument?e.ownerDocument.body:e.body:$r(t)&&fl(t)?t:ab(t)}function La(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ab(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Mt(s);if(o){const a=dh(i);return t.concat(i,i.visualViewport||[],fl(s)?s:[],a&&r?La(a):[])}return t.concat(s,La(s,[],r))}function dh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lb(e){const t=br(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=$r(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=Yc(r)!==o||Yc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function hm(e){return xr(e)?e:e.contextElement}function Go(e){const t=hm(e);if(!$r(t))return Lr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=lb(t);let i=(o?Yc(r.width):r.width)/n,a=(o?Yc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const rR=Lr(0);function cb(e){const t=Mt(e);return!fm()||!t.visualViewport?rR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Mt(e)?!1:t}function Gs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=hm(e);let i=Lr(1);t&&(n?xr(n)&&(i=Go(n)):i=Go(e));const a=nR(o,r,n)?cb(o):Lr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Mt(o),p=n&&xr(n)?Mt(n):n;let v=m,g=dh(v);for(;g&&n&&p!==v;){const b=Go(g),w=g.getBoundingClientRect(),x=br(g),y=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=y,c+=_,v=Mt(g),g=dh(v)}}return Xc({width:d,height:f,x:l,y:c})}function pm(e,t){const r=Iu(e).scrollLeft;return t?t.left+r:Gs(Fr(e)).left+r}function ub(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:pm(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function sR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Fr(n),a=t?Du(t.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Lr(1);const d=Lr(0),f=$r(n);if((f||!f&&!o)&&((Ni(n)!=="body"||fl(i))&&(l=Iu(n)),$r(n))){const p=Gs(n);c=Go(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?ub(i,l,!0):Lr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}}function oR(e){return Array.from(e.getClientRects())}function iR(e){const t=Fr(e),r=Iu(e),n=e.ownerDocument.body,s=Rt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Rt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+pm(e);const a=-r.scrollTop;return br(n).direction==="rtl"&&(i+=Rt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function aR(e,t){const r=Mt(e),n=Fr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=fm();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const lR=new Set(["absolute","fixed"]);function cR(e,t){const r=Gs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=$r(e)?Go(e):Lr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function Tv(e,t,r){let n;if(t==="viewport")n=aR(e,r);else if(t==="document")n=iR(Fr(e));else if(xr(t))n=cR(t,r);else{const s=cb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Xc(n)}function db(e,t){const r=ts(e);return r===t||!xr(r)||yi(r)?!1:br(r).position==="fixed"||db(r,t)}function uR(e,t){const r=t.get(e);if(r)return r;let n=La(e,[],!1).filter(a=>xr(a)&&Ni(a)!=="body"),s=null;const o=br(e).position==="fixed";let i=o?ts(e):e;for(;xr(i)&&!yi(i);){const a=br(i),l=dm(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&lR.has(s.position)||fl(i)&&!l&&db(e,i))?n=n.filter(d=>d!==i):s=a,i=ts(i)}return t.set(e,n),n}function dR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Du(t)?[]:uR(t,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,d)=>{const f=Tv(t,d,s);return c.top=Rt(f.top,c.top),c.right=es(f.right,c.right),c.bottom=es(f.bottom,c.bottom),c.left=Rt(f.left,c.left),c},Tv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fR(e){const{width:t,height:r}=lb(e);return{width:t,height:r}}function hR(e,t,r){const n=$r(t),s=Fr(t),o=r==="fixed",i=Gs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Lr(0);function c(){l.x=pm(s)}if(n||!n&&!o)if((Ni(t)!=="body"||fl(s))&&(a=Iu(t)),n){const p=Gs(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&c();o&&!n&&s&&c();const d=s&&!n&&!o?ub(s,a):Lr(0),f=i.left+a.scrollLeft-l.x-d.x,m=i.top+a.scrollTop-l.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Ld(e){return br(e).position==="static"}function Nv(e,t){if(!$r(e)||br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Fr(e)===r&&(r=r.ownerDocument.body),r}function fb(e,t){const r=Mt(e);if(Du(e))return r;if(!$r(e)){let s=ts(e);for(;s&&!yi(s);){if(xr(s)&&!Ld(s))return s;s=ts(s)}return r}let n=Nv(e,t);for(;n&&QP(n)&&Ld(n);)n=Nv(n,t);return n&&yi(n)&&Ld(n)&&!dm(n)?r:n||eR(e)||r}const pR=async function(e){const t=this.getOffsetParent||fb,r=this.getDimensions,n=await r(e.floating);return{reference:hR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function mR(e){return br(e).direction==="rtl"}const gR={convertOffsetParentRelativeRectToViewportRelativeRect:sR,getDocumentElement:Fr,getClippingRect:dR,getOffsetParent:fb,getElementRects:pR,getClientRects:oR,getDimensions:fR,getScale:Go,isElement:xr,isRTL:mR};function hb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vR(e,t){let r=null,n;const s=Fr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(a||t(),!m||!p)return;const v=zl(f),g=zl(s.clientWidth-(d+m)),b=zl(s.clientHeight-(f+p)),w=zl(d),y={rootMargin:-v+"px "+-g+"px "+-b+"px "+-w+"px",threshold:Rt(0,es(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!hb(c,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return i(!0),o}function yR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=hm(e),d=s||o?[...c?La(c):[],...La(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=c&&a?vR(c,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let v,g=l?Gs(e):null;l&&b();function b(){const w=Gs(e);g&&!hb(g,w)&&r(),g=w,v=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const wR=WP,xR=VP,bR=UP,_R=qP,SR=BP,Pv=FP,ER=HP,CR=(e,t,r)=>{const n=new Map,s={platform:gR,...r},o={...s.platform,_c:n};return $P(e,t,{...s,platform:o})};var kR=typeof document<"u",TR=function(){},gc=kR?h.useLayoutEffect:TR;function Zc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Zc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function pb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rv(e,t){const r=pb(e);return Math.round(t*r)/r}function $d(e){const t=h.useRef(e);return gc(()=>{t.current=e}),t}function NR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);Zc(m,n)||p(n);const[v,g]=h.useState(null),[b,w]=h.useState(null),x=h.useCallback(N=>{N!==E.current&&(E.current=N,g(N))},[]),y=h.useCallback(N=>{N!==C.current&&(C.current=N,w(N))},[]),_=o||v,S=i||b,E=h.useRef(null),C=h.useRef(null),T=h.useRef(d),j=l!=null,O=$d(l),D=$d(s),A=$d(c),q=h.useCallback(()=>{if(!E.current||!C.current)return;const N={placement:t,strategy:r,middleware:m};D.current&&(N.platform=D.current),CR(E.current,C.current,N).then(R=>{const z={...R,isPositioned:A.current!==!1};M.current&&!Zc(T.current,z)&&(T.current=z,no.flushSync(()=>{f(z)}))})},[m,t,r,D,A]);gc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[c]);const M=h.useRef(!1);gc(()=>(M.current=!0,()=>{M.current=!1}),[]),gc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(O.current)return O.current(_,S,q);q()}},[_,S,q,O,j]);const I=h.useMemo(()=>({reference:E,floating:C,setReference:x,setFloating:y}),[x,y]),L=h.useMemo(()=>({reference:_,floating:S}),[_,S]),F=h.useMemo(()=>{const N={position:r,left:0,top:0};if(!L.floating)return N;const R=Rv(L.floating,d.x),z=Rv(L.floating,d.y);return a?{...N,transform:"translate("+R+"px, "+z+"px)",...pb(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:z}},[r,a,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:q,refs:I,elements:L,floatingStyles:F}),[d,q,I,L,F])}const PR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pv({element:n.current,padding:s}).fn(r):{}:n?Pv({element:n,padding:s}).fn(r):{}}}},RR=(e,t)=>({...wR(e),options:[e,t]}),jR=(e,t)=>({...xR(e),options:[e,t]}),OR=(e,t)=>({...ER(e),options:[e,t]}),AR=(e,t)=>({...bR(e),options:[e,t]}),DR=(e,t)=>({..._R(e),options:[e,t]}),IR=(e,t)=>({...SR(e),options:[e,t]}),MR=(e,t)=>({...PR(e),options:[e,t]});var LR="Arrow",mb=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return u.jsx(se.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});mb.displayName=LR;var $R=mb;function gb(e){const[t,r]=h.useState(void 0);return ot(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mm="Popper",[vb,Pi]=on(mm),[FR,yb]=vb(mm),wb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return u.jsx(FR,{scope:t,anchor:n,onAnchorChange:s,children:r})};wb.displayName=mm;var xb="PopperAnchor",bb=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=yb(xb,r),i=h.useRef(null),a=pe(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:u.jsx(se.div,{...s,ref:a})});bb.displayName=xb;var gm="PopperContent",[UR,BR]=vb(gm),_b=h.forwardRef((e,t)=>{var $,oe,ue,fe,me,ye;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=yb(gm,r),[w,x]=h.useState(null),y=pe(t,it=>x(it)),[_,S]=h.useState(null),E=gb(_),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,j=n+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],A=D.length>0,q={padding:O,boundary:D.filter(WR),altBoundary:A},{refs:M,floatingStyles:I,placement:L,isPositioned:F,middlewareData:N}=NR({strategy:"fixed",placement:j,whileElementsMounted:(...it)=>yR(...it,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[RR({mainAxis:s+T,alignmentAxis:i}),l&&jR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OR():void 0,...q}),l&&AR({...q}),DR({...q,apply:({elements:it,rects:zt,availableWidth:hs,availableHeight:dn})=>{const{width:ps,height:$i}=zt.reference,ao=it.floating.style;ao.setProperty("--radix-popper-available-width",`${hs}px`),ao.setProperty("--radix-popper-available-height",`${dn}px`),ao.setProperty("--radix-popper-anchor-width",`${ps}px`),ao.setProperty("--radix-popper-anchor-height",`${$i}px`)}}),_&&MR({element:_,padding:a}),VR({arrowWidth:C,arrowHeight:T}),m&&IR({strategy:"referenceHidden",...q})]}),[R,z]=Cb(L),ee=wr(v);ot(()=>{F&&(ee==null||ee())},[F,ee]);const P=($=N.arrow)==null?void 0:$.x,B=(oe=N.arrow)==null?void 0:oe.y,V=((ue=N.arrow)==null?void 0:ue.centerOffset)!==0,[H,te]=h.useState();return ot(()=>{w&&te(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:F?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(fe=N.transformOrigin)==null?void 0:fe.x,(me=N.transformOrigin)==null?void 0:me.y].join(" "),...((ye=N.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(UR,{scope:r,placedSide:R,onArrowChange:S,arrowX:P,arrowY:B,shouldHideArrow:V,children:u.jsx(se.div,{"data-side":R,"data-align":z,...g,ref:y,style:{...g.style,animation:F?void 0:"none"}})})})});_b.displayName=gm;var Sb="PopperArrow",zR={top:"bottom",right:"left",bottom:"top",left:"right"},Eb=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=BR(Sb,n),i=zR[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx($R,{...s,ref:r,style:{...s.style,display:"block"}})})});Eb.displayName=Sb;function WR(e){return e!==null}var VR=e=>({name:"transformOrigin",options:e,fn(t){var b,w,x;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=Cb(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=i?f:`${m}px`,g=`${-l}px`):c==="top"?(v=i?f:`${m}px`,g=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=i?f:`${p}px`):c==="left"&&(v=`${n.floating.width+l}px`,g=i?f:`${p}px`),{data:{x:v,y:g}}}});function Cb(e){const[t,r="center"]=e.split("-");return[t,r]}var kb=wb,Mu=bb,vm=_b,ym=Eb,[Lu]=on("Tooltip",[Pi]),wm=Pi(),Tb="TooltipProvider",HR=700,jv="tooltip.open",[qR,Nb]=Lu(Tb),Pb=e=>{const{__scopeTooltip:t,delayDuration:r=HR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),l=h.useRef(0);return h.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(qR,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};Pb.displayName=Tb;var Rb="Tooltip",[H5,$u]=Lu(Rb),fh="TooltipTrigger",KR=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=$u(fh,r),o=Nb(fh,r),i=wm(r),a=h.useRef(null),l=pe(t,a,s.onTriggerChange),c=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Mu,{asChild:!0,...i,children:u.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:Z(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});KR.displayName=fh;var GR="TooltipPortal",[q5,QR]=Lu(GR,{forceMount:void 0}),wi="TooltipContent",jb=h.forwardRef((e,t)=>{const r=QR(wi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=$u(wi,e.__scopeTooltip);return u.jsx(as,{present:n||i.open,children:i.disableHoverableContent?u.jsx(Ob,{side:s,...o,ref:t}):u.jsx(YR,{side:s,...o,ref:t})})}),YR=h.forwardRef((e,t)=>{const r=$u(wi,e.__scopeTooltip),n=Nb(wi,e.__scopeTooltip),s=h.useRef(null),o=pe(t,s),[i,a]=h.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((v,g)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},x=tj(w,b.getBoundingClientRect()),y=rj(w,x),_=nj(g.getBoundingClientRect()),S=oj([...y,..._]);a(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(l&&d){const v=b=>p(b,d),g=b=>p(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,p,m]),h.useEffect(()=>{if(i){const v=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),y=!sj(w,i);x?m():y&&(m(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,c,m]),u.jsx(Ob,{...e,ref:o})}),[JR,XR]=Lu(Rb,{isInside:!1}),ZR=px("TooltipContent"),Ob=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=$u(wi,r),c=wm(r),{onClose:d}=l;return h.useEffect(()=>(document.addEventListener(jv,d),()=>document.removeEventListener(jv,d)),[d]),h.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(vm,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(ZR,{children:n}),u.jsx(JR,{scope:r,isInside:!0,children:u.jsx(LT,{id:l.contentId,role:"tooltip",children:s||n})})]})})});jb.displayName=wi;var Ab="TooltipArrow",ej=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=wm(r);return XR(Ab,r).isInside?null:u.jsx(ym,{...s,...n,ref:t})});ej.displayName=Ab;function tj(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rj(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function nj(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function sj(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,m=l.y;d>n!=m>n&&r<(f-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function oj(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ij(t)}function ij(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var aj=Pb,Db=jb;const lj=aj,cj=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(Db,{ref:n,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));cj.displayName=Db.displayName;var Ri=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qs=typeof window>"u"||"Deno"in globalThis;function mt(){}function uj(e,t){return typeof e=="function"?e(t):e}function hh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ib(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qn(e,t){return typeof e=="function"?e(t):e}function Gt(e,t){return typeof e=="function"?e(t):e}function Ov(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==xm(i,t.options))return!1}else if(!$a(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Av(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ys(t.options.mutationKey)!==Ys(o))return!1}else if(!$a(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function xm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ys)(e)}function Ys(e){return JSON.stringify(e,(t,r)=>ph(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function $a(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>$a(e[r],t[r])):!1}function Mb(e,t){if(e===t)return e;const r=Dv(e)&&Dv(t);if(r||ph(e)&&ph(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=Mb(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function eu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Dv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ph(e){if(!Iv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Iv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Iv(e){return Object.prototype.toString.call(e)==="[object Object]"}function dj(e){return new Promise(t=>{setTimeout(t,e)})}function mh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Mb(e,t):t}function fj(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hj(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bm=Symbol();function Lb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $b(e,t){return typeof e=="function"?e(...t):!!e}var Rs,Nn,Xo,zy,pj=(zy=class extends Ri{constructor(){super();X(this,Rs);X(this,Nn);X(this,Xo);K(this,Xo,t=>{if(!Qs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Nn)||this.setEventListener(k(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Nn))==null||t.call(this),K(this,Nn,void 0))}setEventListener(t){var r;K(this,Xo,t),(r=k(this,Nn))==null||r.call(this),K(this,Nn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,Rs)!==t&&(K(this,Rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,Rs)=="boolean"?k(this,Rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rs=new WeakMap,Nn=new WeakMap,Xo=new WeakMap,zy),_m=new pj,Zo,Pn,ei,Wy,mj=(Wy=class extends Ri{constructor(){super();X(this,Zo,!0);X(this,Pn);X(this,ei);K(this,ei,t=>{if(!Qs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Pn)||this.setEventListener(k(this,ei))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Pn))==null||t.call(this),K(this,Pn,void 0))}setEventListener(t){var r;K(this,ei,t),(r=k(this,Pn))==null||r.call(this),K(this,Pn,t(this.setOnline.bind(this)))}setOnline(t){k(this,Zo)!==t&&(K(this,Zo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,Zo)}},Zo=new WeakMap,Pn=new WeakMap,ei=new WeakMap,Wy),tu=new mj;function gh(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function gj(e){return Math.min(1e3*2**e,3e4)}function Fb(e){return(e??"online")==="online"?tu.isOnline():!0}var Ub=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Fd(e){return e instanceof Ub}function Bb(e){let t=!1,r=0,n=!1,s;const o=gh(),i=g=>{var b;n||(m(new Ub(g)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>_m.isFocused()&&(e.networkMode==="always"||tu.isOnline())&&e.canRun(),d=()=>Fb(e.networkMode)&&e.canRun(),f=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var b;s=w=>{(n||c())&&g(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var E;if(n)return;const x=e.retry??(Qs?0:3),y=e.retryDelay??gj,_=typeof y=="function"?y(r,w):y,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(t||!S){m(w);return}r++,(E=e.onFail)==null||E.call(e,r,w),dj(_).then(()=>c()?void 0:p()).then(()=>{t?m(w):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),o)}}var vj=e=>setTimeout(e,0);function yj(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=vj;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Ke=yj(),js,Vy,zb=(Vy=class{constructor(){X(this,js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hh(this.gcTime)&&K(this,js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qs?1/0:5*60*1e3))}clearGcTimeout(){k(this,js)&&(clearTimeout(k(this,js)),K(this,js,void 0))}},js=new WeakMap,Vy),ti,Os,Kt,As,ct,el,Ds,ur,zr,Hy,wj=(Hy=class extends zb{constructor(t){super();X(this,ur);X(this,ti);X(this,Os);X(this,Kt);X(this,As);X(this,ct);X(this,el);X(this,Ds);K(this,Ds,!1),K(this,el,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,As,t.client),K(this,Kt,k(this,As).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,ti,xj(this.options)),this.state=t.state??k(this,ti),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,ct))==null?void 0:t.promise}setOptions(t){this.options={...k(this,el),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Kt).remove(this)}setData(t,r){const n=mh(this.state.data,t,this.options);return le(this,ur,zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){le(this,ur,zr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,ct))==null?void 0:n.promise;return(s=k(this,ct))==null||s.cancel(t),r?r.then(mt).catch(mt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,ti))}isActive(){return this.observers.some(t=>Gt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ib(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,ct))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,ct))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,Kt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,ct)&&(k(this,Ds)?k(this,ct).cancel({revert:!0}):k(this,ct).cancelRetry()),this.scheduleGc()),k(this,Kt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,ur,zr).call(this,{type:"invalidate"})}fetch(t,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,ct))return k(this,ct).continueRetry(),k(this,ct).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(K(this,Ds,!0),n.signal)})},o=()=>{const m=Lb(this.options,r),v=(()=>{const g={client:k(this,As),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return K(this,Ds,!1),this.options.persister?this.options.persister(m,v,this):m(v)},a=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,As),state:this.state,fetchFn:o};return s(m),m})();(c=this.options.behavior)==null||c.onFetch(a,this),K(this,Os,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&le(this,ur,zr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var p,v,g,b;Fd(m)&&m.silent||le(this,ur,zr).call(this,{type:"error",error:m}),Fd(m)||((v=(p=k(this,Kt).config).onError)==null||v.call(p,m,this),(b=(g=k(this,Kt).config).onSettled)==null||b.call(g,this.state.data,m,this)),this.scheduleGc()};return K(this,ct,Bb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,v,g,b;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){l(w);return}(v=(p=k(this,Kt).config).onSuccess)==null||v.call(p,m,this),(b=(g=k(this,Kt).config).onSettled)==null||b.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,p)=>{le(this,ur,zr).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{le(this,ur,zr).call(this,{type:"pause"})},onContinue:()=>{le(this,ur,zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),k(this,ct).start()}},ti=new WeakMap,Os=new WeakMap,Kt=new WeakMap,As=new WeakMap,ct=new WeakMap,el=new WeakMap,Ds=new WeakMap,ur=new WeakSet,zr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Wb(n.data,this.options),fetchMeta:t.meta??null};case"success":return K(this,Os,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Fd(s)&&s.revert&&k(this,Os)?{...k(this,Os),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Kt).notify({query:this,type:"updated",action:t})})},Hy);function Wb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tr,qy,bj=(qy=class extends Ri{constructor(t={}){super();X(this,Tr);this.config=t,K(this,Tr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??xm(s,r);let i=this.get(o);return i||(i=new wj({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){k(this,Tr).has(t.queryHash)||(k(this,Tr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,Tr).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,Tr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Tr).get(t)}getAll(){return[...k(this,Tr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ov(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ov(t,n)):r}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tr=new WeakMap,qy),Nr,ft,Is,Pr,xn,Ky,_j=(Ky=class extends zb{constructor(t){super();X(this,Pr);X(this,Nr);X(this,ft);X(this,Is);this.mutationId=t.mutationId,K(this,ft,t.mutationCache),K(this,Nr,[]),this.state=t.state||Vb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Nr).includes(t)||(k(this,Nr).push(t),this.clearGcTimeout(),k(this,ft).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Nr,k(this,Nr).filter(r=>r!==t)),this.scheduleGc(),k(this,ft).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():k(this,ft).remove(this))}continue(){var t;return((t=k(this,Is))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,d,f,m,p,v,g,b,w,x,y,_,S,E,C,T;const r=()=>{le(this,Pr,xn).call(this,{type:"continue"})};K(this,Is,Bb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,O)=>{le(this,Pr,xn).call(this,{type:"failed",failureCount:j,error:O})},onPause:()=>{le(this,Pr,xn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,ft).canRun(this)}));const n=this.state.status==="pending",s=!k(this,Is).canStart();try{if(n)r();else{le(this,Pr,xn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=k(this,ft).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&le(this,Pr,xn).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const j=await k(this,Is).start();return await((d=(c=k(this,ft).config).onSuccess)==null?void 0:d.call(c,j,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,j,t,this.state.context)),await((v=(p=k(this,ft).config).onSettled)==null?void 0:v.call(p,j,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,j,null,t,this.state.context)),le(this,Pr,xn).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(w=k(this,ft).config).onError)==null?void 0:x.call(w,j,t,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,j,t,this.state.context)),await((E=(S=k(this,ft).config).onSettled)==null?void 0:E.call(S,void 0,j,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,j,t,this.state.context)),j}finally{le(this,Pr,xn).call(this,{type:"error",error:j})}}finally{k(this,ft).runNext(this)}}},Nr=new WeakMap,ft=new WeakMap,Is=new WeakMap,Pr=new WeakSet,xn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{k(this,Nr).forEach(n=>{n.onMutationUpdate(t)}),k(this,ft).notify({mutation:this,type:"updated",action:t})})},Ky);function Vb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,dr,tl,Gy,Sj=(Gy=class extends Ri{constructor(t={}){super();X(this,qr);X(this,dr);X(this,tl);this.config=t,K(this,qr,new Set),K(this,dr,new Map),K(this,tl,0)}build(t,r,n){const s=new _j({mutationCache:this,mutationId:++bl(this,tl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){k(this,qr).add(t);const r=Wl(t);if(typeof r=="string"){const n=k(this,dr).get(r);n?n.push(t):k(this,dr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,qr).delete(t)){const r=Wl(t);if(typeof r=="string"){const n=k(this,dr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&k(this,dr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Wl(t);if(typeof r=="string"){const n=k(this,dr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Wl(t);if(typeof r=="string"){const s=(n=k(this,dr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{k(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,qr).clear(),k(this,dr).clear()})}getAll(){return Array.from(k(this,qr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Av(r,n))}findAll(t={}){return this.getAll().filter(r=>Av(t,r))}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(mt))))}},qr=new WeakMap,dr=new WeakMap,tl=new WeakMap,Gy);function Wl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Mv(e){return{onFetch:(t,r)=>{var d,f,m,p,v;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Lb(t.options,t.fetchOptions),x=async(y,_,S)=>{if(g)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return b(D),D})(),T=await w(C),{maxPages:j}=t.options,O=S?hj:fj;return{pages:O(y.pages,T,j),pageParams:O(y.pageParams,_,j)}};if(s&&o.length){const y=s==="backward",_=y?Ej:Lv,S={pages:o,pageParams:i},E=_(n,S);a=await x(S,E,y)}else{const y=e??o.length;do{const _=l===0?i[0]??n.initialPageParam:Lv(n,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<y)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Lv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ej(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Le,Rn,jn,ri,ni,On,si,oi,Qy,Cj=(Qy=class{constructor(e={}){X(this,Le);X(this,Rn);X(this,jn);X(this,ri);X(this,ni);X(this,On);X(this,si);X(this,oi);K(this,Le,e.queryCache||new bj),K(this,Rn,e.mutationCache||new Sj),K(this,jn,e.defaultOptions||{}),K(this,ri,new Map),K(this,ni,new Map),K(this,On,0)}mount(){bl(this,On)._++,k(this,On)===1&&(K(this,si,_m.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Le).onFocus())})),K(this,oi,tu.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Le).onOnline())})))}unmount(){var e,t;bl(this,On)._--,k(this,On)===0&&((e=k(this,si))==null||e.call(this),K(this,si,void 0),(t=k(this,oi))==null||t.call(this),K(this,oi,void 0))}isFetching(e){return k(this,Le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Rn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,Le).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=k(this,Le).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return k(this,Le).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,Le).get(n.queryHash),o=s==null?void 0:s.state.data,i=uj(t,o);if(i!==void 0)return k(this,Le).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ke.batch(()=>k(this,Le).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,Le).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,Le);Ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,Le);return Ke.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ke.batch(()=>k(this,Le).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(mt).catch(mt)}invalidateQueries(e,t={}){return Ke.batch(()=>(k(this,Le).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ke.batch(()=>k(this,Le).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(mt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(mt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,Le).build(this,t);return r.isStaleByTime(Qn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mt).catch(mt)}fetchInfiniteQuery(e){return e.behavior=Mv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mt).catch(mt)}ensureInfiniteQueryData(e){return e.behavior=Mv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tu.isOnline()?k(this,Rn).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Le)}getMutationCache(){return k(this,Rn)}getDefaultOptions(){return k(this,jn)}setDefaultOptions(e){K(this,jn,e)}setQueryDefaults(e,t){k(this,ri).set(Ys(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,ri).values()],r={};return t.forEach(n=>{$a(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){k(this,ni).set(Ys(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,ni).values()],r={};return t.forEach(n=>{$a(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,jn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,jn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,Le).clear(),k(this,Rn).clear()}},Le=new WeakMap,Rn=new WeakMap,jn=new WeakMap,ri=new WeakMap,ni=new WeakMap,On=new WeakMap,si=new WeakMap,oi=new WeakMap,Qy),wt,he,rl,ht,Ms,ii,An,Dn,nl,ai,li,Ls,$s,In,ci,we,sa,vh,yh,wh,xh,bh,_h,Sh,Hb,Yy,kj=(Yy=class extends Ri{constructor(t,r){super();X(this,we);X(this,wt);X(this,he);X(this,rl);X(this,ht);X(this,Ms);X(this,ii);X(this,An);X(this,Dn);X(this,nl);X(this,ai);X(this,li);X(this,Ls);X(this,$s);X(this,In);X(this,ci,new Set);this.options=r,K(this,wt,t),K(this,Dn,null),K(this,An,gh()),this.options.experimental_prefetchInRender||k(this,An).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,he).addObserver(this),$v(k(this,he),this.options)?le(this,we,sa).call(this):this.updateResult(),le(this,we,xh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eh(k(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eh(k(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,we,bh).call(this),le(this,we,_h).call(this),k(this,he).removeObserver(this)}setOptions(t){const r=this.options,n=k(this,he);if(this.options=k(this,wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gt(this.options.enabled,k(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,we,Sh).call(this),k(this,he).setOptions(this.options),r._defaulted&&!eu(this.options,r)&&k(this,wt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,he),observer:this});const s=this.hasListeners();s&&Fv(k(this,he),n,this.options,r)&&le(this,we,sa).call(this),this.updateResult(),s&&(k(this,he)!==n||Gt(this.options.enabled,k(this,he))!==Gt(r.enabled,k(this,he))||Qn(this.options.staleTime,k(this,he))!==Qn(r.staleTime,k(this,he)))&&le(this,we,vh).call(this);const o=le(this,we,yh).call(this);s&&(k(this,he)!==n||Gt(this.options.enabled,k(this,he))!==Gt(r.enabled,k(this,he))||o!==k(this,In))&&le(this,we,wh).call(this,o)}getOptimisticResult(t){const r=k(this,wt).getQueryCache().build(k(this,wt),t),n=this.createResult(r,t);return Nj(this,n)&&(K(this,ht,n),K(this,ii,this.options),K(this,Ms,k(this,he).state)),n}getCurrentResult(){return k(this,ht)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){k(this,ci).add(t)}getCurrentQuery(){return k(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,wt).defaultQueryOptions(t),n=k(this,wt).getQueryCache().build(k(this,wt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return le(this,we,sa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,ht)))}createResult(t,r){var j;const n=k(this,he),s=this.options,o=k(this,ht),i=k(this,Ms),a=k(this,ii),c=t!==n?t.state:k(this,rl),{state:d}=t;let f={...d},m=!1,p;if(r._optimisticResults){const O=this.hasListeners(),D=!O&&$v(t,r),A=O&&Fv(t,n,r,s);(D||A)&&(f={...f,...Wb(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=f;p=f.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let O;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(O=o.data,w=!0):O=typeof r.placeholderData=="function"?r.placeholderData((j=k(this,li))==null?void 0:j.state.data,k(this,li)):r.placeholderData,O!==void 0&&(b="success",p=mh(o==null?void 0:o.data,O,r),m=!0)}if(r.select&&p!==void 0&&!w)if(o&&p===(i==null?void 0:i.data)&&r.select===k(this,nl))p=k(this,ai);else try{K(this,nl,r.select),p=r.select(p),p=mh(o==null?void 0:o.data,p,r),K(this,ai,p),K(this,Dn,null)}catch(O){K(this,Dn,O)}k(this,Dn)&&(v=k(this,Dn),p=k(this,ai),g=Date.now(),b="error");const x=f.fetchStatus==="fetching",y=b==="pending",_=b==="error",S=y&&x,E=p!==void 0,T={status:b,fetchStatus:f.fetchStatus,isPending:y,isSuccess:b==="success",isError:_,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:_&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&E,isStale:Sm(t,r),refetch:this.refetch,promise:k(this,An),isEnabled:Gt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=q=>{T.status==="error"?q.reject(T.error):T.data!==void 0&&q.resolve(T.data)},D=()=>{const q=K(this,An,T.promise=gh());O(q)},A=k(this,An);switch(A.status){case"pending":t.queryHash===n.queryHash&&O(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&D();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&D();break}}return T}updateResult(){const t=k(this,ht),r=this.createResult(k(this,he),this.options);if(K(this,Ms,k(this,he).state),K(this,ii,this.options),k(this,Ms).data!==void 0&&K(this,li,k(this,he)),eu(r,t))return;K(this,ht,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!k(this,ci).size)return!0;const i=new Set(o??k(this,ci));return this.options.throwOnError&&i.add("error"),Object.keys(k(this,ht)).some(a=>{const l=a;return k(this,ht)[l]!==t[l]&&i.has(l)})};le(this,we,Hb).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,we,xh).call(this)}},wt=new WeakMap,he=new WeakMap,rl=new WeakMap,ht=new WeakMap,Ms=new WeakMap,ii=new WeakMap,An=new WeakMap,Dn=new WeakMap,nl=new WeakMap,ai=new WeakMap,li=new WeakMap,Ls=new WeakMap,$s=new WeakMap,In=new WeakMap,ci=new WeakMap,we=new WeakSet,sa=function(t){le(this,we,Sh).call(this);let r=k(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mt)),r},vh=function(){le(this,we,bh).call(this);const t=Qn(this.options.staleTime,k(this,he));if(Qs||k(this,ht).isStale||!hh(t))return;const n=Ib(k(this,ht).dataUpdatedAt,t)+1;K(this,Ls,setTimeout(()=>{k(this,ht).isStale||this.updateResult()},n))},yh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,he)):this.options.refetchInterval)??!1},wh=function(t){le(this,we,_h).call(this),K(this,In,t),!(Qs||Gt(this.options.enabled,k(this,he))===!1||!hh(k(this,In))||k(this,In)===0)&&K(this,$s,setInterval(()=>{(this.options.refetchIntervalInBackground||_m.isFocused())&&le(this,we,sa).call(this)},k(this,In)))},xh=function(){le(this,we,vh).call(this),le(this,we,wh).call(this,le(this,we,yh).call(this))},bh=function(){k(this,Ls)&&(clearTimeout(k(this,Ls)),K(this,Ls,void 0))},_h=function(){k(this,$s)&&(clearInterval(k(this,$s)),K(this,$s,void 0))},Sh=function(){const t=k(this,wt).getQueryCache().build(k(this,wt),this.options);if(t===k(this,he))return;const r=k(this,he);K(this,he,t),K(this,rl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Hb=function(t){Ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,ht))}),k(this,wt).getQueryCache().notify({query:k(this,he),type:"observerResultsUpdated"})})},Yy);function Tj(e,t){return Gt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $v(e,t){return Tj(e,t)||e.state.data!==void 0&&Eh(e,t,t.refetchOnMount)}function Eh(e,t,r){if(Gt(t.enabled,e)!==!1&&Qn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Sm(e,t)}return!1}function Fv(e,t,r,n){return(e!==t||Gt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Sm(e,r)}function Sm(e,t){return Gt(t.enabled,e)!==!1&&e.isStaleByTime(Qn(t.staleTime,e))}function Nj(e,t){return!eu(e.getCurrentResult(),t)}var Mn,Ln,xt,Kr,Jr,vc,Ch,Jy,Pj=(Jy=class extends Ri{constructor(r,n){super();X(this,Jr);X(this,Mn);X(this,Ln);X(this,xt);X(this,Kr);K(this,Mn,r),this.setOptions(n),this.bindMethods(),le(this,Jr,vc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,Mn).defaultMutationOptions(r),eu(this.options,n)||k(this,Mn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,xt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ys(n.mutationKey)!==Ys(this.options.mutationKey)?this.reset():((s=k(this,xt))==null?void 0:s.state.status)==="pending"&&k(this,xt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,xt))==null||r.removeObserver(this)}onMutationUpdate(r){le(this,Jr,vc).call(this),le(this,Jr,Ch).call(this,r)}getCurrentResult(){return k(this,Ln)}reset(){var r;(r=k(this,xt))==null||r.removeObserver(this),K(this,xt,void 0),le(this,Jr,vc).call(this),le(this,Jr,Ch).call(this)}mutate(r,n){var s;return K(this,Kr,n),(s=k(this,xt))==null||s.removeObserver(this),K(this,xt,k(this,Mn).getMutationCache().build(k(this,Mn),this.options)),k(this,xt).addObserver(this),k(this,xt).execute(r)}},Mn=new WeakMap,Ln=new WeakMap,xt=new WeakMap,Kr=new WeakMap,Jr=new WeakSet,vc=function(){var n;const r=((n=k(this,xt))==null?void 0:n.state)??Vb();K(this,Ln,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ch=function(r){Ke.batch(()=>{var n,s,o,i,a,l,c,d;if(k(this,Kr)&&this.hasListeners()){const f=k(this,Ln).variables,m=k(this,Ln).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,Kr)).onSuccess)==null||s.call(n,r.data,f,m),(i=(o=k(this,Kr)).onSettled)==null||i.call(o,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((l=(a=k(this,Kr)).onError)==null||l.call(a,r.error,f,m),(d=(c=k(this,Kr)).onSettled)==null||d.call(c,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(k(this,Ln))})})},Jy),qb=h.createContext(void 0),Sr=e=>{const t=h.useContext(qb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rj=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(qb.Provider,{value:e,children:t})),Kb=h.createContext(!1),jj=()=>h.useContext(Kb);Kb.Provider;function Oj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Aj=h.createContext(Oj()),Dj=()=>h.useContext(Aj),Ij=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Mj=e=>{h.useEffect(()=>{e.clearReset()},[e])},Lj=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||$b(r,[e.error,n])),$j=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Fj=(e,t)=>e.isLoading&&e.isFetching&&!t,Uj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Uv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Bj(e,t,r){var f,m,p,v,g;const n=jj(),s=Dj(),o=Sr(),i=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",$j(i),Ij(i,s),Mj(s);const a=!o.getQueryCache().get(i.queryHash),[l]=h.useState(()=>new t(o,i)),c=l.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(b=>{const w=d?l.subscribe(Ke.batchCalls(b)):mt;return l.updateResult(),w},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),h.useEffect(()=>{l.setOptions(i)},[i,l]),Uj(i,c))throw Uv(i,l,s);if(Lj({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,i,c),i.experimental_prefetchInRender&&!Qs&&Fj(c,n)){const b=a?Uv(i,l,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;b==null||b.catch(mt).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?c:l.trackResult(c)}function Oe(e,t){return Bj(e,kj)}function oo(e,t){const r=Sr(),[n]=h.useState(()=>new Pj(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(Ke.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,a)=>{n.mutate(i,a).catch(mt)},[n]);if(s.error&&$b(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Bv="popstate";function zj(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return kh("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ru(s)}return Vj(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wj(){return Math.random().toString(36).substr(2,8)}function zv(e,t){return{usr:e.state,key:e.key,idx:t}}function kh(e,t,r,n){return r===void 0&&(r=null),Fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ji(t):t,{state:r,key:t&&t.key||n||Wj()})}function ru(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ji(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Vj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Un.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Fa({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Un.Pop;let b=d(),w=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:w})}function m(b,w){a=Un.Push;let x=kh(g.location,b,w);c=d()+1;let y=zv(x,c),_=g.createHref(x);try{i.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function p(b,w){a=Un.Replace;let x=kh(g.location,b,w);c=d();let y=zv(x,c),_=g.createHref(x);i.replaceState(y,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:ru(b);return x=x.replace(/ $/,"%20"),Be(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return a},get location(){return e(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Bv,f),l=b,()=>{s.removeEventListener(Bv,f),l=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(b){return i.go(b)}};return g}var Wv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wv||(Wv={}));function Hj(e,t,r){return r===void 0&&(r="/"),qj(e,t,r)}function qj(e,t,r,n){let s=typeof t=="string"?ji(t):t,o=Em(s.pathname||"/",r);if(o==null)return null;let i=Qb(e);Kj(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=oO(o);a=rO(i[l],c)}return a}function Qb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Yn([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qb(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:eO(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Yb(o.path))s(o,i,l)}),t}function Yb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Yb(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Kj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gj=/^:[\w-]+$/,Qj=3,Yj=2,Jj=1,Xj=10,Zj=-2,Vv=e=>e==="*";function eO(e,t){let r=e.split("/"),n=r.length;return r.some(Vv)&&(n+=Zj),t&&(n+=Yj),r.filter(s=>!Vv(s)).reduce((s,o)=>s+(Gj.test(o)?Qj:o===""?Jj:Xj),n)}function tO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function rO(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=nO({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Yn([o,f.pathname]),pathnameBase:cO(Yn([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Yn([o,f.pathnameBase]))}return i}function nO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[f];return p&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function sO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function oO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Em(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ji(e):e;return{pathname:r?r.startsWith("/")?r:aO(r,t):t,search:uO(n),hash:dO(s)}}function aO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ud(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cm(e,t){let r=lO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function km(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ji(e):(s=Fa({},e),Be(!s.pathname||!s.pathname.includes("?"),Ud("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),Ud("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),Ud("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let l=iO(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),cO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jb=["post","put","patch","delete"];new Set(Jb);const hO=["get",...Jb];new Set(hO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}const Tm=h.createContext(null),pO=h.createContext(null),ls=h.createContext(null),Fu=h.createContext(null),an=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Xb=h.createContext(null);function mO(e,t){let{relative:r}=t===void 0?{}:t;Oi()||Be(!1);let{basename:n,navigator:s}=h.useContext(ls),{hash:o,pathname:i,search:a}=e1(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Yn([n,i])),s.createHref({pathname:l,search:a,hash:o})}function Oi(){return h.useContext(Fu)!=null}function ln(){return Oi()||Be(!1),h.useContext(Fu).location}function Zb(e){h.useContext(ls).static||h.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=h.useContext(an);return e?PO():gO()}function gO(){Oi()||Be(!1);let e=h.useContext(Tm),{basename:t,future:r,navigator:n}=h.useContext(ls),{matches:s}=h.useContext(an),{pathname:o}=ln(),i=JSON.stringify(Cm(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return Zb(()=>{a.current=!0}),h.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=km(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function vO(){let{matches:e}=h.useContext(an),t=e[e.length-1];return t?t.params:{}}function e1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(ls),{matches:s}=h.useContext(an),{pathname:o}=ln(),i=JSON.stringify(Cm(s,n.v7_relativeSplatPath));return h.useMemo(()=>km(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function yO(e,t){return wO(e,t)}function wO(e,t,r,n){Oi()||Be(!1);let{navigator:s}=h.useContext(ls),{matches:o}=h.useContext(an),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ln(),d;if(t){var f;let b=typeof t=="string"?ji(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Be(!1),d=b}else d=c;let m=d.pathname||"/",p=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Hj(e,{pathname:p}),g=EO(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Yn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Yn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&g?h.createElement(Fu.Provider,{value:{location:Ua({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},g):g}function xO(){let e=NO(),t=fO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const bO=h.createElement(xO,null);class _O extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(an.Provider,{value:this.props.routeContext},h.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SO(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Tm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(an.Provider,{value:t},n)}function EO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Be(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,v=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,v=!1,g=null,b=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||bO,l&&(c<0&&m===0?(RO("route-fallback"),v=!0,b=null):c===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),x=()=>{let y;return p?y=g:v?y=b:f.route.Component?y=h.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,h.createElement(SO,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(_O,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var t1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(t1||{}),r1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(r1||{});function CO(e){let t=h.useContext(Tm);return t||Be(!1),t}function kO(e){let t=h.useContext(pO);return t||Be(!1),t}function TO(e){let t=h.useContext(an);return t||Be(!1),t}function n1(e){let t=TO(),r=t.matches[t.matches.length-1];return r.route.id||Be(!1),r.route.id}function NO(){var e;let t=h.useContext(Xb),r=kO(),n=n1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function PO(){let{router:e}=CO(t1.UseNavigateStable),t=n1(r1.UseNavigateStable),r=h.useRef(!1);return Zb(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ua({fromRouteId:t},o)))},[e,t])}const Hv={};function RO(e,t,r){Hv[e]||(Hv[e]=!0)}function jO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function OO(e){let{to:t,replace:r,state:n,relative:s}=e;Oi()||Be(!1);let{future:o,static:i}=h.useContext(ls),{matches:a}=h.useContext(an),{pathname:l}=ln(),c=Ut(),d=km(t,Cm(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function qt(e){Be(!1)}function AO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Un.Pop,navigator:o,static:i=!1,future:a}=e;Oi()&&Be(!1);let l=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:o,static:i,future:Ua({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=ji(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:v="default"}=n,g=h.useMemo(()=>{let b=Em(d,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:v},navigationType:s}},[l,d,f,m,p,v,s]);return g==null?null:h.createElement(ls.Provider,{value:c},h.createElement(Fu.Provider,{children:r,value:g}))}function DO(e){let{children:t,location:r}=e;return yO(Th(t),r)}new Promise(()=>{});function Th(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Th(n.props.children,o));return}n.type!==qt&&Be(!1),!n.props.index||!n.props.children||Be(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Th(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function IO(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function MO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LO(e,t){return e.button===0&&(!t||t==="_self")&&!MO(e)}function Ph(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function $O(e,t){let r=Ph(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const FO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UO="6";try{window.__reactRouterVersion=UO}catch{}const BO="startTransition",qv=up[BO];function zO(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=zj({window:s,v5Compat:!0}));let i=o.current,[a,l]=h.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=h.useCallback(f=>{c&&qv?qv(()=>l(f)):l(f)},[l,c]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>jO(n),[n]),h.createElement(AO,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const WO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HO=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,m=IO(t,FO),{basename:p}=h.useContext(ls),v,g=!1;if(typeof c=="string"&&VO.test(c)&&(v=c,WO))try{let y=new URL(window.location.href),_=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Em(_.pathname,p);_.origin===y.origin&&S!=null?c=S+_.search+_.hash:g=!0}catch{}let b=mO(c,{relative:s}),w=qO(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function x(y){n&&n(y),y.defaultPrevented||w(y)}return h.createElement("a",Nh({},m,{href:v||b,onClick:g||o?n:x,ref:r,target:l}))});var Kv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var Gv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function qO(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=Ut(),c=ln(),d=e1(e,{relative:i});return h.useCallback(f=>{if(LO(f,r)){f.preventDefault();let m=n!==void 0?n:ru(c)===ru(d);l(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,d,n,s,r,e,o,i,a])}function KO(e){let t=h.useRef(Ph(e)),r=h.useRef(!1),n=ln(),s=h.useMemo(()=>$O(n.search,r.current?null:t.current),[n.search]),o=Ut(),i=h.useCallback((a,l)=>{const c=Ph(typeof a=="function"?a(s):a);r.current=!0,o("?"+c,l)},[o,s]);return[s,i]}var jr=function(){return jr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},jr.apply(this,arguments)};function Ai(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function GO(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function QO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const YO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Nm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class JO extends Nm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qv extends Nm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yv extends Nm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rh||(Rh={}));class XO{constructor(t,{headers:r={},customFetch:n,region:s=Rh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=YO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return GO(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:d,timeout:f}=n;let m={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(m["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(m["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let b=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(b=i.signal,d.addEventListener("abort",()=>i.abort())):b=i.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:b}).catch(S=>{throw new JO(S)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Qv(w);if(!w.ok)throw new Yv(w);let y=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield w.json():y==="application/octet-stream"||y==="application/pdf"?_=yield w.blob():y==="text/event-stream"?_=w:y==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Yv||a instanceof Qv?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var ZO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},e2=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,m;if(r.method!=="HEAD"){var p;const w=await o.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,c=200,d="OK")}catch{o.status===404&&g===""?(c=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&r.shouldThrowOnError)throw new ZO(i)}return{error:i,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const l=o==null?void 0:o.cause;if(l){var c,d,f,m;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"Error"}: ${v}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=o==null?void 0:o.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},t2=class extends e2{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Jv=new RegExp("[,()]");var So=class extends t2{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Jv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Jv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},r2=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new So({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);o.searchParams.set("columns",l.join(","))}}return new So({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new So({method:i,url:a,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new So({method:n,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new So({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},n2=class s1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new r2(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new s1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(a="POST",c=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(a="POST",c=r);const m=new Headers(this.headers);return f?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new So({method:a,url:l,headers:m,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class s2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o2="2.90.1",i2=`realtime-js/${o2}`,o1="1.0.0",a2="2.0.0",Xv=o1,jh=1e4,l2=1e3,c2=100;var En;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(En||(En={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hr||(hr={}));var Oh;(function(e){e.websocket="websocket"})(Oh||(Oh={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class u2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(p),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,a.length),v.setUint8(g++,i.length),v.setUint8(g++,c.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(l,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(i,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(c,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(g++,w.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,l]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+o));l=l+o;const f=n.decode(t.slice(l,l+i));l=l+i;const m=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class i1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Zv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=d2(i,e,t,s),o),{}):{}},d2=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?a1(o,i):Ah(i)},a1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return m2(t,r)}switch(e){case Ee.bool:return f2(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return h2(t);case Ee.json:case Ee.jsonb:return p2(t);case Ee.timestamp:return g2(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Ah(t);default:return Ah(t)}},Ah=e=>e,f2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},h2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},m2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>a1(t,a))}return e},g2=e=>typeof e=="string"?e.replace(" ","T"):e,l1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bd{constructor(t,r,n={},s=jh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ey;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ey||(ey={}));class va{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const m=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(a[c]=v),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}n(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ty;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ty||(ty={}));var ya;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ya||(ya={}));var Vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vr||(Vr={}));class Uo{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bd(this,hr.join,this.params,this.timeout),this.rejoinTimer=new i1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new va(this),this.broadcastEndpointURL=l1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ya.PRESENCE]&&this.bindings[ya.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Vr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Vr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Vr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<b;x++){const y=g[x],{filter:{event:_,schema:S,table:E,filter:C}}=y,T=p&&p[x];if(T&&T.event===_&&Uo.isFilterValueEqual(T.schema,S)&&Uo.isFilterValueEqual(T.table,E)&&Uo.isFilterValueEqual(T.filter,C))w.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=He.errored,t==null||t(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Vr.SUBSCRIBED);return}}).receive("error",p=>{this.state=He.errored,t==null||t(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===He.joined&&t===ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Bd(this,hr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>c2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=hr;if(n&&[a,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,g,b,w,x,y,_,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const E=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((w=p.filter)===null||w===void 0)&&w.table)||p.filter.table===((x=r.data)===null||x===void 0?void 0:x.table))}else{const E=(_=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:b,commit_timestamp:w,type:x,errors:y}=v;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(m,n)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Uo.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hr.close,{},t)}_onError(t){this._on(hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zv(t.columns,t.old_record)),r}}const zd=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v2=[1e3,2e3,5e3,1e4],y2=1e4,w2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x2{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jh,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zd,this.ref=0,this.reconnectTimer=null,this.vsn=Xv,this.logger=zd,this.conn=null,this.sendBuffer=[],this.serializer=new u2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Oh.websocket}`,this.httpEndpoint=l1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return Es.Connecting;case En.open:return Es.Open;case En.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Uo(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===En.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===En.open||this.conn.readyState===En.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:i2};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new i1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,l,c,d,f,m,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:jh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:zd,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Xv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>v2[v-1]||y2,this.vsn){case o1:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case a2:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ba=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function b2(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function _2(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function S2(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=b2(e.baseUrl,n,s),l=await _2(e.auth),c=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?m:void 0,v=p==null?void 0:p.error;throw new Ba((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:c.status,headers:c.headers,data:m}}}}function Hl(e){return e.join("")}var E2=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Hl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hl(e.namespace)}`}),!0}catch(t){if(t instanceof Ba&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ba&&r.status===409)return;throw r}}};function ho(e){return e.join("")}var C2=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ho(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ba&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ba&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},k2=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=S2({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new E2(this.client,t),this.tableOps=new C2(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Uu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var T2=class extends Uu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dh=class extends Uu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Pm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),N2=()=>Response,Ih=e=>{if(Array.isArray(e))return e.map(r=>Ih(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ih(n)}),t},P2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R2=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function j2(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O2(e){var t=j2(e,"string");return za(t)=="symbol"?t:t+""}function A2(e,t,r){return(t=O2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(r),!0).forEach(function(n){A2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Wd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},D2=async(e,t,r)=>{e instanceof await N2()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new T2(Wd(n),s,o))}).catch(n=>{t(new Dh(Wd(n),n))}):t(new Dh(Wd(e),e))},I2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(P2(n)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),ne(ne({},s),r))};async function hl(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,I2(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>D2(l,a,n))})}async function Wa(e,t,r,n){return hl(e,"GET",t,r,n)}async function cr(e,t,r,n,s){return hl(e,"POST",t,n,s,r)}async function Mh(e,t,r,n,s){return hl(e,"PUT",t,n,s,r)}async function M2(e,t,r,n){return hl(e,"HEAD",t,ne(ne({},r),{},{noResolveJson:!0}),n)}async function Rm(e,t,r,n,s){return hl(e,"DELETE",t,n,s,r)}var L2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}}};let c1;c1=Symbol.toStringTag;var $2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[c1]="BlobDownloadBuilder",this.promise=null}asStream(){return new L2(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}}};const F2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ny={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var U2=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const i=ne(ne({},ny),n);let a=ne(ne({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=ne(ne({},a),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),f=await(e=="PUT"?Mh:cr)(s.fetch,`${s.url}/object/${d}`,o,ne({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let l;const c=ne({upsert:ny.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await Mh(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=ne({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await cr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Uu("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await cr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await cr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await cr(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await cr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>ne(ne({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>Wa(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new $2(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ih(await Wa(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await M2(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof Dh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await Rm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=ne(ne(ne({},F2),t),{},{prefix:e||""});return{data:await cr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=ne({},e);return{data:await cr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const u1="2.90.1",d1={"X-Client-Info":`storage-js/${u1}`};var B2=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ne(ne({},d1),t),this.fetch=Pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Wa(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Wa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await cr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Mh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await cr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Rm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},z2=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},d1),t),this.fetch=Pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await cr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Wa(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Rm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!R2(e))throw new Uu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new k2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const jm={"X-Client-Info":`storage-js/${u1}`,"Content-Type":"application/json"};var f1=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Vd=class extends f1{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},W2=class extends f1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Om=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),V2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H2=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new Vd(sy(o),n,i))}).catch(()=>{const o=n+"";t(new Vd(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new Vd(s.statusText||`HTTP ${n} error`,n,o))}}else t(new W2(sy(e),e))},q2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(V2(n)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,ne(ne({},s),r)):s};async function K2(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,q2(t,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>H2(l,a,n))})}async function Ot(e,t,r,n,s){return K2(e,"POST",t,n,s,r)}var G2=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},jm),t),this.fetch=Om(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ot(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ot(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}},Q2=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},jm),t),this.fetch=Om(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ot(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},Y2=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},jm),t),this.fetch=Om(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},J2=class extends Y2{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new X2(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},X2=class extends G2{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Z2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Z2=class extends Q2{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},eA=class extends B2{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new U2(this.url,this.headers,e,this.fetch)}get vectors(){return new J2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z2(this.url+"/iceberg",this.headers,this.fetch)}};const h1="2.90.1",Eo=30*1e3,Lh=3,Hd=Lh*Eo,tA="http://localhost:9999",rA="supabase.auth.token",nA={"X-Client-Info":`gotrue-js/${h1}`},$h="X-Supabase-Api-Version",p1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oA=10*60*1e3;class Va extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iA extends Va{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aA(e){return Y(e)&&e.name==="AuthApiError"}class Cs extends Va{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cn extends Va{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Nt extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lA(e){return Y(e)&&e.name==="AuthSessionMissingError"}class po extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ql extends cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kl extends cn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cA(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class oy extends cn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uA extends cn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fh extends cn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qd(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class iy extends cn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uh extends cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ay=` 	
\r=`.split(""),dA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ay.length;t+=1)e[ay[t].charCodeAt(0)]=-2;for(let t=0;t<nu.length;t+=1)e[nu[t].charCodeAt(0)]=t;return e})();function ly(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nu[n]),t.queuedBits-=6}}function m1(e,t,r){const n=dA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{pA(i,n,r)};for(let i=0;i<e.length;i+=1)m1(e.charCodeAt(i),s,o);return t.join("")}function fA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}fA(n,t)}}function pA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)m1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mA(e){const t=[];return hA(e,r=>t.push(r)),new Uint8Array(t)}function Ps(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ly(s,r,n)),ly(null,r,n),t.join("")}function gA(e){return Math.round(Date.now()/1e3)+e}function vA(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},g1=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function yA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const v1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Co=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xe=async(e,t)=>{await e.removeItem(t)};class Bu{constructor(){this.promise=new Bu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bu.promiseConstructor=Promise;function Kd(e){const t=e.split(".");if(t.length!==3)throw new Uh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sA.test(t[n]))throw new Uh("JWT not in base64url format");return{header:JSON.parse(cy(t[0])),payload:JSON.parse(cy(t[1])),signature:Qo(t[2]),raw:{header:t[0],payload:t[1]}}}async function xA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bA(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function _A(e){return("0"+e.toString(16)).substr(-2)}function SA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_A).join("")}async function EA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function CA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await EA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(e,t,r=!1){const n=SA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Co(e,`${t}-code-verifier`,s);const o=await CA(n);return[o,n===o?"plain":"s256"]}const kA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TA(e){const t=e.headers.get($h);if(!t||!t.match(kA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(e){if(!RA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jA(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function uy(e){return JSON.parse(JSON.stringify(e))}const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OA=[502,503,504];async function dy(e){var t;if(!wA(e))throw new Fh(_s(e),0);if(OA.includes(e.status))throw new Fh(_s(e),e.status);let r;try{r=await e.json()}catch(o){throw new Cs(_s(o),o)}let n;const s=TA(e);if(s&&s.getTime()>=p1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iy(_s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new iy(_s(r),e.status,r.weak_password.reasons);throw new iA(_s(r),e.status||500,n)}const AA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[$h]||(o[$h]=p1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await DA(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function DA(e,t,r,n,s,o){const i=AA(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Fh(_s(l),0)}if(a.ok||await dy(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await dy(l)}}function ir(e){var t;let r=null;LA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fy(e){const t=ir(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IA(e){return{data:e,error:null}}function MA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Ai(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function hy(e){return e}function LA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qd=["global","local","others"];class $A{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=v1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qd[0]){if(Qd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ai(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:hy});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){go(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){go(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){go(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){go(t.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){go(t.userId),go(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:hy});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function py(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vo={debug:!!(globalThis&&g1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FA extends y1{}async function UA(e,t,r){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function BA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function zA(e){return parseInt(e,16)}function WA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function VA(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=w1(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);x+=`
- ${y}`}w+=x}return`${b}
${w}`}class ze extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class su extends ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function HA({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(x1(i)){if(o.rp.id!==i)return new ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qA({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(x1(n)){if(r.rpId!==n)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class KA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const GA=new KA;function QA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ai(e,["challenge","user","excludeCredentials"]),o=Qo(t).buffer,i=Object.assign(Object.assign({},r),{id:Qo(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Qo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function YA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ai(e,["challenge","allowCredentials"]),s=Qo(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Qo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function JA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ps(new Uint8Array(s.authenticatorData)),clientDataJSON:Ps(new Uint8Array(s.clientDataJSON)),signature:Ps(new Uint8Array(s.signature)),userHandle:s.userHandle?Ps(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function x1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function my(){var e,t;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ZA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new su("Browser returned unexpected credential type",t)}:{data:null,error:new su("Empty credential response",t)}}catch(t){return{data:null,error:HA({error:t,options:e})}}}async function eD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new su("Browser returned unexpected credential type",t)}:{data:null,error:new su("Empty credential response",t)}}catch(t){return{data:null,error:qA({error:t,options:e})}}}const tD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ou(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=ou(a,i):n[o]=ou(i)}else n[o]=i}return n}function nD(e,t){return ou(tD,e,t||{})}function sD(e,t){return ou(rD,e,t||{})}class oD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const l=s??GA.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=nD(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await ZA({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=sD(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await eD(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Va("rpId is required for WebAuthn authentication")};try{if(!my())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Va("rpId is required for WebAuthn registration")};try{if(!my())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Y(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in register",i)}}}}BA();const iD={url:tA,storageKey:rA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gy(e,t,r){return await r()}const yo={};class Ha{get jwks(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},iD),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Ha.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&et()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $A({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=v1(o.fetch),this.lock=o.lock||gy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=UA:this.lock=gy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:g1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=py(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=py(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${h1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(et()&&(r=yA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),cA(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?this._returnResult({error:r}):this._returnResult({error:new Cs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ir}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(Y(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await mo(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},xform:ir})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ir})}else throw new ql("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fy})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fy})}else throw new ql("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new po;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,l,c,d,f,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:g,wallet:b,statement:w,options:x}=t;let y;if(et())if(typeof b=="object")y=b;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")y=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=w1(S[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const j=await y.request({method:"eth_chainId"});C=zA(j)}const T={domain:_.host,address:E,statement:w,uri:_.href,version:"1",chainId:C,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=VA(T),v=await y.request({method:"personal_sign",params:[WA(p),E]})}try{const{data:g,error:b}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ir});if(b)throw b;if(!g||!g.session||!g.user){const w=new po;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(Y(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,l,c,d,f,m,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:w,statement:x,options:y}=t;let _;if(et())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:b,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ps(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ir});if(w)throw w;if(!b||!b.session||!b.user){const x=new po;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Y(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new uA;const{data:o,error:i}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ir});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ir}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new po;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await mo(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new ql("You must provide either an email or phone number.")}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ir});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await mo(this.storage,this.storageKey));const c=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:IA});return!((o=c.data)===null||o===void 0)&&o.url&&et()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nt;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Y(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new ql("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Hd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ys(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Gd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=jA(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Tn})})}catch(r){if(Y(r))return lA(r)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Nt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await mo(this.storage,this.storageKey));const{data:c,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Tn});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Kd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Y(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Nt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!et())throw new Kl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oy("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new Kl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(aA(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=vA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await mo(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Y(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:d}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ir}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new po}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bA(async s=>(s>0&&await xA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ir})),(s,o)=>{const i=200*Math.pow(2,s);return o&&qd(o)&&Date.now()+i-n<Eo})}catch(n){if(this._debug(r,"error",n),Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ys(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Co(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Gd()}else if(s&&!s.user&&!s.user){const i=await ys(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Xe(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,s)):s.user=Gd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Hd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),qd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Nt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Y(o)){const i={data:null,error:o};return qd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Co(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=uy(s);await Co(this.storage,this.storageKey,o)}else{const s=uy(r);await Co(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Lh} ticks`),s<=Lh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await mo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JA(t.webauthn.credential_response):XA(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:QA(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:YA(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Nt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Nt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(t){if(Y(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+oA>s)return n;const{data:o,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Kd(n);r!=null&&r.allowExpired||NA(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=PA(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,mA(`${a}.${l}`)))throw new Uh("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}}Ha.nextInstanceID={};const aD=Ha,lD="2.90.1";let oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";const cD={"X-Client-Info":`supabase-js-${oa}/${lD}`},uD={headers:cD},dD={schema:"public"},fD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hD={};function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function pD(e,t){if(qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mD(e){var t=pD(e,"string");return qa(t)=="symbol"?t:t+""}function gD(e,t,r){return(t=mD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vy(Object(r),!0).forEach(function(n){gD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const vD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yD=()=>Headers,wD=(e,t,r)=>{const n=vD(r),s=yD();return async(o,i)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,$e($e({},i),{},{headers:c}))}};function xD(e){return e.endsWith("/")?e:e+"/"}function bD(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,m={db:$e($e({},l),s),auth:$e($e({},c),o),realtime:$e($e({},d),i),storage:{},global:$e($e($e({},f),a),{},{headers:$e($e({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function _D(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SD=class extends aD{constructor(e){super(e)}},ED=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=_D(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:dD,realtime:hD,auth:$e($e({},fD),{},{storageKey:i}),global:uD},l=bD(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=wD(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new n2(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new eA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new XO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:l,throwOnError:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SD({url:this.authUrl.href,headers:$e($e({},m),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new x2(this.realtimeUrl.href,$e($e({},e),{},{params:$e($e({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const CD=(e,t,r)=>new ED(e,t,r);function kD(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}kD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TD="https://mhrbfgathudkequhmvjs.supabase.co",ND="sb_publishable_h6n1TxuwtoG4MIY9V_p-dg__P1dJXDw",J=CD(TD,ND,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),b1=h.createContext(void 0);function PD({children:e}){const[t,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(null),[a,l]=h.useState(!0),c=async p=>{const{data:v,error:g}=await J.from("profiles").select("*").eq("user_id",p).maybeSingle();return g?(console.error("Error fetching profile:",g),null):v};h.useEffect(()=>{const{data:{subscription:p}}=J.auth.onAuthStateChange(async(v,g)=>{s(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?setTimeout(async()=>{var w;const b=await c(g.user.id);if(b)if(b.username.startsWith("temp_")&&((w=g.user.user_metadata)!=null&&w.username)){const{error:x}=await J.from("profiles").update({username:g.user.user_metadata.username.toLowerCase().trim()}).eq("user_id",g.user.id);if(x)i(b);else{const y=await c(g.user.id);i(y||b)}}else i(b);l(!1)},0):(i(null),l(!1))});return J.auth.getSession().then(async({data:{session:v}})=>{if(s(v),r((v==null?void 0:v.user)??null),v!=null&&v.user){const g=await c(v.user.id);i(g)}l(!1)}),()=>p.unsubscribe()},[]);const d=async(p,v,g)=>{const{data:b}=await J.from("profiles").select("username").eq("username",g).maybeSingle();if(b)return{error:new Error("Username already taken")};const{data:w,error:x}=await J.auth.signUp({email:p,password:v,options:{emailRedirectTo:window.location.origin,data:{username:g.toLowerCase().trim()}}});if(x)return{error:x};if(w.user){let y=!1,_=0;const S=10;for(;!y&&_<S;){const E=await c(w.user.id);if(E){if(y=!0,E.username.startsWith("temp_")){const{error:C}=await J.from("profiles").update({username:g.toLowerCase().trim()}).eq("user_id",w.user.id);if(C)console.warn("Could not update profile username immediately:",C.message),i(E);else{const T=await c(w.user.id);i(T||E)}}else i(E);break}await new Promise(C=>setTimeout(C,100)),_++}if(!y)return{error:new Error("Profile creation timed out. Please try again.")}}return{error:null}},f=async(p,v)=>{const{error:g}=await J.auth.signInWithPassword({email:p,password:v});return{error:g}},m=async()=>{await J.auth.signOut(),i(null)};return u.jsx(b1.Provider,{value:{user:t,session:n,profile:o,loading:a,signUp:d,signIn:f,signOut:m},children:e})}function ge(){const e=h.useContext(b1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function RD(e,t){if(!e.last_message_at||!e.last_message_sender_id||e.last_message_sender_id===t)return!1;const r=e.user1_id===t?e.user1_last_read_at:e.user2_last_read_at;return r?new Date(e.last_message_at)>new Date(r):!0}function _1(){const{user:e}=ge();return Oe({queryKey:["dm_threads",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await J.from("dm_threads").select("*").or(`user1_id.eq.${e.id},user2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(r)throw r;const n=t.map(i=>i.user1_id===e.id?i.user2_id:i.user1_id);if(n.length===0)return[];const{data:s}=await J.from("profiles").select("user_id, username").in("user_id",n),o=new Map((s==null?void 0:s.map(i=>[i.user_id,i.username]))||[]);return t.map(i=>({...i,other_username:o.get(i.user1_id===e.id?i.user2_id:i.user1_id)||"Unknown",hasUnread:RD(i,e.id)}))},enabled:!!e})}function jD(){const{data:e=[]}=_1();return e.filter(t=>t.hasUnread).length}function OD(){const{user:e}=ge(),t=Sr();return oo({mutationFn:async r=>{if(!e)throw new Error("Not authenticated");const[n,s]=[e.id,r].sort(),{data:o}=await J.from("dm_threads").select("*").eq("user1_id",n).eq("user2_id",s).maybeSingle();if(o)return o;const{data:i,error:a}=await J.from("dm_threads").insert({user1_id:n,user2_id:s}).select().single();if(a)throw a;return i},onSuccess:()=>{t.invalidateQueries({queryKey:["dm_threads"]})}})}function AD(e){const{user:t}=ge();return Oe({queryKey:["dm_messages",e],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await J.from("dm_messages").select("*").eq("thread_id",e).order("created_at",{ascending:!0});if(n)throw n;return r},enabled:!!e&&!!t})}function DD(){const{user:e}=ge(),t=Sr();return oo({mutationFn:async({threadId:r,body:n})=>{if(!e)throw new Error("Not authenticated");const{data:s,error:o}=await J.from("dm_messages").insert({thread_id:r,sender_id:e.id,body:n.trim()}).select().single();if(o)throw o;const i=new Date().toISOString(),{error:a}=await J.from("dm_threads").update({last_message_text:n.trim().substring(0,100),last_message_at:i,last_message_sender_id:e.id}).eq("id",r);if(a)throw a;return s},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["dm_messages",n.threadId]}),t.invalidateQueries({queryKey:["dm_threads"]})}})}function ID(){const{user:e}=ge(),t=Sr();return oo({mutationFn:async r=>{if(!e)throw new Error("Not authenticated");const n=new Date().toISOString(),s=r.user1_id===e.id?{user1_last_read_at:n}:{user2_last_read_at:n},{error:o}=await J.from("dm_threads").update(s).eq("id",r.id);if(o)throw o},onSuccess:()=>{t.invalidateQueries({queryKey:["dm_threads"]})}})}function MD(e){const t=Sr();h.useEffect(()=>{if(!e)return;const r=J.channel(`dm_messages_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"dm_messages",filter:`thread_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["dm_messages",e]}),t.invalidateQueries({queryKey:["dm_threads"]})}).subscribe();return()=>{J.removeChannel(r)}},[e,t])}function LD(){const{user:e}=ge(),t=Sr();h.useEffect(()=>{if(!e)return;const r=J.channel("dm_threads_updates").on("postgres_changes",{event:"*",schema:"public",table:"dm_threads"},()=>{t.invalidateQueries({queryKey:["dm_threads"]})}).subscribe();return()=>{J.removeChannel(r)}},[e,t])}const $D=[{path:"/leaderboard",icon:cN,label:"Rank"},{path:"/calendar",icon:om,label:"Calendar"},{path:"/",icon:Ou,label:"Check"},{path:"/messages",icon:qx,label:"Messages",showBadge:!0},{path:"/profile",icon:uN,label:"Profile"}];function FD(){const e=ln(),t=jD();return LD(),u.jsx("nav",{className:"tab-nav",children:u.jsx("div",{className:"flex items-stretch",children:$D.map(r=>{const n=e.pathname===r.path,s=r.icon,o=r.showBadge&&t>0;return u.jsxs(HO,{to:r.path,className:`flex-1 tab-item ${n?"tab-item-active":""}`,children:[u.jsxs("div",{className:"relative",children:[u.jsx(s,{size:24,strokeWidth:n?2.5:2}),o&&u.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]}),u.jsx("span",{className:"text-xs font-medium mt-1",children:r.label})]},r.path)})})})}function UD({children:e}){return u.jsxs("div",{className:"min-h-screen bg-background",children:[e,u.jsx(FD,{})]})}const Am=ju("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?pT:"button";return u.jsx(i,{className:Q(Am({variant:t,size:r,className:e})),ref:o,...s})});ce.displayName="Button";function S1({monthCount:e}){return u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("span",{className:"text-lg font-bold uppercase tracking-wide",children:[e," ",e===1?"coffee":"coffees"," this month"]})})})}var Yd="focusScope.autoFocusOnMount",Jd="focusScope.autoFocusOnUnmount",yy={bubbles:!1,cancelable:!0},BD="FocusScope",zu=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=h.useState(null),c=wr(s),d=wr(o),f=h.useRef(null),m=pe(t,g=>l(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(y){if(p.paused||!a)return;const _=y.target;a.contains(_)?f.current=_:bn(f.current,{select:!0})},b=function(y){if(p.paused||!a)return;const _=y.relatedTarget;_!==null&&(a.contains(_)||bn(f.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&bn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,a,p.paused]),h.useEffect(()=>{if(a){xy.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Yd,yy);a.addEventListener(Yd,c),a.dispatchEvent(w),w.defaultPrevented||(zD(KD(E1(a)),{select:!0}),document.activeElement===g&&bn(a))}return()=>{a.removeEventListener(Yd,c),setTimeout(()=>{const w=new CustomEvent(Jd,yy);a.addEventListener(Jd,d),a.dispatchEvent(w),w.defaultPrevented||bn(g??document.body,{select:!0}),a.removeEventListener(Jd,d),xy.remove(p)},0)}}},[a,c,d,p]);const v=h.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const x=g.currentTarget,[y,_]=WD(x);y&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&bn(y,{select:!0})):g.shiftKey&&w===y&&(g.preventDefault(),r&&bn(_,{select:!0})):w===x&&g.preventDefault()}},[r,n,p.paused]);return u.jsx(se.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});zu.displayName=BD;function zD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bn(n,{select:t}),document.activeElement!==r)return}function WD(e){const t=E1(e),r=wy(t,e),n=wy(t.reverse(),e);return[r,n]}function E1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wy(e,t){for(const r of e)if(!VD(r,{upTo:t}))return r}function VD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HD(e){return e instanceof HTMLInputElement&&"select"in e}function bn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&HD(e)&&t&&e.select()}}var xy=qD();function qD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=by(e,t),e.unshift(t)},remove(t){var r;e=by(e,t),(r=e[0])==null||r.resume()}}}function by(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function KD(e){return e.filter(t=>t.tagName!=="A")}var Xd=0;function Dm(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_y()),document.body.insertAdjacentElement("beforeend",e[1]??_y()),Xd++,()=>{Xd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xd--}},[])}function _y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yc="right-scroll-bar-position",wc="width-before-scroll-bar",GD="with-scroll-bars-hidden",QD="--removed-body-scroll-bar-size";function Zd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YD(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var JD=typeof window<"u"?h.useLayoutEffect:h.useEffect,Sy=new WeakMap;function XD(e,t){var r=YD(null,function(n){return e.forEach(function(s){return Zd(s,n)})});return JD(function(){var n=Sy.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Zd(a,null)}),o.forEach(function(a){s.has(a)||Zd(a,i)})}Sy.set(r,e)},[e]),r}function ZD(e){return e}function eI(e,t){t===void 0&&(t=ZD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),r}}}};return s}function tI(e){e===void 0&&(e={});var t=eI(null);return t.options=jr({async:!0,ssr:!1},e),t}var C1=function(e){var t=e.sideCar,r=Ai(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,jr({},r))};C1.isSideCarExport=!0;function rI(e,t){return e.useMedium(t),C1}var k1=tI(),ef=function(){},Wu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:ef,onWheelCapture:ef,onTouchMoveCapture:ef}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,b=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,y=e.gapMode,_=Ai(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,E=XD([r,t]),C=jr(jr({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:k1,removeScrollBar:c,shards:f,noRelative:p,noIsolation:v,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:y}),i?h.cloneElement(h.Children.only(a),jr(jr({},C),{ref:E})):h.createElement(x,jr({},C,{className:l,ref:E}),a))});Wu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wu.classNames={fullWidth:wc,zeroRight:yc};var nI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nI();return t&&e.setAttribute("nonce",t),e}function oI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=sI())&&(oI(t,r),iI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lI=function(){var e=aI();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T1=function(){var e=lI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},cI={left:0,top:0,right:0,gap:0},tf=function(e){return parseInt(e||"",10)||0},uI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[tf(r),tf(n),tf(s)]},dI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cI;var t=uI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},fI=T1(),Yo="data-scroll-locked",hI=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(QD,": ").concat(a,`px;
  }
`)},Ey=function(){var e=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(e)?e:0},pI=function(){h.useEffect(function(){return document.body.setAttribute(Yo,(Ey()+1).toString()),function(){var e=Ey()-1;e<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,e.toString())}},[])},mI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;pI();var o=h.useMemo(function(){return dI(s)},[s]);return h.createElement(fI,{styles:hI(o,!t,s,r?"":"!important")})},Bh=!1;if(typeof window<"u")try{var Gl=Object.defineProperty({},"passive",{get:function(){return Bh=!0,!0}});window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Bh=!1}var wo=Bh?{passive:!1}:!1,gI=function(e){return e.tagName==="TEXTAREA"},N1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gI(e)&&r[t]==="visible")},vI=function(e){return N1(e,"overflowY")},yI=function(e){return N1(e,"overflowX")},Cy=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=P1(e,n);if(s){var o=R1(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},P1=function(e,t){return e==="v"?vI(t):yI(t)},R1=function(e,t){return e==="v"?wI(t):xI(t)},bI=function(e,t){return e==="h"&&t==="rtl"?-1:1},_I=function(e,t,r,n,s){var o=bI(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,l=t.contains(a),c=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=R1(e,a),v=p[0],g=p[1],b=p[2],w=g-b-o*v;(v||w)&&P1(e,a)&&(f+=w,m+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},Ql=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ky=function(e){return[e.deltaX,e.deltaY]},Ty=function(e){return e&&"current"in e?e.current:e},SI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},EI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CI=0,xo=[];function kI(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(CI++)[0],o=h.useState(T1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=QO([e.lockRef.current],(e.shards||[]).map(Ty),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Ql(g),x=r.current,y="deltaX"in g?g.deltaX:x[0]-w[0],_="deltaY"in g?g.deltaY:x[1]-w[1],S,E=g.target,C=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var T=Cy(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=Cy(C,E)),!T)return!1;if(!n.current&&"changedTouches"in g&&(y||_)&&(n.current=S),!S)return!0;var j=n.current||S;return _I(j,b,g,j==="h"?y:_)},[]),l=h.useCallback(function(g){var b=g;if(!(!xo.length||xo[xo.length-1]!==o)){var w="deltaY"in b?ky(b):Ql(b),x=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&SI(S.delta,w)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(i.current.shards||[]).map(Ty).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=y.length>0?a(b,y[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),c=h.useCallback(function(g,b,w,x){var y={name:g,delta:b,target:w,should:x,shadowParent:TI(w)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),d=h.useCallback(function(g){r.current=Ql(g),n.current=void 0},[]),f=h.useCallback(function(g){c(g.type,ky(g),g.target,a(g,e.lockRef.current))},[]),m=h.useCallback(function(g){c(g.type,Ql(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return xo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",d,wo),function(){xo=xo.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",d,wo)}},[]);var p=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(o,{styles:EI(s)}):null,p?h.createElement(mI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function TI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NI=rI(k1,kI);var Vu=h.forwardRef(function(e,t){return h.createElement(Wu,jr({},e,{ref:t,sideCar:NI}))});Vu.classNames=Wu.classNames;var PI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bo=new WeakMap,Yl=new WeakMap,Jl={},rf=0,j1=function(e){return e&&(e.host||j1(e.parentNode))},RI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=j1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jI=function(e,t,r,n){var s=RI(t,Array.isArray(e)?e:[e]);Jl[r]||(Jl[r]=new WeakMap);var o=Jl[r],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(n),v=p!==null&&p!=="false",g=(bo.get(m)||0)+1,b=(o.get(m)||0)+1;bo.set(m,g),o.set(m,b),i.push(m),g===1&&v&&Yl.set(m,!0),b===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),a.clear(),rf++,function(){i.forEach(function(f){var m=bo.get(f)-1,p=o.get(f)-1;bo.set(f,m),o.set(f,p),m||(Yl.has(f)||f.removeAttribute(n),Yl.delete(f)),p||f.removeAttribute(r)}),rf--,rf||(bo=new WeakMap,bo=new WeakMap,Yl=new WeakMap,Jl={})}},Im=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=PI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),jI(n,s,r,"aria-hidden")):function(){return null}},Hu="Dialog",[O1,A1]=on(Hu),[OI,Er]=O1(Hu),D1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),l=h.useRef(null),[c,d]=vi({prop:n,defaultProp:s??!1,onChange:o,caller:Hu});return u.jsx(OI,{scope:t,triggerRef:a,contentRef:l,contentId:It(),titleId:It(),descriptionId:It(),open:c,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};D1.displayName=Hu;var I1="DialogTrigger",M1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(I1,r),o=pe(t,s.triggerRef);return u.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$m(s.open),...n,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});M1.displayName=I1;var Mm="DialogPortal",[AI,L1]=O1(Mm,{forceMount:void 0}),$1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Er(Mm,t);return u.jsx(AI,{scope:t,forceMount:r,children:h.Children.map(n,i=>u.jsx(as,{present:r||o.open,children:u.jsx(cl,{asChild:!0,container:s,children:i})}))})};$1.displayName=Mm;var iu="DialogOverlay",F1=h.forwardRef((e,t)=>{const r=L1(iu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Er(iu,e.__scopeDialog);return o.modal?u.jsx(as,{present:n||o.open,children:u.jsx(II,{...s,ref:t})}):null});F1.displayName=iu;var DI=Ks("DialogOverlay.RemoveScroll"),II=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(iu,r);return u.jsx(Vu,{as:DI,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(se.div,{"data-state":$m(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Js="DialogContent",U1=h.forwardRef((e,t)=>{const r=L1(Js,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Er(Js,e.__scopeDialog);return u.jsx(as,{present:n||o.open,children:o.modal?u.jsx(MI,{...s,ref:t}):u.jsx(LI,{...s,ref:t})})});U1.displayName=Js;var MI=h.forwardRef((e,t)=>{const r=Er(Js,e.__scopeDialog),n=h.useRef(null),s=pe(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Im(o)},[]),u.jsx(B1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),LI=h.forwardRef((e,t)=>{const r=Er(Js,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return u.jsx(B1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),B1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Er(Js,r),l=h.useRef(null),c=pe(t,l);return Dm(),u.jsxs(u.Fragment,{children:[u.jsx(zu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Ci,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$m(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(FI,{titleId:a.titleId}),u.jsx(BI,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Lm="DialogTitle",z1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(Lm,r);return u.jsx(se.h2,{id:s.titleId,...n,ref:t})});z1.displayName=Lm;var W1="DialogDescription",V1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(W1,r);return u.jsx(se.p,{id:s.descriptionId,...n,ref:t})});V1.displayName=W1;var H1="DialogClose",q1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(H1,r);return u.jsx(se.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});q1.displayName=H1;function $m(e){return e?"open":"closed"}var K1="DialogTitleWarning",[$I,G1]=fT(K1,{contentName:Js,titleName:Lm,docsSlug:"dialog"}),FI=({titleId:e})=>{const t=G1(K1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},UI="DialogDescriptionWarning",BI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G1(UI).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},qu=D1,zI=M1,Ku=$1,Di=F1,Ii=U1,pl=z1,ml=V1,Gu=q1;const Ka=qu,WI=Ku,Q1=h.forwardRef(({className:e,...t},r)=>u.jsx(Di,{ref:r,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q1.displayName=Di.displayName;const xi=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(WI,{children:[u.jsx(Q1,{}),u.jsxs(Ii,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(Gu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(dl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xi.displayName=Ii.displayName;const Ga=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ga.displayName="DialogHeader";const Qa=h.forwardRef(({className:e,...t},r)=>u.jsx(pl,{ref:r,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));Qa.displayName=pl.displayName;const VI=h.forwardRef(({className:e,...t},r)=>u.jsx(ml,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));VI.displayName=ml.displayName;const Ny=["PERFECT BREW!","CAFFEINE LEGEND!","COFFEE MASTER!","BREW-TASTIC!","ESPRESSO EXCELLENCE!","LATTE ARTIST!","COFFEE CONNOISSEUR!","CAFFEINE CHAMPION!"];function HI({open:e,onOpenChange:t,percentBeat:r}){const[n,s]=h.useState("");return h.useEffect(()=>{if(e){const o=Ny[Math.floor(Math.random()*Ny.length)];s(o)}},[e]),u.jsx(Ka,{open:e,onOpenChange:t,children:u.jsx(xi,{className:"bg-foreground text-background border-none p-8 text-center max-w-sm",children:u.jsxs("div",{className:"animate-scale-in",children:[u.jsx("div",{className:"text-6xl mb-6",children:""}),u.jsx("h2",{className:"text-2xl font-black mb-4",children:n}),u.jsxs("p",{className:"text-lg font-medium opacity-80",children:["You beat ",r,"% of users today"]})]})})})}const qI=qu,KI=Ku,Y1=h.forwardRef(({className:e,...t},r)=>u.jsx(Di,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Y1.displayName=Di.displayName;const GI=ju("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),J1=h.forwardRef(({side:e="right",className:t,children:r,...n},s)=>u.jsxs(KI,{children:[u.jsx(Y1,{}),u.jsxs(Ii,{ref:s,className:Q(GI({side:e}),t),...n,children:[r,u.jsxs(Gu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(dl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));J1.displayName=Ii.displayName;const X1=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});X1.displayName="SheetHeader";const Z1=h.forwardRef(({className:e,...t},r)=>u.jsx(pl,{ref:r,className:Q("text-lg font-semibold text-foreground",e),...t}));Z1.displayName=pl.displayName;const e_=h.forwardRef(({className:e,...t},r)=>u.jsx(ml,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));e_.displayName=ml.displayName;const Ge=h.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ge.displayName="Input";var QI="Label",t_=h.forwardRef((e,t)=>u.jsx(se.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));t_.displayName=QI;var r_=t_;const YI=ju("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=h.forwardRef(({className:e,...t},r)=>u.jsx(r_,{ref:r,className:Q(YI(),e),...t}));Re.displayName=r_.displayName;function au(e,[t,r]){return Math.min(r,Math.max(t,e))}var JI=h.createContext(void 0);function n_(e){const t=h.useContext(JI);return e||t||"ltr"}function s_(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var o_=["PageUp","PageDown"],i_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],a_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mi="Slider",[zh,XI,ZI]=tm(Mi),[l_]=on(Mi,[ZI]),[e4,Qu]=l_(Mi),c_=h.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:v,...g}=e,b=h.useRef(new Set),w=h.useRef(0),y=i==="horizontal"?t4:r4,[_=[],S]=vi({prop:d,defaultProp:c,onChange:D=>{var q;(q=[...b.current][w.current])==null||q.focus(),f(D)}}),E=h.useRef(_);function C(D){const A=a4(_,D);O(D,A)}function T(D){O(D,w.current)}function j(){const D=E.current[w.current];_[w.current]!==D&&m(_)}function O(D,A,{commit:q}={commit:!1}){const M=d4(o),I=f4(Math.round((D-n)/o)*o+n,M),L=au(I,[n,s]);S((F=[])=>{const N=o4(F,L,A);if(u4(N,l*o)){w.current=N.indexOf(L);const R=String(N)!==String(F);return R&&q&&m(N),R?N:F}else return F})}return u.jsx(e4,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:w,thumbs:b.current,values:_,orientation:i,form:v,children:u.jsx(zh.Provider,{scope:e.__scopeSlider,children:u.jsx(zh.Slot,{scope:e.__scopeSlider,children:u.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:t,onPointerDown:Z(g.onPointerDown,()=>{a||(E.current=_)}),min:n,max:s,inverted:p,onSlideStart:a?void 0:C,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:j,onHomeKeyDown:()=>!a&&O(n,0,{commit:!0}),onEndKeyDown:()=>!a&&O(s,_.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:A})=>{if(!a){const I=o_.includes(D.key)||D.shiftKey&&i_.includes(D.key)?10:1,L=w.current,F=_[L],N=o*I*A;O(F+N,L,{commit:!0})}}})})})})});c_.displayName=Mi;var[u_,d_]=l_(Mi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),t4=h.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[f,m]=h.useState(null),p=pe(t,y=>m(y)),v=h.useRef(void 0),g=n_(s),b=g==="ltr",w=b&&!o||!b&&o;function x(y){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],C=Fm(S,w?[r,n]:[n,r]);return v.current=_,C(y-_.left)}return u.jsx(u_,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:u.jsx(f_,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const _=x(y.clientX);i==null||i(_)},onSlideMove:y=>{const _=x(y.clientX);a==null||a(_)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:y=>{const S=a_[w?"from-left":"from-right"].includes(y.key);c==null||c({event:y,direction:S?-1:1})}})})}),r4=h.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=h.useRef(null),f=pe(t,d),m=h.useRef(void 0),p=!s;function v(g){const b=m.current||d.current.getBoundingClientRect(),w=[0,b.height],y=Fm(w,p?[n,r]:[r,n]);return m.current=b,y(g-b.top)}return u.jsx(u_,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:u.jsx(f_,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=v(g.clientY);o==null||o(b)},onSlideMove:g=>{const b=v(g.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:g=>{const w=a_[p?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:w?-1:1})}})})}),f_=h.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=Qu(Mi,r);return u.jsx(se.span,{...c,ref:t,onKeyDown:Z(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):o_.concat(i_).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Z(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Z(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Z(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),o(f))})})}),h_="SliderTrack",p_=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Qu(h_,r);return u.jsx(se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});p_.displayName=h_;var Wh="SliderRange",m_=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Qu(Wh,r),o=d_(Wh,r),i=h.useRef(null),a=pe(t,i),l=s.values.length,c=s.values.map(m=>y_(m,s.min,s.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});m_.displayName=Wh;var Vh="SliderThumb",g_=h.forwardRef((e,t)=>{const r=XI(e.__scopeSlider),[n,s]=h.useState(null),o=pe(t,a=>s(a)),i=h.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return u.jsx(n4,{...e,ref:o,index:i})}),n4=h.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=Qu(Vh,r),a=d_(Vh,r),[l,c]=h.useState(null),d=pe(t,x=>c(x)),f=l?i.form||!!l.closest("form"):!0,m=gb(l),p=i.values[n],v=p===void 0?0:y_(p,i.min,i.max),g=i4(n,i.values.length),b=m==null?void 0:m[a.size],w=b?l4(b,v,a.direction):0;return h.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${w}px)`},children:[u.jsx(zh.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:Z(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&u.jsx(v_,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});g_.displayName=Vh;var s4="RadioBubbleInput",v_=h.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=h.useRef(null),o=pe(s,n),i=s_(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(se.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});v_.displayName=s4;function o4(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function y_(e,t,r){const o=100/(r-t)*(e-t);return au(o,[0,100])}function i4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function a4(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function l4(e,t,r){const n=e/2,o=Fm([0,50],[0,n]);return(n-o(t)*r)*r}function c4(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function u4(e,t){if(t>0){const r=c4(e);return Math.min(...r)>=t}return!0}function Fm(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function d4(e){return(String(e).split(".")[1]||"").length}function f4(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var w_=c_,h4=p_,p4=m_,m4=g_;const x_=h.forwardRef(({className:e,...t},r)=>u.jsxs(w_,{ref:r,className:Q("relative flex w-full touch-none select-none items-center",e),...t,children:[u.jsx(h4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(p4,{className:"absolute h-full bg-primary"})}),u.jsx(m4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));x_.displayName=w_.displayName;const Yu=h.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yu.displayName="Textarea";var Ju="Popover",[b_]=on(Ju,[Pi]),gl=Pi(),[g4,cs]=b_(Ju),__=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=gl(t),l=h.useRef(null),[c,d]=h.useState(!1),[f,m]=vi({prop:n,defaultProp:s??!1,onChange:o,caller:Ju});return u.jsx(kb,{...a,children:u.jsx(g4,{scope:t,contentId:It(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};__.displayName=Ju;var S_="PopoverAnchor",v4=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=cs(S_,r),o=gl(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(i(),()=>a()),[i,a]),u.jsx(Mu,{...o,...n,ref:t})});v4.displayName=S_;var E_="PopoverTrigger",C_=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=cs(E_,r),o=gl(r),i=pe(t,s.triggerRef),a=u.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":R_(s.open),...n,ref:i,onClick:Z(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(Mu,{asChild:!0,...o,children:a})});C_.displayName=E_;var Um="PopoverPortal",[y4,w4]=b_(Um,{forceMount:void 0}),k_=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=cs(Um,t);return u.jsx(y4,{scope:t,forceMount:r,children:u.jsx(as,{present:r||o.open,children:u.jsx(cl,{asChild:!0,container:s,children:n})})})};k_.displayName=Um;var bi="PopoverContent",T_=h.forwardRef((e,t)=>{const r=w4(bi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=cs(bi,e.__scopePopover);return u.jsx(as,{present:n||o.open,children:o.modal?u.jsx(b4,{...s,ref:t}):u.jsx(_4,{...s,ref:t})})});T_.displayName=bi;var x4=Ks("PopoverContent.RemoveScroll"),b4=h.forwardRef((e,t)=>{const r=cs(bi,e.__scopePopover),n=h.useRef(null),s=pe(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return Im(i)},[]),u.jsx(Vu,{as:x4,allowPinchZoom:!0,children:u.jsx(N_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Z(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),_4=h.forwardRef((e,t)=>{const r=cs(bi,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return u.jsx(N_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),N_=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,m=cs(bi,r),p=gl(r);return Dm(),u.jsx(zu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(vm,{"data-state":R_(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),P_="PopoverClose",S4=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=cs(P_,r);return u.jsx(se.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});S4.displayName=P_;var E4="PopoverArrow",C4=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=gl(r);return u.jsx(ym,{...s,...n,ref:t})});C4.displayName=E4;function R_(e){return e?"open":"closed"}var k4=__,T4=C_,N4=k_,j_=T_;const P4=k4,R4=T4,O_=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>u.jsx(N4,{children:u.jsx(j_,{ref:s,align:t,sideOffset:r,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));O_.displayName=j_.displayName;var Py=1,j4=.9,O4=.8,A4=.17,nf=.1,sf=.999,D4=.9999,I4=.99,M4=/[\\\/_+.#"@\[\(\{&]/,L4=/[\\\/_+.#"@\[\(\{&]/g,$4=/[\s-]/,A_=/[\s-]/g;function Hh(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?Py:I4;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var l=n.charAt(o),c=r.indexOf(l,s),d=0,f,m,p,v;c>=0;)f=Hh(e,t,r,n,c+1,o+1,i),f>d&&(c===s?f*=Py:M4.test(e.charAt(c-1))?(f*=O4,p=e.slice(s,c-1).match(L4),p&&s>0&&(f*=Math.pow(sf,p.length))):$4.test(e.charAt(c-1))?(f*=j4,v=e.slice(s,c-1).match(A_),v&&s>0&&(f*=Math.pow(sf,v.length))):(f*=A4,s>0&&(f*=Math.pow(sf,c-s))),e.charAt(c)!==t.charAt(o)&&(f*=D4)),(f<nf&&r.charAt(c-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(c-1)!==n.charAt(o))&&(m=Hh(e,t,r,n,c+1,o+2,i),m*nf>f&&(f=m*nf)),f>d&&(d=f),c=r.indexOf(l,c+1);return i[a]=d,d}function Ry(e){return e.toLowerCase().replace(A_," ")}function F4(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Hh(e,t,Ry(e),Ry(t),0,0,{})}var Yi='[cmdk-group=""]',of='[cmdk-group-items=""]',U4='[cmdk-group-heading=""]',D_='[cmdk-item=""]',jy=`${D_}:not([aria-disabled="true"])`,qh="cmdk-item-select",ko="data-value",B4=(e,t,r)=>F4(e,t,r),I_=h.createContext(void 0),vl=()=>h.useContext(I_),M_=h.createContext(void 0),Bm=()=>h.useContext(M_),L_=h.createContext(void 0),$_=h.forwardRef((e,t)=>{let r=To(()=>{var P,B;return{search:"",value:(B=(P=e.value)!=null?P:e.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=To(()=>new Set),s=To(()=>new Map),o=To(()=>new Map),i=To(()=>new Set),a=F_(e),{label:l,children:c,value:d,onValueChange:f,filter:m,shouldFilter:p,loop:v,disablePointerSelection:g=!1,vimBindings:b=!0,...w}=e,x=It(),y=It(),_=It(),S=h.useRef(null),E=X4();Xs(()=>{if(d!==void 0){let P=d.trim();r.current.value=P,C.emit()}},[d]),Xs(()=>{E(6,q)},[]);let C=h.useMemo(()=>({subscribe:P=>(i.current.add(P),()=>i.current.delete(P)),snapshot:()=>r.current,setState:(P,B,V)=>{var H,te,$,oe;if(!Object.is(r.current[P],B)){if(r.current[P]=B,P==="search")A(),O(),E(1,D);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ue=document.getElementById(_);ue?ue.focus():(H=document.getElementById(x))==null||H.focus()}if(E(7,()=>{var ue;r.current.selectedItemId=(ue=M())==null?void 0:ue.id,C.emit()}),V||E(5,q),((te=a.current)==null?void 0:te.value)!==void 0){let ue=B??"";(oe=($=a.current).onValueChange)==null||oe.call($,ue);return}}C.emit()}},emit:()=>{i.current.forEach(P=>P())}}),[]),T=h.useMemo(()=>({value:(P,B,V)=>{var H;B!==((H=o.current.get(P))==null?void 0:H.value)&&(o.current.set(P,{value:B,keywords:V}),r.current.filtered.items.set(P,j(B,V)),E(2,()=>{O(),C.emit()}))},item:(P,B)=>(n.current.add(P),B&&(s.current.has(B)?s.current.get(B).add(P):s.current.set(B,new Set([P]))),E(3,()=>{A(),O(),r.current.value||D(),C.emit()}),()=>{o.current.delete(P),n.current.delete(P),r.current.filtered.items.delete(P);let V=M();E(4,()=>{A(),(V==null?void 0:V.getAttribute("id"))===P&&D(),C.emit()})}),group:P=>(s.current.has(P)||s.current.set(P,new Set),()=>{o.current.delete(P),s.current.delete(P)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:x,inputId:_,labelId:y,listInnerRef:S}),[]);function j(P,B){var V,H;let te=(H=(V=a.current)==null?void 0:V.filter)!=null?H:B4;return P?te(P,r.current.search,B):0}function O(){if(!r.current.search||a.current.shouldFilter===!1)return;let P=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(H=>{let te=s.current.get(H),$=0;te.forEach(oe=>{let ue=P.get(oe);$=Math.max(ue,$)}),B.push([H,$])});let V=S.current;I().sort((H,te)=>{var $,oe;let ue=H.getAttribute("id"),fe=te.getAttribute("id");return(($=P.get(fe))!=null?$:0)-((oe=P.get(ue))!=null?oe:0)}).forEach(H=>{let te=H.closest(of);te?te.appendChild(H.parentElement===te?H:H.closest(`${of} > *`)):V.appendChild(H.parentElement===V?H:H.closest(`${of} > *`))}),B.sort((H,te)=>te[1]-H[1]).forEach(H=>{var te;let $=(te=S.current)==null?void 0:te.querySelector(`${Yi}[${ko}="${encodeURIComponent(H[0])}"]`);$==null||$.parentElement.appendChild($)})}function D(){let P=I().find(V=>V.getAttribute("aria-disabled")!=="true"),B=P==null?void 0:P.getAttribute(ko);C.setState("value",B||void 0)}function A(){var P,B,V,H;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let te=0;for(let $ of n.current){let oe=(B=(P=o.current.get($))==null?void 0:P.value)!=null?B:"",ue=(H=(V=o.current.get($))==null?void 0:V.keywords)!=null?H:[],fe=j(oe,ue);r.current.filtered.items.set($,fe),fe>0&&te++}for(let[$,oe]of s.current)for(let ue of oe)if(r.current.filtered.items.get(ue)>0){r.current.filtered.groups.add($);break}r.current.filtered.count=te}function q(){var P,B,V;let H=M();H&&(((P=H.parentElement)==null?void 0:P.firstChild)===H&&((V=(B=H.closest(Yi))==null?void 0:B.querySelector(U4))==null||V.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function M(){var P;return(P=S.current)==null?void 0:P.querySelector(`${D_}[aria-selected="true"]`)}function I(){var P;return Array.from(((P=S.current)==null?void 0:P.querySelectorAll(jy))||[])}function L(P){let B=I()[P];B&&C.setState("value",B.getAttribute(ko))}function F(P){var B;let V=M(),H=I(),te=H.findIndex(oe=>oe===V),$=H[te+P];(B=a.current)!=null&&B.loop&&($=te+P<0?H[H.length-1]:te+P===H.length?H[0]:H[te+P]),$&&C.setState("value",$.getAttribute(ko))}function N(P){let B=M(),V=B==null?void 0:B.closest(Yi),H;for(;V&&!H;)V=P>0?Y4(V,Yi):J4(V,Yi),H=V==null?void 0:V.querySelector(jy);H?C.setState("value",H.getAttribute(ko)):F(P)}let R=()=>L(I().length-1),z=P=>{P.preventDefault(),P.metaKey?R():P.altKey?N(1):F(1)},ee=P=>{P.preventDefault(),P.metaKey?L(0):P.altKey?N(-1):F(-1)};return h.createElement(se.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:P=>{var B;(B=w.onKeyDown)==null||B.call(w,P);let V=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||V))switch(P.key){case"n":case"j":{b&&P.ctrlKey&&z(P);break}case"ArrowDown":{z(P);break}case"p":case"k":{b&&P.ctrlKey&&ee(P);break}case"ArrowUp":{ee(P);break}case"Home":{P.preventDefault(),L(0);break}case"End":{P.preventDefault(),R();break}case"Enter":{P.preventDefault();let H=M();if(H){let te=new Event(qh);H.dispatchEvent(te)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:eM},l),Xu(e,P=>h.createElement(M_.Provider,{value:C},h.createElement(I_.Provider,{value:T},P))))}),z4=h.forwardRef((e,t)=>{var r,n;let s=It(),o=h.useRef(null),i=h.useContext(L_),a=vl(),l=F_(e),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Xs(()=>{if(!c)return a.item(s,i==null?void 0:i.id)},[c]);let d=U_(s,o,[e.value,e.children,o],e.keywords),f=Bm(),m=rs(E=>E.value&&E.value===d.current),p=rs(E=>c||a.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);h.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(qh,v),()=>E.removeEventListener(qh,v)},[p,e.onSelect,e.disabled]);function v(){var E,C;g(),(C=(E=l.current).onSelect)==null||C.call(E,d.current)}function g(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:w,onSelect:x,forceMount:y,keywords:_,...S}=e;return h.createElement(se.div,{ref:qs(o,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||a.getDisablePointerSelection()?void 0:g,onClick:b?void 0:v},e.children)}),W4=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=It(),a=h.useRef(null),l=h.useRef(null),c=It(),d=vl(),f=rs(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);Xs(()=>d.group(i),[]),U_(i,a,[e.value,e.heading,l]);let m=h.useMemo(()=>({id:i,forceMount:s}),[s]);return h.createElement(se.div,{ref:qs(a,t),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Xu(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},h.createElement(L_.Provider,{value:m},p))))}),V4=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=h.useRef(null),o=rs(i=>!i.search);return!r&&!o?null:h.createElement(se.div,{ref:qs(s,t),...n,"cmdk-separator":"",role:"separator"})}),H4=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=Bm(),i=rs(c=>c.search),a=rs(c=>c.selectedItemId),l=vl();return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement(se.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:i,onChange:c=>{s||o.setState("search",c.target.value),r==null||r(c.target.value)}})}),q4=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=h.useRef(null),i=h.useRef(null),a=rs(c=>c.selectedItemId),l=vl();return h.useEffect(()=>{if(i.current&&o.current){let c=i.current,d=o.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=c.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(f),m.unobserve(c)}}},[]),h.createElement(se.div,{ref:qs(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},Xu(e,c=>h.createElement("div",{ref:qs(i,l.listInnerRef),"cmdk-list-sizer":""},c)))}),K4=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return h.createElement(qu,{open:r,onOpenChange:n},h.createElement(Ku,{container:i},h.createElement(Di,{"cmdk-overlay":"",className:s}),h.createElement(Ii,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement($_,{ref:t,...a}))))}),G4=h.forwardRef((e,t)=>rs(r=>r.filtered.count===0)?h.createElement(se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Q4=h.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return h.createElement(se.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Xu(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),Tt=Object.assign($_,{List:q4,Item:z4,Input:H4,Group:W4,Separator:V4,Dialog:K4,Empty:G4,Loading:Q4});function Y4(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function J4(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function F_(e){let t=h.useRef(e);return Xs(()=>{t.current=e}),t}var Xs=typeof window>"u"?h.useEffect:h.useLayoutEffect;function To(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function rs(e){let t=Bm(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function U_(e,t,r,n=[]){let s=h.useRef(),o=vl();return Xs(()=>{var i;let a=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():s.current}})(),l=n.map(c=>c.trim());o.value(e,a,l),(i=t.current)==null||i.setAttribute(ko,a),s.current=a}),s}var X4=()=>{let[e,t]=h.useState(),r=To(()=>new Map);return Xs(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function Z4(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Xu({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(Z4(t),{ref:t.ref},r(t.props.children)):r(t)}var eM={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const B_=h.forwardRef(({className:e,...t},r)=>u.jsx(Tt,{ref:r,className:Q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));B_.displayName=Tt.displayName;const z_=h.forwardRef(({className:e,...t},r)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(im,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Tt.Input,{ref:r,className:Q("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));z_.displayName=Tt.Input.displayName;const W_=h.forwardRef(({className:e,...t},r)=>u.jsx(Tt.List,{ref:r,className:Q("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));W_.displayName=Tt.List.displayName;const V_=h.forwardRef((e,t)=>u.jsx(Tt.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));V_.displayName=Tt.Empty.displayName;const H_=h.forwardRef(({className:e,...t},r)=>u.jsx(Tt.Group,{ref:r,className:Q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));H_.displayName=Tt.Group.displayName;const tM=h.forwardRef(({className:e,...t},r)=>u.jsx(Tt.Separator,{ref:r,className:Q("-mx-1 h-px bg-border",e),...t}));tM.displayName=Tt.Separator.displayName;const q_=h.forwardRef(({className:e,...t},r)=>u.jsx(Tt.Item,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));q_.displayName=Tt.Item.displayName;const rM=["Espresso","Doppio","Ristretto","Lungo","Americano","Long Black","Cappuccino","Latte","Flat White","Piccolo","Cortado","Macchiato","Mocha","Affogato","Caf au lait","Breve","Vienna","Irish Coffee","Iced Americano","Iced Latte","Iced Cappuccino","Iced Mocha","Cold Brew","Nitro Cold Brew","Espresso Tonic","Pour-over (V60)","Chemex","AeroPress","French Press","Moka Pot","Siphon","Turkish Coffee","Instant Coffee","Decaf","Drip Coffee","Filter Coffee","Oat Latte","Soy Latte","Almond Latte","Coconut Latte","Dirty (espresso + milk)","Latte with syrup (vanilla/caramel/hazelnut)","Other"];function K_({value:e,onChange:t,maxSelected:r=2,label:n="Coffee type (choose up to 2)",className:s,onMaxReached:o}){const[i,a]=h.useState(!1),[l,c]=h.useState(""),d=rM.filter(v=>v.toLowerCase().includes(l.toLowerCase())),f=v=>{if(e.includes(v))t(e.filter(g=>g!==v));else{if(e.length>=r){o&&o();return}t([...e,v])}c("")},m=v=>{t(e.filter(g=>g!==v))},p=e.length===0?"Search coffee":e.length===1?e[0]:`${e.length} selected`;return u.jsxs("div",{className:Q("space-y-2",s),children:[n&&u.jsx(Re,{className:"text-sm font-semibold",children:n}),e.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(v=>u.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-md text-sm",children:[u.jsx("span",{children:v}),u.jsx("button",{type:"button",onClick:()=>m(v),className:"hover:bg-primary/20 rounded-full p-0.5","aria-label":`Remove ${v}`,children:u.jsx(dl,{className:"h-3 w-3"})})]},v))}),u.jsxs(P4,{open:i,onOpenChange:a,children:[u.jsx(R4,{asChild:!0,children:u.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between bg-background border-border",disabled:e.length>=r,children:[p,u.jsx(iN,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(O_,{className:"w-full p-0",align:"start",children:u.jsxs(B_,{children:[u.jsx(z_,{placeholder:"Search coffee",value:l,onValueChange:c}),u.jsxs(W_,{children:[u.jsx(V_,{children:"No coffee found."}),u.jsx(H_,{children:d.map(v=>{const g=e.includes(v),b=!g&&e.length>=r;return u.jsxs(q_,{value:v,onSelect:()=>f(v),disabled:b,className:Q(b&&"opacity-50 cursor-not-allowed"),children:[u.jsx(Ou,{className:Q("mr-2 h-4 w-4",g?"opacity-100":"opacity-0")}),v]},v)})})]})]})})]}),e.length>=r&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum ",r," coffee types selected"]})]})}function nM({open:e,onOpenChange:t,onSave:r,isPending:n}){const[s,o]=h.useState(5),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,f]=h.useState(""),[m,p]=h.useState(""),[v,g]=h.useState(""),b=()=>{r({rating:i?s:null,coffee_type:l,coffee_type_other:d,place:m,diary:v})},w=()=>{r({rating:null,coffee_type:null,coffee_type_other:"",place:"",diary:""})},x=()=>{o(5),a(!1),c(null),f(""),p(""),g("")},y=S=>{S||x(),t(S)},_=S=>{const E=S[0]??null;c(E),E!=="Other"&&f("")};return u.jsx(qI,{open:e,onOpenChange:y,children:u.jsxs(J1,{side:"bottom",className:"bg-background border-t border-border rounded-t-2xl",onOpenAutoFocus:S=>S.preventDefault(),children:[u.jsxs(X1,{className:"text-left mb-6",children:[u.jsx(Z1,{className:"text-xl font-black uppercase tracking-tight",children:"Nice Coffee! "}),u.jsx(e_,{className:"text-muted-foreground",children:"Optional: Tell us about your coffee"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(Re,{className:"text-sm font-semibold",children:"How was your coffee?"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"1 = terrible, 10 = heavenly"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-sm font-medium w-4",children:"1"}),u.jsx(x_,{value:[s],onValueChange:S=>{o(S[0]),a(!0)},min:1,max:10,step:1,className:"flex-1"}),u.jsx("span",{className:"text-sm font-medium w-4",children:"10"})]}),i&&u.jsx("div",{className:"text-center",children:u.jsx("span",{className:"text-lg font-bold",children:s})})]}),u.jsx(K_,{value:l?[l]:[],onChange:_,maxSelected:1,label:"What coffee did you have?!"}),l==="Other"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"coffee-type-other",className:"text-sm font-semibold",children:"Specify (optional)"}),u.jsx(Ge,{id:"coffee-type-other",placeholder:"e.g. Custom blend name",value:d,onChange:S=>f(S.target.value),className:"bg-background border-border"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"place",className:"text-sm font-semibold",children:"Where did you drink it?!"}),u.jsx(Ge,{id:"place",placeholder:"e.g. Kokoni / Home / Office",value:m,onChange:S=>p(S.target.value),className:"bg-background border-border",autoFocus:!1})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"diary",className:"text-sm font-semibold",children:"Coffee Diary (optional)"}),u.jsx(Yu,{id:"diary",placeholder:"Notes about taste, vibe, who you were with...",value:v,onChange:S=>g(S.target.value),className:"bg-background border-border min-h-[100px]"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8",children:[u.jsx(ce,{variant:"outline",className:"flex-1 h-12 font-semibold",onClick:w,disabled:n,children:"Skip"}),u.jsx(ce,{className:"flex-1 h-12 font-semibold",onClick:b,disabled:n,children:n?"Saving...":"Save"})]})]})})}function _r(e=new Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function sM(){const{user:e}=ge(),t=Sr(),r=_r();return oo({mutationFn:async n=>{if(!e)throw new Error("Not authenticated");const{data:s,error:o}=await J.from("daily_coffees").insert({user_id:e.id,coffee_date:r,rating:n.rating??null,coffee_type:n.coffee_type??null,coffee_type_other:n.coffee_type_other??null,place:n.place??null,diary:n.diary??null}).select().single();if(o)throw o;return s},onSuccess:()=>{t.invalidateQueries({queryKey:["today-coffees"]}),t.invalidateQueries({queryKey:["month-coffee-count"]}),t.invalidateQueries({queryKey:["month-coffee-day-counts"]}),t.invalidateQueries({queryKey:["coffees"]}),t.invalidateQueries({queryKey:["leaderboard"]}),t.invalidateQueries({queryKey:["today-percentage"]})}})}function oM(){const{user:e}=ge(),t=_r();return Oe({queryKey:["today-coffees",e==null?void 0:e.id,t],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await J.from("daily_coffees").select("*").eq("user_id",e.id).eq("coffee_date",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]},enabled:!!e})}function zm(){const{user:e}=ge(),t=new Date;return Oe({queryKey:["month-coffee-count",e==null?void 0:e.id],queryFn:async()=>{if(!e)return 0;const r=_r(new Date(t.getFullYear(),t.getMonth(),1)),n=_r(new Date(t.getFullYear(),t.getMonth()+1,0)),{count:s,error:o}=await J.from("daily_coffees").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("coffee_date",r).lte("coffee_date",n);if(o)throw o;return s||0},enabled:!!e})}function iM(e,t){const{user:r}=ge(),n=new Date,s=e??n.getFullYear(),o=t??n.getMonth();return Oe({queryKey:["month-coffee-day-counts",r==null?void 0:r.id,s,o],queryFn:async()=>{if(!r)return{};const i=_r(new Date(s,o,1)),a=_r(new Date(s,o+1,0)),{data:l,error:c}=await J.from("daily_coffees").select("coffee_date").eq("user_id",r.id).gte("coffee_date",i).lte("coffee_date",a);if(c)throw c;const d={};return(l||[]).forEach(f=>{const m=f.coffee_date;d[m]=(d[m]||0)+1}),d},enabled:!!r})}function aM(){return Oe({queryKey:["today-percentage"],queryFn:async()=>{const{data:e,error:t}=await J.rpc("get_today_coffee_percentage");if(t)throw t;return Number(e)||0}})}function lM(){const{user:e,loading:t}=ge(),{data:r=0,isLoading:n}=zm(),{data:s=[],isLoading:o}=oM(),{data:i}=aM(),a=sM(),l=Ut(),[c,d]=h.useState(!1),[f,m]=h.useState(!1),p=t||e&&(n||o),v=()=>{if(!e){l("/profile?msg=tracking");return}m(!0)},g=async w=>{try{await a.mutateAsync({rating:w.rating,coffee_type:w.coffee_type,coffee_type_other:w.coffee_type_other,place:w.place,diary:w.diary}),m(!1),d(!0)}catch(x){console.error("Error adding coffee:",x)}},b=100-(i||0);return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx(S1,{monthCount:r}),u.jsx("div",{className:"container flex flex-col items-center justify-center px-4 pt-16",children:p?u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight text-center mb-12",children:"Log a coffee"}),u.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[u.jsx(ce,{onClick:v,className:"btn-run btn-run-yes w-full",disabled:a.isPending,size:"lg",children:a.isPending?"Saving...":"+ Add Coffee"}),s.length>0&&u.jsxs("div",{className:"mt-8 space-y-3 animate-fade-in",children:[u.jsxs("p",{className:"text-sm font-semibold text-muted-foreground text-center",children:["Today: ",s.length," ",s.length===1?"coffee":"coffees"]}),u.jsxs("div",{className:"space-y-2",children:[s.slice(0,3).map(w=>u.jsx("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-medium",children:w.coffee_type==="Other"?w.coffee_type_other||"Coffee":w.coffee_type||"Coffee"}),w.rating&&u.jsxs("span",{className:"text-muted-foreground",children:[w.rating,"/10"]})]})},w.id)),s.length>3&&u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",s.length-3," more"]})]})]})]})]})}),u.jsx(nM,{open:f,onOpenChange:m,onSave:g,isPending:a.isPending}),u.jsx(HI,{open:c,onOpenChange:d,percentBeat:b})]})}function Oy(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function cM(e,t){return Oe({queryKey:["events",e,t],queryFn:async()=>{const r=Oy(new Date(e,t,1)),n=Oy(new Date(e,t+1,0)),{data:s,error:o}=await J.from("events").select("id, name, event_type, event_date, event_time, location, description, created_at").gte("event_date",r).lte("event_date",n).order("event_date",{ascending:!0});if(o)throw o;return s}})}function uM(e){const t=new Map;return e.forEach(r=>{const n=Number(r.event_date.slice(8,10)),s=t.get(n)||[];t.set(n,[...s,r])}),t}function dM(e,t){return Oe({queryKey:["coffee-offers",e,t],queryFn:async()=>{const r=_r(new Date(e,t,1)),n=_r(new Date(e,t+1,0)),{data:s,error:o}=await J.from("coffee_offers").select("id, name, offer_type, event_date, event_time, location, description, org_id, created_by, created_at, quantity_limit, redeem_before_time, coffee_types").gte("event_date",r).lte("event_date",n).order("event_date",{ascending:!0});if(o)throw o;return s||[]}})}function fM(e){const t=new Map;return e.forEach(r=>{const n=Number(r.event_date.slice(8,10)),s=t.get(n)||[];t.set(n,[...s,r])}),t}function hM(e){const{user:t}=ge();return Oe({queryKey:["eventRegistration",e,t==null?void 0:t.id],queryFn:async()=>{if(!e||!t)return null;const{data:r,error:n}=await J.from("event_registrations").select("*").eq("event_id",e).eq("user_id",t.id).maybeSingle();if(n)throw n;return r},enabled:!!e&&!!t})}function pM(){const{user:e}=ge();return Oe({queryKey:["userEventRegistrations",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await J.from("event_registrations").select("*").eq("user_id",e.id).eq("status","registered");if(r)throw r;return t},enabled:!!e})}function mM(){const e=Sr(),{user:t}=ge();return oo({mutationFn:async({eventId:r,existingRegistrationId:n})=>{if(!t)throw new Error("Must be logged in");if(n){const{data:s,error:o}=await J.from("event_registrations").update({status:"registered"}).eq("id",n).select().single();if(o)throw o;return s}else{const{data:s,error:o}=await J.from("event_registrations").insert({event_id:r,user_id:t.id,status:"registered"}).select().single();if(o)throw o;return s}},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["eventRegistration",n.eventId]}),e.invalidateQueries({queryKey:["userEventRegistrations"]})}})}function gM(){const e=Sr();return oo({mutationFn:async({registrationId:t,eventId:r})=>{const{data:n,error:s}=await J.from("event_registrations").update({status:"cancel"}).eq("id",t).select().single();if(s)throw s;return n},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["eventRegistration",r.eventId]}),e.invalidateQueries({queryKey:["userEventRegistrations"]})}})}function vM(e){return e===0?"":e===1?"calendar-day-coffee-1":e===2?"calendar-day-coffee-2":"calendar-day-coffee-3"}function yM({day:e,coffeeCount:t,isToday:r,events:n,coffeeOffers:s,registeredEventIds:o,onEventClick:i,onCoffeeOfferClick:a}){const c=[...s.map(m=>({type:"offer",data:m})),...n.map(m=>({type:"event",data:m}))],d=c.slice(0,2),f=c.length-2;return u.jsxs("div",{className:Q("calendar-day-cell",vM(t),r&&"calendar-day-today"),children:[u.jsxs("div",{className:"calendar-day-number relative",children:[e,t>0&&u.jsx("span",{className:Q("absolute -top-1 -right-1 text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center",t>=3?"bg-foreground text-background":"bg-muted text-foreground"),children:t})]}),c.length>0&&u.jsxs("div",{className:"calendar-day-events",children:[d.map(m=>m.type==="offer"?u.jsx("button",{onClick:p=>{p.stopPropagation(),a(m.data)},className:"calendar-event-label calendar-event-coffee",title:m.data.name,children:u.jsx("span",{className:"truncate max-w-full",children:m.data.name})},`offer-${m.data.id}`):u.jsx("button",{onClick:p=>{p.stopPropagation(),i(m.data)},className:`calendar-event-label ${o.has(m.data.id)?"calendar-event-registered":""}`,title:m.data.name,children:m.data.name},`event-${m.data.id}`)),f>0&&u.jsxs("span",{className:"calendar-event-more",children:["+",f," more"]})]})]})}var G_="AlertDialog",[wM]=on(G_,[A1]),un=A1(),Q_=e=>{const{__scopeAlertDialog:t,...r}=e,n=un(t);return u.jsx(qu,{...n,...r,modal:!0})};Q_.displayName=G_;var xM="AlertDialogTrigger",bM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=un(r);return u.jsx(zI,{...s,...n,ref:t})});bM.displayName=xM;var _M="AlertDialogPortal",Y_=e=>{const{__scopeAlertDialog:t,...r}=e,n=un(t);return u.jsx(Ku,{...n,...r})};Y_.displayName=_M;var SM="AlertDialogOverlay",J_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=un(r);return u.jsx(Di,{...s,...n,ref:t})});J_.displayName=SM;var Jo="AlertDialogContent",[EM,CM]=wM(Jo),kM=px("AlertDialogContent"),X_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=un(r),i=h.useRef(null),a=pe(t,i),l=h.useRef(null);return u.jsx($I,{contentName:Jo,titleName:Z_,docsSlug:"alert-dialog",children:u.jsx(EM,{scope:r,cancelRef:l,children:u.jsxs(Ii,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(kM,{children:n}),u.jsx(NM,{contentRef:i})]})})})});X_.displayName=Jo;var Z_="AlertDialogTitle",eS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=un(r);return u.jsx(pl,{...s,...n,ref:t})});eS.displayName=Z_;var tS="AlertDialogDescription",rS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=un(r);return u.jsx(ml,{...s,...n,ref:t})});rS.displayName=tS;var TM="AlertDialogAction",nS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=un(r);return u.jsx(Gu,{...s,...n,ref:t})});nS.displayName=TM;var sS="AlertDialogCancel",oS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=CM(sS,r),o=un(r),i=pe(t,s);return u.jsx(Gu,{...o,...n,ref:i})});oS.displayName=sS;var NM=({contentRef:e})=>{const t=`\`${Jo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jo}\` by passing a \`${tS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},PM=Q_,RM=Y_,iS=J_,aS=X_,lS=nS,cS=oS,uS=eS,dS=rS;const Ay=PM,jM=RM,fS=h.forwardRef(({className:e,...t},r)=>u.jsx(iS,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));fS.displayName=iS.displayName;const Kh=h.forwardRef(({className:e,...t},r)=>u.jsxs(jM,{children:[u.jsx(fS,{}),u.jsx(aS,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Kh.displayName=aS.displayName;const Gh=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gh.displayName="AlertDialogHeader";const Qh=({className:e,...t})=>u.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qh.displayName="AlertDialogFooter";const Yh=h.forwardRef(({className:e,...t},r)=>u.jsx(uS,{ref:r,className:Q("text-lg font-semibold",e),...t}));Yh.displayName=uS.displayName;const Jh=h.forwardRef(({className:e,...t},r)=>u.jsx(dS,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));Jh.displayName=dS.displayName;const Xh=h.forwardRef(({className:e,...t},r)=>u.jsx(lS,{ref:r,className:Q(Am(),e),...t}));Xh.displayName=lS.displayName;const Zh=h.forwardRef(({className:e,...t},r)=>u.jsx(cS,{ref:r,className:Q(Am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Zh.displayName=cS.displayName;function io(){const{user:e}=ge(),{data:t,isLoading:r}=Oe({queryKey:["user-role",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:i,error:a}=await J.from("user_access").select("role").eq("user_id",e.id).maybeSingle();return a?(console.error("Error fetching user role:",a),null):(i==null?void 0:i.role)||null},enabled:!!e}),n=t==="super_admin",s=t==="run_club_host";return{role:t,isSuperAdmin:n,isRunClubHost:s,canHostEvent:n||s,isLoading:r}}function OM(e){const{user:t}=ge(),{isSuperAdmin:r,isRunClubHost:n}=io();return Oe({queryKey:["can-view-participants",e,t==null?void 0:t.id,r,n],queryFn:async()=>{if(!t||!e)return!1;if(r)return!0;if(n){const{data:s,error:o}=await J.from("events").select("org_id").eq("id",e).maybeSingle();if(o||!s||!s.org_id)return!1;const{data:i,error:a}=await J.from("org_hosts").select("id").eq("org_id",s.org_id).eq("user_id",t.id).maybeSingle();return a?!1:!!i}return!1},enabled:!!t&&!!e&&(r||n)})}function AM({event:e,open:t,onOpenChange:r}){const{user:n}=ge(),s=Ut(),{toast:o}=so(),[i,a]=h.useState(!1),[l,c]=h.useState(!1),{data:d,isLoading:f}=hM(e==null?void 0:e.id),{data:m,isLoading:p}=OM((e==null?void 0:e.id)||null),v=mM(),g=gM();if(!e)return null;const b=T=>{const[j,O,D]=T.split("-").map(Number);return new Date(j,O-1,D).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},w=(d==null?void 0:d.status)==="registered",x=d==null?void 0:d.id,y=()=>{if(!n){o({title:"Please log in to register",description:"You need to be logged in to register for events.",variant:"destructive"});return}a(!0)},_=async()=>{a(!1);try{await v.mutateAsync({eventId:e.id,existingRegistrationId:x}),o({title:"Registered!",description:`You're registered for ${e.name}.`})}catch{o({title:"Registration failed",description:"Please try again.",variant:"destructive"})}},S=()=>{c(!0)},E=async()=>{if(c(!1),!!x)try{await g.mutateAsync({registrationId:x,eventId:e.id}),o({title:"Cancelled",description:"Your registration has been cancelled."})}catch{o({title:"Cancellation failed",description:"Please try again.",variant:"destructive"})}},C=v.isPending||g.isPending;return u.jsxs(u.Fragment,{children:[u.jsx(Ka,{open:t,onOpenChange:r,children:u.jsxs(xi,{className:"sm:max-w-md bg-background border border-foreground/20",children:[u.jsx(Ga,{children:u.jsx(Qa,{className:"text-xl font-bold tracking-tight",children:e.name})}),u.jsxs("div",{className:"space-y-4 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(om,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:b(e.event_date)})]}),e.event_time&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(ih,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:e.event_time})]}),e.location&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(Vx,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{children:e.location})]}),e.description&&u.jsx("div",{className:"pt-2 border-t border-foreground/10",children:u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),u.jsxs("div",{className:"pt-4 border-t border-foreground/10 space-y-3",children:[f?u.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):w?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(ce,{disabled:!0,className:"flex items-center gap-2 bg-green-600 hover:bg-green-600 text-white",children:[u.jsx(Ou,{className:"h-4 w-4"}),"Registered"]}),u.jsx(ce,{variant:"outline",onClick:S,disabled:C,children:"Cancel"})]}):u.jsx(ce,{onClick:y,disabled:C,className:"w-full sm:w-auto",children:"Register"}),!p&&m&&u.jsxs(ce,{variant:"outline",onClick:()=>{r(!1),s("/host/participants",{state:{eventId:e.id}})},className:"w-full flex items-center gap-2",children:[u.jsx(Kx,{className:"h-4 w-4"}),"View Participants"]})]})]})]})}),u.jsx(Ay,{open:i,onOpenChange:a,children:u.jsxs(Kh,{children:[u.jsxs(Gh,{children:[u.jsx(Yh,{children:"Register for this event?"}),u.jsxs(Jh,{children:["Confirm your registration for ",e.name,"?"]})]}),u.jsxs(Qh,{children:[u.jsx(Zh,{children:"no...."}),u.jsx(Xh,{onClick:_,children:"YES!"})]})]})}),u.jsx(Ay,{open:l,onOpenChange:c,children:u.jsxs(Kh,{children:[u.jsxs(Gh,{children:[u.jsx(Yh,{children:"Cancel registration?"}),u.jsxs(Jh,{children:["Are you sure you want to cancel your registration for ",e.name,"?"]})]}),u.jsxs(Qh,{children:[u.jsx(Zh,{children:"No"}),u.jsx(Xh,{onClick:E,children:"Yes, cancel"})]})]})})]})}var Zu={},hS={exports:{}},DM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IM=DM,MM=IM;function pS(){}function mS(){}mS.resetWarningCache=pS;var LM=function(){function e(n,s,o,i,a,l){if(l!==MM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mS,resetWarningCache:pS};return r.PropTypes=r,r};hS.exports=LM();var gS=hS.exports,vS={L:1,M:0,Q:3,H:2},yS={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},$M=yS;function wS(e){this.mode=$M.MODE_8BIT_BYTE,this.data=e}wS.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var FM=wS,Xl=vS;function Or(e,t){this.totalCount=e,this.dataCount=t}Or.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Or.getRSBlocks=function(e,t){var r=Or.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,o=0;o<n;o++)for(var i=r[o*3+0],a=r[o*3+1],l=r[o*3+2],c=0;c<i;c++)s.push(new Or(a,l));return s};Or.getRsBlockTable=function(e,t){switch(t){case Xl.L:return Or.RS_BLOCK_TABLE[(e-1)*4+0];case Xl.M:return Or.RS_BLOCK_TABLE[(e-1)*4+1];case Xl.Q:return Or.RS_BLOCK_TABLE[(e-1)*4+2];case Xl.H:return Or.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var UM=Or;function xS(){this.buffer=new Array,this.length=0}xS.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var BM=xS,mr={glog:function(e){if(e<1)throw new Error("glog("+e+")");return mr.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return mr.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var rt=0;rt<8;rt++)mr.EXP_TABLE[rt]=1<<rt;for(var rt=8;rt<256;rt++)mr.EXP_TABLE[rt]=mr.EXP_TABLE[rt-4]^mr.EXP_TABLE[rt-5]^mr.EXP_TABLE[rt-6]^mr.EXP_TABLE[rt-8];for(var rt=0;rt<255;rt++)mr.LOG_TABLE[mr.EXP_TABLE[rt]]=rt;var bS=mr,ws=bS;function xc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}xc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=ws.gexp(ws.glog(this.get(r))+ws.glog(e.get(n)));return new xc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ws.glog(this.get(0))-ws.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=ws.gexp(ws.glog(e.get(n))+t);return new xc(r,0).mod(e)}};var _S=xc,Vt=yS,Dy=_S,zM=bS,yn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ze={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ze.getBCHDigit(t)-Ze.getBCHDigit(Ze.G15)>=0;)t^=Ze.G15<<Ze.getBCHDigit(t)-Ze.getBCHDigit(Ze.G15);return(e<<10|t)^Ze.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ze.getBCHDigit(t)-Ze.getBCHDigit(Ze.G18)>=0;)t^=Ze.G18<<Ze.getBCHDigit(t)-Ze.getBCHDigit(Ze.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ze.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case yn.PATTERN000:return(t+r)%2==0;case yn.PATTERN001:return t%2==0;case yn.PATTERN010:return r%3==0;case yn.PATTERN011:return(t+r)%3==0;case yn.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case yn.PATTERN101:return t*r%2+t*r%3==0;case yn.PATTERN110:return(t*r%2+t*r%3)%2==0;case yn.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Dy([1],0),r=0;r<e;r++)t=t.multiply(new Dy([1,zM.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Vt.MODE_NUMBER:return 10;case Vt.MODE_ALPHA_NUM:return 9;case Vt.MODE_8BIT_BYTE:return 8;case Vt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Vt.MODE_NUMBER:return 12;case Vt.MODE_ALPHA_NUM:return 11;case Vt.MODE_8BIT_BYTE:return 16;case Vt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Vt.MODE_NUMBER:return 14;case Vt.MODE_ALPHA_NUM:return 13;case Vt.MODE_8BIT_BYTE:return 16;case Vt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var o=0,i=e.isDark(n,s),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var l=-1;l<=1;l++)s+l<0||t<=s+l||a==0&&l==0||i==e.isDark(n+a,s+l)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var c=0;e.isDark(n,s)&&c++,e.isDark(n+1,s)&&c++,e.isDark(n,s+1)&&c++,e.isDark(n+1,s+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},WM=Ze,VM=FM,SS=UM,ES=BM,us=WM,HM=_S;function Dr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Bt=Dr.prototype;Bt.addData=function(e){var t=new VM(e);this.dataList.push(t),this.dataCache=null};Bt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Bt.getModuleCount=function(){return this.moduleCount};Bt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=SS.getRSBlocks(e,this.errorCorrectLevel),r=new ES,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var o=this.dataList[s];r.put(o.mode,4),r.put(o.getLength(),us.getLengthInBits(o.mode,e)),o.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Bt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Dr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Bt.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Bt.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=us.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Bt.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var o=0;o<this.modules.length;o++)for(var i=o*s,a=0;a<this.modules[o].length;a++){var l=a*s,c=this.modules[o][a];c&&(n.beginFill(0,100),n.moveTo(l,i),n.lineTo(l+s,i),n.lineTo(l+s,i+s),n.lineTo(l,i+s),n.endFill())}return n};Bt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Bt.setupPositionAdjustPattern=function(){for(var e=us.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var o=-2;o<=2;o++)for(var i=-2;i<=2;i++)o==-2||o==2||i==-2||i==2||o==0&&i==0?this.modules[n+o][s+i]=!0:this.modules[n+o][s+i]=!1}};Bt.setupTypeNumber=function(e){for(var t=us.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Bt.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=us.getBCHTypeInfo(r),s=0;s<15;s++){var o=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(var s=0;s<15;s++){var o=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!e};Bt.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,o=0,i=this.moduleCount-1;i>0;i-=2)for(i==6&&i--;;){for(var a=0;a<2;a++)if(this.modules[n][i-a]==null){var l=!1;o<e.length&&(l=(e[o]>>>s&1)==1);var c=us.getMask(t,n,i-a);c&&(l=!l),this.modules[n][i-a]=l,s--,s==-1&&(o++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Dr.PAD0=236;Dr.PAD1=17;Dr.createData=function(e,t,r){for(var n=SS.getRSBlocks(e,t),s=new ES,o=0;o<r.length;o++){var i=r[o];s.put(i.mode,4),s.put(i.getLength(),us.getLengthInBits(i.mode,e)),i.write(s)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(s.getLengthInBits()>a*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+a*8+")");for(s.getLengthInBits()+4<=a*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=a*8||(s.put(Dr.PAD0,8),s.getLengthInBits()>=a*8));)s.put(Dr.PAD1,8);return Dr.createBytes(s,n)};Dr.createBytes=function(e,t){for(var r=0,n=0,s=0,o=new Array(t.length),i=new Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,c=t[a].totalCount-l;n=Math.max(n,l),s=Math.max(s,c),o[a]=new Array(l);for(var d=0;d<o[a].length;d++)o[a][d]=255&e.buffer[d+r];r+=l;var f=us.getErrorCorrectPolynomial(c),m=new HM(o[a],f.getLength()-1),p=m.mod(f);i[a]=new Array(f.getLength()-1);for(var d=0;d<i[a].length;d++){var v=d+p.getLength()-i[a].length;i[a][d]=v>=0?p.get(v):0}}for(var g=0,d=0;d<t.length;d++)g+=t[d].totalCount;for(var b=new Array(g),w=0,d=0;d<n;d++)for(var a=0;a<t.length;a++)d<o[a].length&&(b[w++]=o[a][d]);for(var d=0;d<s;d++)for(var a=0;a<t.length;a++)d<i[a].length&&(b[w++]=i[a][d]);return b};var qM=Dr,Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});var KM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GM=gS,Ht=kS(GM),CS=h,Zl=kS(CS);function kS(e){return e&&e.__esModule?e:{default:e}}function QM(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var YM={bgColor:Ht.default.oneOfType([Ht.default.object,Ht.default.string]).isRequired,bgD:Ht.default.string.isRequired,fgColor:Ht.default.oneOfType([Ht.default.object,Ht.default.string]).isRequired,fgD:Ht.default.string.isRequired,size:Ht.default.number.isRequired,title:Ht.default.string,viewBoxSize:Ht.default.number.isRequired,xmlns:Ht.default.string},Vm=(0,CS.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,o=e.fgColor,i=e.size,a=e.title,l=e.viewBoxSize,c=e.xmlns,d=c===void 0?"http://www.w3.org/2000/svg":c,f=QM(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Zl.default.createElement("svg",KM({},f,{height:i,ref:t,viewBox:"0 0 "+l+" "+l,width:i,xmlns:d}),a?Zl.default.createElement("title",null,a):null,Zl.default.createElement("path",{d:n,fill:r}),Zl.default.createElement("path",{d:s,fill:o}))});Vm.displayName="QRCodeSvg";Vm.propTypes=YM;Wm.default=Vm;Object.defineProperty(Zu,"__esModule",{value:!0});Zu.QRCode=void 0;var JM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XM=gS,Br=yl(XM),ZM=vS,eL=yl(ZM),tL=qM,rL=yl(tL),TS=h,nL=yl(TS),sL=Wm,oL=yl(sL);function yl(e){return e&&e.__esModule?e:{default:e}}function iL(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var aL={bgColor:Br.default.oneOfType([Br.default.object,Br.default.string]),fgColor:Br.default.oneOfType([Br.default.object,Br.default.string]),level:Br.default.string,size:Br.default.number,value:Br.default.string.isRequired},ed=(0,TS.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,o=s===void 0?"#000000":s,i=e.level,a=i===void 0?"L":i,l=e.size,c=l===void 0?256:l,d=e.value,f=iL(e,["bgColor","fgColor","level","size","value"]),m=new rL.default(-1,eL.default[a]);m.addData(d),m.make();var p=m.modules;return nL.default.createElement(oL.default,JM({},f,{bgColor:n,bgD:p.map(function(v,g){return v.map(function(b,w){return b?"":"M "+w+" "+g+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:o,fgD:p.map(function(v,g){return v.map(function(b,w){return b?"M "+w+" "+g+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:c,viewBoxSize:p.length}))});Zu.QRCode=ed;ed.displayName="QRCode";ed.propTypes=aL;var NS=Zu.default=ed;function lL(e){const{user:t}=ge();return Oe({queryKey:["voucher","my",e],queryFn:async()=>{if(!e||!t)return null;const{data:r,error:n}=await J.from("vouchers").select("*").eq("coffee_offer_id",e).eq("owner_id",t.id).maybeSingle();if(n)throw n;return r||null},enabled:!!e&&!!t})}function cL(e){return Oe({queryKey:["voucher","count",e],queryFn:async()=>{if(!e)return 0;const{count:t,error:r}=await J.from("vouchers").select("*",{count:"exact",head:!0}).eq("coffee_offer_id",e).in("status",["active","redeemed"]);if(r)throw r;return t||0},enabled:!!e})}function uL(){const e=Sr();return oo({mutationFn:async({offerId:t,selectedCoffeeType:r})=>{const{data:n,error:s}=await J.rpc("mint_voucher_atomic",{p_offer_id:t,p_selected_coffee_type:r});if(s){const o=s.message||"Failed to mint voucher";throw new Error(o)}if(!n||n.length===0)throw new Error("No data returned from mint_voucher_atomic");return n[0]},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["voucher","my",r.offerId]}),e.invalidateQueries({queryKey:["voucher","count",r.offerId]})}})}function dL({offer:e,open:t,onOpenChange:r}){var q,M;if(!e)return null;const[n,s]=h.useState(!1),[o,i]=h.useState(null),[a,l]=h.useState(null),[c,d]=h.useState(!1),{toast:f}=so(),{data:m,refetch:p}=lL(e.id),{data:v=0,refetch:g}=cL(e.id),b=uL();h.useEffect(()=>{(!t||!e)&&(l(null),i(null),d(!1))},[t,e==null?void 0:e.id]);const w=!!m,x=e.quantity_limit!=null&&v>=e.quantity_limit,y=I=>{const[L,F,N]=I.split("-").map(Number);return new Date(L,F-1,N).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},S=_r(new Date)===e.event_date,E=new Date,C=`${String(E.getHours()).padStart(2,"0")}:${String(E.getMinutes()).padStart(2,"0")}`,T=!e.event_time||C>=e.event_time,j=S&&T,O=()=>w?null:x?"This offer is sold out.":j?e.coffee_types&&e.coffee_types.length>0&&!o?"Please choose your coffee option.":null:S&&e.event_time&&!T?`Registration opens at ${e.event_time} on ${y(e.event_date)}`:"Registration is only available on the event date.",D=async()=>{if(!(!j||x||w)){if(e.coffee_types&&e.coffee_types.length>0&&!o){f({title:"Selection required",description:"Please choose your coffee option.",variant:"destructive"});return}try{const I=await b.mutateAsync({offerId:e.id,selectedCoffeeType:o});l(I.code),await p(),await g(),f({title:"Grabbed!",description:`Your voucher code: ${I.code}`})}catch(I){const L=I.message||"Failed to grab voucher";let F=L;L==="SOLD_OUT"?F="This offer is sold out.":L==="ALREADY_CLAIMED"?F="You have already claimed this offer.":(L==="MISSING_COFFEE_TYPE"||L==="INVALID_COFFEE_TYPE")&&(F="Please select a valid coffee option."),f({title:"Error",description:F,variant:"destructive"})}}},A=e.event_time&&e.redeem_before_time?`Redeem: ${e.event_time}  ${e.redeem_before_time}`:e.redeem_before_time?`Redeem before: ${e.redeem_before_time}`:null;return u.jsxs(u.Fragment,{children:[u.jsx(Ka,{open:t,onOpenChange:r,children:u.jsxs(xi,{className:"sm:max-w-md bg-background border border-foreground/20",children:[u.jsx(Ga,{children:u.jsx(Qa,{className:"text-xl font-bold tracking-tight",children:e.name})}),u.jsxs("div",{className:"space-y-4 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(om,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsx("span",{children:y(e.event_date)})]}),e.event_time&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(ih,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsxs("span",{children:["Start reg: ",e.event_time]})]}),A&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(ih,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsx("span",{children:A})]}),e.quantity_limit!=null&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(Kx,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsxs("span",{children:["Quantity: ",e.quantity_limit," spots"]})]}),w&&(m.code||a)&&u.jsx("div",{className:"pt-2 border-t border-foreground/10",children:u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Your Voucher Code"}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"font-mono font-bold text-2xl tracking-widest",children:(q=m.code||a)==null?void 0:q.toUpperCase()}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(!0),"aria-label":"Show QR code",children:u.jsx(Hx,{className:"h-4 w-4"})})]})]})}),w&&m.selected_coffee_type?u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(mv,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsxs("span",{children:["Your coffee: ",m.selected_coffee_type]})]}):e.coffee_types&&e.coffee_types.length>0?u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(mv,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsxs("span",{children:["Coffee options: ",e.coffee_types.join("  ")]})]}):null,e.location&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx(Vx,{className:"h-4 w-4 text-muted-foreground shrink-0"}),u.jsx("span",{children:e.location})]}),e.description&&u.jsx("div",{className:"pt-2 border-t border-foreground/10",children:u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),u.jsxs("div",{className:"pt-2 border-t border-foreground/10",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Terms & Conditions"}),u.jsxs("div",{className:"text-xs text-muted-foreground space-y-2 leading-relaxed",children:[u.jsx("p",{children:" One registration = one redeem."}),u.jsx("p",{children:" Valid only on the event date and redeem window shown. No extensions, reschedules, or cash refunds."}),n&&u.jsx("p",{children:" In the event of disputes, CoffeeBro and the partner caf reserve the right to make the final decision in accordance with these terms."}),u.jsx("button",{type:"button",className:"text-xs underline underline-offset-2",onClick:()=>s(I=>!I),children:n?"Show less":"Show more"})]})]}),!w&&e.coffee_types&&e.coffee_types.length>0&&u.jsxs("div",{className:"pt-2 border-t border-foreground/10 space-y-2",children:[u.jsx("label",{className:"text-sm font-semibold",children:"Choose your coffee"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.coffee_types.map(I=>u.jsx(ce,{type:"button",variant:o===I?"default":"outline",size:"sm",className:Q("btn-run",o===I&&"btn-run-yes"),onClick:()=>{i(o===I?null:I)},children:I},I))})]}),u.jsxs("div",{className:"pt-2 space-y-2",children:[w?u.jsx(ce,{className:"w-full btn-run",disabled:!0,children:"Already Grabbed"}):u.jsx(ce,{className:"w-full btn-run",disabled:!j||x||e.coffee_types&&e.coffee_types.length>0&&!o||b.isPending,onClick:D,children:b.isPending?"Grabbing...":"GRAB"}),O()&&u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:O()})]})]})]})}),w&&(m.code||a)&&u.jsx(Ka,{open:c,onOpenChange:d,children:u.jsxs(xi,{className:"sm:max-w-xs",children:[u.jsx(Ga,{children:u.jsx(Qa,{className:"text-base",children:"Scan to Redeem"})}),u.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[u.jsx("div",{className:"bg-white p-3 rounded-md",children:u.jsx(NS,{value:m.code||a||"",size:220})}),u.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:(M=m.code||a)==null?void 0:M.toUpperCase()})]})]})})]})}const fL=["January","February","March","April","May","June","July","August","September","October","November","December"],hL=["S","M","T","W","T","F","S"];function pL(){const{user:e,loading:t}=ge(),[r,n]=h.useState(new Date),[s,o]=h.useState(null),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,f]=h.useState(!1),m=r.getFullYear(),p=r.getMonth(),v=new Date,g=v.getFullYear()===m&&v.getMonth()===p,b=zm(),{data:w={},isLoading:x}=iM(m,p),{data:y=[]}=cM(m,p),{data:_=[]}=dM(m,p),{data:S=[]}=pM(),E=new Date(m,p,1).getDay(),C=new Date(m,p+1,0).getDate(),T=uM(y),j=fM(_),O=h.useMemo(()=>new Set(S.map(F=>F.event_id)),[S]),D=t,A=()=>{n(new Date(m,p-1,1))},q=()=>{n(new Date(m,p+1,1))},M=()=>{n(new Date)},I=F=>{o(F),a(!0)},L=F=>{c(F),f(!0)};return D?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx(S1,{monthCount:b.data||0}),u.jsxs("div",{className:"container px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:A,children:u.jsx(oh,{size:24})}),u.jsxs("button",{onClick:M,className:"text-xl font-bold uppercase tracking-tight",children:[fL[p]," ",m]}),u.jsx(ce,{variant:"ghost",size:"icon",onClick:q,children:u.jsx(Wx,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:hL.map((F,N)=>u.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:F},N))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:E}).map((F,N)=>u.jsx("div",{className:"min-h-[60px]"},`empty-${N}`)),Array.from({length:C}).map((F,N)=>{const R=N+1,z=_r(new Date(m,p,R)),ee=w[z]||0,P=g&&v.getDate()===R,B=T.get(R)||[],V=j.get(R)||[];return u.jsx(yM,{day:R,coffeeCount:ee,isToday:P,events:B,coffeeOffers:V,registeredEventIds:O,onEventClick:I,onCoffeeOfferClick:L},R)})]}),u.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-sm flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/30 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"1 coffee"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/60 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"2 coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-foreground text-background text-[10px] flex items-center justify-center font-bold",children:"3+"}),u.jsx("span",{className:"text-muted-foreground",children:"3+ coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Today"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-4 bg-orange-500 text-white text-[8px] flex items-center justify-center font-medium",children:"$17"}),u.jsx("span",{className:"text-muted-foreground",children:"$17coffee"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-4 bg-muted text-[8px] flex items-center justify-center",children:"Event"}),u.jsx("span",{className:"text-muted-foreground",children:"Event"})]})]})]}),u.jsx(AM,{event:s,open:i,onOpenChange:a}),u.jsx(dL,{offer:l,open:d,onOpenChange:f})]})}function PS(){return Oe({queryKey:["leaderboard"],queryFn:async()=>{const{data:e,error:t}=await J.from("leaderboard").select("*").order("run_count",{ascending:!1}).order("created_at",{ascending:!0});if(t)throw t;return e||[]}})}function mL(e,t,r){const{user:n}=ge();return Oe({queryKey:["user-coffees",e,t,r],queryFn:async()=>{if(!e)return[];const s=new Date(t,r,1).toISOString().split("T")[0],o=new Date(t,r+1,0).toISOString().split("T")[0],{data:i,error:a}=await J.from("daily_coffees_authed_read").select("user_id, coffee_date").eq("user_id",e).gte("coffee_date",s).lte("coffee_date",o);if(a)throw a;return i||[]},enabled:!!n&&!!e})}function gL(e){return Oe({queryKey:["user-profile",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await J.from("profiles").select("user_id, username").eq("user_id",e).maybeSingle();if(r)throw r;return t},enabled:!!e})}function RS(e){const{user:t}=ge();return Oe({queryKey:["search-users",e],queryFn:async()=>{if(!e||e.length<2)return[];const{data:r,error:n}=await J.from("profiles").select("user_id, username").ilike("username",`%${e}%`).limit(10);if(n)throw n;return r||[]},enabled:!!t&&e.length>=2})}function vL(){const e=Ut(),{data:t,isLoading:r}=PS(),{profile:n,user:s}=ge(),[o,i]=h.useState(!1),[a,l]=h.useState(""),{data:c=[]}=RS(a),d=new Date().toLocaleDateString("en-US",{month:"long"}),f=v=>{if(!s){e("/profile?msg=view-calendar");return}e(`/users/${v}`)},m=()=>{if(!s){e("/profile?msg=search");return}i(!0)},p=v=>{i(!1),l(""),e(`/users/${v}`)};return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:o?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ge,{type:"text",placeholder:"Search runners...",value:a,onChange:v=>l(v.target.value),className:"flex-1",autoFocus:!0}),u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>{i(!1),l("")},children:u.jsx(dl,{size:20})})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"w-10"})," ",u.jsxs("div",{className:"text-center flex-1",children:[u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Leaderboard"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[d," Rankings"]})]}),u.jsx(ce,{variant:"ghost",size:"icon",onClick:m,children:u.jsx(im,{size:20})})]})}),o&&a.length>=2&&u.jsx("div",{className:"container px-4 py-2 border-b border-border",children:c.length>0?u.jsx("div",{className:"space-y-1",children:c.map(v=>u.jsx("button",{onClick:()=>p(v.user_id),className:"w-full text-left py-2 px-2 hover:bg-muted transition-colors font-medium",children:v.username},v.user_id))}):u.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No runners found"})}),u.jsx("div",{className:"container px-4 py-4",children:r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):t&&t.length>0?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-2 py-2 text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:[u.jsx("div",{className:"col-span-2 text-center",children:"#"}),u.jsx("div",{className:"col-span-7",children:"Runner"}),u.jsx("div",{className:"col-span-3 text-right",children:"Days"})]}),t.map((v,g)=>{const b=(n==null?void 0:n.username)===v.username;return u.jsxs("div",{className:`grid grid-cols-12 gap-2 py-3 items-center ${b?"bg-foreground text-background":""} ${g<3?"font-bold":""}`,children:[u.jsx("div",{className:"col-span-2 text-center text-lg",children:g===0?"":g===1?"":g===2?"":g+1}),u.jsx("div",{className:"col-span-7 font-medium truncate",children:u.jsxs("button",{onClick:()=>v.user_id&&f(v.user_id),className:`hover:underline text-left ${b?"text-background":"text-foreground"}`,children:[v.username,b&&" (you)"]})}),u.jsx("div",{className:"col-span-3 text-right font-bold",children:v.run_count})]},v.id)})]}):u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx("p",{className:"text-lg font-semibold",children:"No runners yet"}),u.jsx("p",{className:"text-sm mt-1",children:"Be the first to check in!"})]})})]})}function yL(){const{user:e}=ge();return Oe({queryKey:["max-streak",e==null?void 0:e.id],queryFn:async()=>{if(!e)return 0;const{data:t,error:r}=await J.from("daily_coffees").select("coffee_date").eq("user_id",e.id).order("coffee_date",{ascending:!0});if(r)throw r;if(!t||t.length===0)return 0;const n=t.map(i=>new Date(i.coffee_date));let s=1,o=1;for(let i=1;i<n.length;i++){const a=n[i-1],c=n[i].getTime()-a.getTime(),d=Math.floor(c/(1e3*60*60*24));d===1?(o++,s=Math.max(s,o)):d>1&&(o=1)}return s},enabled:!!e})}function wL(){const[e]=KO(),t=e.get("msg"),n=(()=>{switch(t){case"tracking":return"Sign-up/log in to start tracking your coffee!";case"view-calendar":return"Log in to view other coffee drinkers' calendars.";case"search":return"Log in to search and view other coffee drinkers.";case"messages":return"Log in to message other coffee drinkers.";default:return null}})(),{user:s,profile:o,loading:i,signIn:a,signUp:l,signOut:c}=ge(),{data:d}=PS(),{data:f}=yL(),{data:m=0}=zm(),{canHostEvent:p,role:v,isLoading:g}=io(),{toast:b}=so(),w=Ut(),[x,y]=h.useState(!1),[_,S]=h.useState(""),[E,C]=h.useState(""),[T,j]=h.useState(""),[O,D]=h.useState(""),[A,q]=h.useState(!1);if(i)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})});const M=o&&d?d.findIndex(R=>R.username===o.username)+1:null,I=()=>{p?w("/host/event/create"):b({title:"Access Required",description:"Please upgrade your access to host events."})},L=()=>{p?w("/host/offer/create"):b({title:"Access Required",description:"Please upgrade your access to host events."})},F=async R=>{R.preventDefault(),D(""),q(!0);try{if(x){if(!T.trim()){D("Username is required"),q(!1);return}const{error:z}=await l(_,E,T);z?D(z.message):w("/")}else{const{error:z}=await a(_,E);z?D(z.message):w("/")}}catch{D("Something went wrong")}finally{q(!1)}},N=async()=>{await c()};return s&&o?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"Profile"})}),u.jsxs("div",{className:"container px-4 py-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-foreground text-background rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-3xl font-black uppercase",children:o.username.charAt(0)})}),u.jsx("h2",{className:"text-2xl font-black uppercase",children:o.username})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:M||"-"}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"Rank"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:m}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"This Month"})]}),u.jsxs("div",{className:"text-center p-4 bg-muted",children:[u.jsx("div",{className:"text-3xl font-black",children:f||0}),u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground mt-1",children:"Max Streak"})]})]}),u.jsx(ce,{onClick:L,className:"w-full btn-run mb-4 bg-orange-500 hover:bg-orange-600 text-white",disabled:g,children:"Create Coffee Offer"}),u.jsx(ce,{onClick:I,className:"w-full btn-run btn-run-yes mb-4",disabled:g,children:"Create Event"}),u.jsx(ce,{onClick:()=>w("/events/my"),className:"w-full btn-run btn-run-yes mb-4",children:"View Event"}),(v==="run_club_host"||v==="super_admin")&&u.jsx(ce,{onClick:()=>{p?w("/host/participants"):b({title:"Access Required",description:"Please upgrade your access to host events."})},className:"w-full btn-run btn-run-yes mb-4",disabled:g,children:"View Participants"}),u.jsx(ce,{onClick:N,className:"w-full btn-run btn-run-no",variant:"outline",children:"Logout"})]})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:x?"Sign Up":"Login"})}),u.jsxs("div",{className:"container px-4 py-8",children:[n&&u.jsx("div",{className:"max-w-sm mx-auto mb-6 p-4 bg-foreground text-background text-center",children:u.jsx("p",{className:"font-bold uppercase",children:n})}),u.jsxs("form",{onSubmit:F,className:"space-y-4 max-w-sm mx-auto",children:[x&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"username",className:"text-sm font-semibold uppercase",children:"Username"}),u.jsx(Ge,{id:"username",type:"text",value:T,onChange:R=>j(R.target.value),placeholder:"runner123",className:"h-12 text-lg",required:x})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"email",className:"text-sm font-semibold uppercase",children:"Email"}),u.jsx(Ge,{id:"email",type:"email",value:_,onChange:R=>S(R.target.value),placeholder:"you@example.com",className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"password",className:"text-sm font-semibold uppercase",children:"Password"}),u.jsx(Ge,{id:"password",type:"password",value:E,onChange:R=>C(R.target.value),placeholder:"",className:"h-12 text-lg",required:!0,minLength:6})]}),O&&u.jsx("p",{className:"text-sm font-medium text-center bg-foreground text-background p-2",children:O}),u.jsx(ce,{type:"submit",className:"w-full btn-run btn-run-yes",disabled:A,children:A?"Loading...":x?"Create Account":"Login"}),u.jsx("button",{type:"button",onClick:()=>{y(!x),D("")},className:"w-full text-center text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2",children:x?"Already have an account? Login":"Don't have an account? Sign up"})]})]})]})}function Se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ns(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const jS=6048e5,xL=864e5,OS=6e4,AS=36e5,ec=43200,Iy=1440;let bL={};function wl(){return bL}function Ya(e,t){var a,l,c,d;const r=wl(),n=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function lu(e){return Ya(e,{weekStartsOn:1})}function DS(e){const t=Se(e),r=t.getFullYear(),n=ns(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=lu(n),o=ns(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=lu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function My(e){const t=Se(e);return t.setHours(0,0,0,0),t}function cu(e){const t=Se(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function _L(e,t){const r=My(e),n=My(t),s=+r-cu(r),o=+n-cu(n);return Math.round((s-o)/xL)}function SL(e){const t=DS(e),r=ns(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lu(r)}function bc(e,t){const r=Se(e),n=Se(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function EL(e){return ns(e,Date.now())}function CL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kL(e){if(!CL(e)&&typeof e!="number")return!1;const t=Se(e);return!isNaN(Number(t))}function TL(e,t){const r=Se(e),n=Se(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function NL(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function PL(e,t){return+Se(e)-+Se(t)}function RL(e){const t=Se(e);return t.setHours(23,59,59,999),t}function jL(e){const t=Se(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function OL(e){const t=Se(e);return+RL(t)==+jL(t)}function AL(e,t){const r=Se(e),n=Se(t),s=bc(r,n),o=Math.abs(TL(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let a=bc(r,n)===-s;OL(Se(e))&&o===1&&bc(e,n)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function DL(e,t,r){const n=PL(e,t)/1e3;return NL(r==null?void 0:r.roundingMethod)(n)}function IL(e){const t=Se(e),r=ns(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ML={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LL=(e,t,r)=>{let n;const s=ML[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function af(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $L={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BL={date:af({formats:$L,defaultWidth:"full"}),time:af({formats:FL,defaultWidth:"full"}),dateTime:af({formats:UL,defaultWidth:"full"})},zL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WL=(e,t,r,n)=>zL[e];function Ji(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const VL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},JL={ordinalNumber:YL,era:Ji({values:VL,defaultWidth:"wide"}),quarter:Ji({values:HL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ji({values:qL,defaultWidth:"wide"}),day:Ji({values:KL,defaultWidth:"wide"}),dayPeriod:Ji({values:GL,defaultWidth:"wide",formattingValues:QL,defaultFormattingWidth:"wide"})};function Xi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?ZL(a,f=>f.test(i)):XL(a,f=>f.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}function XL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ZL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function e$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const t$=/^(\d+)(th|st|nd|rd)?/i,r$=/\d+/i,n$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s$={any:[/^b/i,/^(a|c)/i]},o$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i$={any:[/1/i,/2/i,/3/i,/4/i]},a$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},c$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h$={ordinalNumber:e$({matchPattern:t$,parsePattern:r$,valueCallback:e=>parseInt(e,10)}),era:Xi({matchPatterns:n$,defaultMatchWidth:"wide",parsePatterns:s$,defaultParseWidth:"any"}),quarter:Xi({matchPatterns:o$,defaultMatchWidth:"wide",parsePatterns:i$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xi({matchPatterns:a$,defaultMatchWidth:"wide",parsePatterns:l$,defaultParseWidth:"any"}),day:Xi({matchPatterns:c$,defaultMatchWidth:"wide",parsePatterns:u$,defaultParseWidth:"any"}),dayPeriod:Xi({matchPatterns:d$,defaultMatchWidth:"any",parsePatterns:f$,defaultParseWidth:"any"})},IS={code:"en-US",formatDistance:LL,formatLong:BL,formatRelative:WL,localize:JL,match:h$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p$(e){const t=Se(e);return _L(t,IL(t))+1}function m$(e){const t=Se(e),r=+lu(t)-+SL(t);return Math.round(r/jS)+1}function MS(e,t){var d,f,m,p;const r=Se(e),n=r.getFullYear(),s=wl(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=ns(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Ya(i,t),l=ns(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=Ya(l,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function g$(e,t){var a,l,c,d;const r=wl(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=MS(e,t),o=ns(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Ya(o,t)}function v$(e,t){const r=Se(e),n=+Ya(r,t)-+g$(r,t);return Math.round(n/jS)+1}function xe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const wn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xe(r+1,2)},d(e,t){return xe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xe(e.getHours()%12||12,t.length)},H(e,t){return xe(e.getHours(),t.length)},m(e,t){return xe(e.getMinutes(),t.length)},s(e,t){return xe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return xe(s,t.length)}},_o={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ly={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return wn.y(e,t)},Y:function(e,t,r,n){const s=MS(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return xe(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):xe(o,t.length)},R:function(e,t){const r=DS(e);return xe(r,t.length)},u:function(e,t){const r=e.getFullYear();return xe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return wn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=v$(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):xe(s,t.length)},I:function(e,t,r){const n=m$(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):wn.d(e,t)},D:function(e,t,r){const n=p$(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return xe(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return xe(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return xe(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=_o.noon:n===0?s=_o.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=_o.evening:n>=12?s=_o.afternoon:n>=4?s=_o.morning:s=_o.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return wn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):wn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):wn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):wn.s(e,t)},S:function(e,t){return wn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Fy(n);case"XXXX":case"XX":return Ss(n);case"XXXXX":case"XXX":default:return Ss(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Fy(n);case"xxxx":case"xx":return Ss(n);case"xxxxx":case"xxx":default:return Ss(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$y(n,":");case"OOOO":default:return"GMT"+Ss(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$y(n,":");case"zzzz":default:return"GMT"+Ss(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xe(n,t.length)},T:function(e,t,r){const n=e.getTime();return xe(n,t.length)}};function $y(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+xe(o,2)}function Fy(e,t){return e%60===0?(e>0?"-":"+")+xe(Math.abs(e)/60,2):Ss(e,t)}function Ss(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=xe(Math.trunc(n/60),2),o=xe(n%60,2);return r+s+t+o}const Uy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},y$=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Uy(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Uy(n,t)).replace("{{time}}",LS(s,t))},w$={p:LS,P:y$},x$=/^D+$/,b$=/^Y+$/,_$=["D","DD","YY","YYYY"];function S$(e){return x$.test(e)}function E$(e){return b$.test(e)}function C$(e,t,r){const n=k$(e,t,r);if(console.warn(n),_$.includes(e))throw new RangeError(n)}function k$(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const T$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P$=/^'([^]*?)'?$/,R$=/''/g,j$=/[a-zA-Z]/;function _c(e,t,r){var d,f,m,p;const n=wl(),s=n.locale??IS,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Se(e);if(!kL(a))throw new RangeError("Invalid time value");let l=t.match(N$).map(v=>{const g=v[0];if(g==="p"||g==="P"){const b=w$[g];return b(v,s.formatLong)}return v}).join("").match(T$).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:O$(v)};if(Ly[g])return{isToken:!0,value:v};if(g.match(j$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(E$(g)||S$(g))&&C$(g,t,String(e));const b=Ly[g[0]];return b(a,g,s.localize,c)}).join("")}function O$(e){const t=e.match(P$);return t?t[1].replace(R$,"'"):e}function A$(e,t,r){const n=wl(),s=(r==null?void 0:r.locale)??n.locale??IS,o=2520,i=bc(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,c;i>0?(l=Se(t),c=Se(e)):(l=Se(e),c=Se(t));const d=DL(c,l),f=(cu(c)-cu(l))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<Iy){const v=Math.round(m/60);return s.formatDistance("aboutXHours",v,a)}else{if(m<o)return s.formatDistance("xDays",1,a);if(m<ec){const v=Math.round(m/Iy);return s.formatDistance("xDays",v,a)}else if(m<ec*2)return p=Math.round(m/ec),s.formatDistance("aboutXMonths",p,a)}if(p=AL(c,l),p<12){const v=Math.round(m/ec);return s.formatDistance("xMonths",v,a)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function D$(e,t){return A$(e,EL(e),t)}function Sc(e,t){const n=$$(e);let s;if(n.date){const l=F$(n.date,2);s=U$(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(n.time&&(i=B$(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(a=z$(n.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+i),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+i+a)}const tc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,M$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $$(e){const t={},r=e.split(tc.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],tc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(tc.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=tc.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function F$(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function U$(e,t){if(t===null)return new Date(NaN);const r=e.match(I$);if(!r)return new Date(NaN);const n=!!r[4],s=Zi(r[1]),o=Zi(r[2])-1,i=Zi(r[3]),a=Zi(r[4]),l=Zi(r[5])-1;if(n)return K$(t,a,l)?W$(t,a,l):new Date(NaN);{const c=new Date(0);return!H$(t,o,i)||!q$(t,s)?new Date(NaN):(c.setUTCFullYear(t,o,Math.max(s,i)),c)}}function Zi(e){return e?parseInt(e):1}function B$(e){const t=e.match(M$);if(!t)return NaN;const r=lf(t[1]),n=lf(t[2]),s=lf(t[3]);return G$(r,n,s)?r*AS+n*OS+s*1e3:NaN}function lf(e){return e&&parseFloat(e.replace(",","."))||0}function z$(e){if(e==="Z")return 0;const t=e.match(L$);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Q$(n,s)?r*(n*AS+s*OS):NaN}function W$(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const V$=[31,null,31,30,31,30,31,31,30,31,30,31];function $S(e){return e%400===0||e%4===0&&e%100!==0}function H$(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(V$[t]||($S(e)?29:28))}function q$(e,t){return t>=1&&t<=($S(e)?366:365)}function K$(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function G$(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Q$(e,t){return t>=0&&t<=59}function Y$(){const{user:e}=ge(),t=Ut(),[r,n]=h.useState(""),[s,o]=h.useState(null),[i,a]=h.useState(""),{data:l=[],isLoading:c}=_1(),{data:d=[]}=RS(r),f=OD(),{data:m=[]}=AD((s==null?void 0:s.id)||null),p=DD(),v=ID();if(MD((s==null?void 0:s.id)||null),h.useEffect(()=>{e||t("/profile?msg=messages")},[e,t]),h.useEffect(()=>{s&&s.hasUnread&&v.mutate(s)},[s==null?void 0:s.id]),!e)return null;const g=async(y,_)=>{try{const S=await f.mutateAsync(y);o({...S,other_username:_}),n("")}catch(S){console.error("Failed to create thread:",S)}},b=y=>{o(y),n("")},w=async()=>{if(!(!i.trim()||!s))try{await p.mutateAsync({threadId:s.id,body:i}),a("")}catch(y){console.error("Failed to send message:",y)}},x=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),w())};return s?u.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("button",{onClick:()=>o(null),className:"p-2 -ml-2 hover:bg-muted rounded-full",children:u.jsx(Zn,{size:24})}),u.jsx("span",{className:"font-semibold text-lg",children:s.other_username})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:m.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No messages yet. Say hi!"}):m.map(y=>{const _=y.sender_id===e.id;return u.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl ${_?"bg-foreground text-background rounded-br-sm":"bg-muted text-foreground rounded-bl-sm"}`,children:u.jsx("p",{className:"text-sm break-words",children:y.body})})},y.id)})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ge,{value:i,onChange:y=>a(y.target.value),onKeyDown:x,placeholder:"Message...",className:"flex-1"}),u.jsx(ce,{onClick:w,disabled:!i.trim()||p.isPending,size:"icon",children:u.jsx(qx,{size:20})})]})})]}):u.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)]",children:[u.jsxs("div",{className:"p-4 border-b border-border",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Messages"}),u.jsxs("div",{className:"relative",children:[u.jsx(im,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),u.jsx(Ge,{value:r,onChange:y=>n(y.target.value),placeholder:"Search users",className:"pl-10"})]})]}),r.length>=2&&d.length>0&&u.jsxs("div",{className:"border-b border-border",children:[u.jsx("p",{className:"px-4 py-2 text-xs text-muted-foreground font-medium",children:"USERS"}),d.map(y=>u.jsxs("button",{onClick:()=>g(y.user_id,y.username),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-muted text-left",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-foreground text-background flex items-center justify-center font-semibold",children:y.username.charAt(0).toUpperCase()}),u.jsx("span",{className:"font-medium",children:y.username})]},y.user_id))]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:c?u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading..."}):l.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[u.jsx(lN,{size:48,className:"mb-4"}),u.jsx("p",{children:"No messages yet"}),u.jsx("p",{className:"text-sm",children:"Search for users to start a conversation"})]}):l.map(y=>{var _;return u.jsxs("button",{onClick:()=>b(y),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-muted text-left border-b border-border",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-foreground text-background flex items-center justify-center font-semibold text-lg",children:((_=y.other_username)==null?void 0:_.charAt(0).toUpperCase())||"?"}),y.hasUnread&&u.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-500 rounded-full border-2 border-background"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("span",{className:`${y.hasUnread?"font-bold":"font-semibold"}`,children:y.other_username}),y.last_message_at&&u.jsx("span",{className:`text-xs ${y.hasUnread?"text-foreground font-semibold":"text-muted-foreground"}`,children:D$(new Date(y.last_message_at),{addSuffix:!1})})]}),y.last_message_text&&u.jsx("p",{className:`text-sm truncate ${y.hasUnread?"text-foreground font-medium":"text-muted-foreground"}`,children:y.last_message_text})]})]},y.id)})})]})}const J$=["January","February","March","April","May","June","July","August","September","October","November","December"],X$=["S","M","T","W","T","F","S"];function Z$(){const{userId:e}=vO(),t=Ut(),{user:r,loading:n}=ge(),[s,o]=h.useState(new Date),{data:i,isLoading:a}=gL(e),{data:l=[],isLoading:c}=mL(e,s.getFullYear(),s.getMonth()),d=s.getFullYear(),f=s.getMonth(),m=new Date,p=m.getFullYear()===d&&m.getMonth()===f,v=new Date(d,f,1).getDay(),g=new Date(d,f+1,0).getDate(),b={};l.forEach(S=>{const E=S.coffee_date;b[E]=(b[E]||0)+1});const w=()=>{o(new Date(d,f-1,1))},x=()=>{o(new Date(d,f+1,1))},y=()=>{o(new Date)};return!n&&!r?u.jsx(OO,{to:"/profile?msg=view-calendar",replace:!0}):n||a||c?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):i?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>t("/leaderboard"),children:u.jsx(oh,{size:24})}),u.jsxs("h1",{className:"text-lg font-black uppercase tracking-tight text-center flex-1",children:[i.username,"'s Calendar"]}),u.jsx("div",{className:"w-10"})," "]})}),u.jsxs("div",{className:"container px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:w,children:u.jsx(oh,{size:24})}),u.jsxs("button",{onClick:y,className:"text-xl font-bold uppercase tracking-tight",children:[J$[f]," ",d]}),u.jsx(ce,{variant:"ghost",size:"icon",onClick:x,children:u.jsx(Wx,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:X$.map((S,E)=>u.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:S},E))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:v}).map((S,E)=>u.jsx("div",{className:"calendar-day"},`empty-${E}`)),Array.from({length:g}).map((S,E)=>{const C=E+1,T=_r(new Date(d,f,C)),j=b[T]||0,O=p&&m.getDate()===C;let D="";return j===1?D="calendar-day-coffee-1":j===2?D="calendar-day-coffee-2":j>=3&&(D="calendar-day-coffee-3"),u.jsx("div",{className:`calendar-day ${D} ${O?"calendar-day-today":""}`,children:j>0?u.jsxs("span",{className:"relative",children:[C,u.jsx("span",{className:`absolute -top-1 -right-1 text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center ${j>=3?"bg-foreground text-background":"bg-muted text-foreground"}`,children:j})]}):C},C)})]}),u.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-sm flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/30 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"1 coffee"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-muted/60 border border-border"}),u.jsx("span",{className:"text-muted-foreground",children:"2 coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-foreground text-background text-[10px] flex items-center justify-center font-bold",children:"3+"}),u.jsx("span",{className:"text-muted-foreground",children:"3+ coffees"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Today"})]})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx("button",{onClick:()=>t("/profile"),className:"text-sm text-muted-foreground underline hover:text-foreground transition-colors",children:"Want to track yours? Sign up."})})]})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-lg font-semibold",children:"User not found"}),u.jsx(ce,{variant:"ghost",onClick:()=>t("/leaderboard"),className:"mt-4",children:"Back to Leaderboard"})]})})}var e5=[" ","Enter","ArrowUp","ArrowDown"],t5=[" ","Enter"],Zs="Select",[td,rd,r5]=tm(Zs),[Li]=on(Zs,[r5,Pi]),nd=Pi(),[n5,ds]=Li(Zs),[s5,o5]=Li(Zs),FS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:m,required:p,form:v}=e,g=nd(t),[b,w]=h.useState(null),[x,y]=h.useState(null),[_,S]=h.useState(!1),E=n_(c),[C,T]=vi({prop:n,defaultProp:s??!1,onChange:o,caller:Zs}),[j,O]=vi({prop:i,defaultProp:a,onChange:l,caller:Zs}),D=h.useRef(null),A=b?v||!!b.closest("form"):!0,[q,M]=h.useState(new Set),I=Array.from(q).map(L=>L.props.value).join(";");return u.jsx(kb,{...g,children:u.jsxs(n5,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:It(),value:j,onValueChange:O,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:D,disabled:m,children:[u.jsx(td.Provider,{scope:t,children:u.jsx(s5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{M(F=>new Set(F).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{M(F=>{const N=new Set(F);return N.delete(L),N})},[]),children:r})}),A?u.jsxs(cE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:L=>O(L.target.value),disabled:m,form:v,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(q)]},I):null]})})};FS.displayName=Zs;var US="SelectTrigger",BS=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=nd(r),i=ds(US,r),a=i.disabled||n,l=pe(t,i.onTriggerChange),c=rd(r),d=h.useRef("touch"),[f,m,p]=dE(g=>{const b=c().filter(y=>!y.disabled),w=b.find(y=>y.value===i.value),x=fE(b,g,w);x!==void 0&&i.onValueChange(x.value)}),v=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(Mu,{asChild:!0,...o,children:u.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":uE(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Z(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Z(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&e5.includes(g.key)&&(v(),g.preventDefault())})})})});BS.displayName=US;var zS="SelectValue",WS=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,l=ds(zS,r),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=pe(t,l.onValueNodeChange);return ot(()=>{c(d)},[c,d]),u.jsx(se.span,{...a,ref:f,style:{pointerEvents:"none"},children:uE(l.value)?u.jsx(u.Fragment,{children:i}):o})});WS.displayName=zS;var i5="SelectIcon",VS=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return u.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});VS.displayName=i5;var a5="SelectPortal",HS=e=>u.jsx(cl,{asChild:!0,...e});HS.displayName=a5;var eo="SelectContent",qS=h.forwardRef((e,t)=>{const r=ds(eo,e.__scopeSelect),[n,s]=h.useState();if(ot(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?no.createPortal(u.jsx(KS,{scope:e.__scopeSelect,children:u.jsx(td.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(GS,{...e,ref:t})});qS.displayName=eo;var ar=10,[KS,fs]=Li(eo),l5="SelectContentImpl",c5=Ks("SelectContent.RemoveScroll"),GS=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b,...w}=e,x=ds(eo,r),[y,_]=h.useState(null),[S,E]=h.useState(null),C=pe(t,$=>_($)),[T,j]=h.useState(null),[O,D]=h.useState(null),A=rd(r),[q,M]=h.useState(!1),I=h.useRef(!1);h.useEffect(()=>{if(y)return Im(y)},[y]),Dm();const L=h.useCallback($=>{const[oe,...ue]=A().map(ye=>ye.ref.current),[fe]=ue.slice(-1),me=document.activeElement;for(const ye of $)if(ye===me||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===oe&&S&&(S.scrollTop=0),ye===fe&&S&&(S.scrollTop=S.scrollHeight),ye==null||ye.focus(),document.activeElement!==me))return},[A,S]),F=h.useCallback(()=>L([T,y]),[L,T,y]);h.useEffect(()=>{q&&F()},[q,F]);const{onOpenChange:N,triggerPointerDownPosRef:R}=x;h.useEffect(()=>{if(y){let $={x:0,y:0};const oe=fe=>{var me,ye;$={x:Math.abs(Math.round(fe.pageX)-(((me=R.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ye=R.current)==null?void 0:ye.y)??0))}},ue=fe=>{$.x<=10&&$.y<=10?fe.preventDefault():y.contains(fe.target)||N(!1),document.removeEventListener("pointermove",oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[y,N,R]),h.useEffect(()=>{const $=()=>N(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[N]);const[z,ee]=dE($=>{const oe=A().filter(me=>!me.disabled),ue=oe.find(me=>me.ref.current===document.activeElement),fe=fE(oe,$,ue);fe&&setTimeout(()=>fe.ref.current.focus())}),P=h.useCallback(($,oe,ue)=>{const fe=!I.current&&!ue;(x.value!==void 0&&x.value===oe||fe)&&(j($),fe&&(I.current=!0))},[x.value]),B=h.useCallback(()=>y==null?void 0:y.focus(),[y]),V=h.useCallback(($,oe,ue)=>{const fe=!I.current&&!ue;(x.value!==void 0&&x.value===oe||fe)&&D($)},[x.value]),H=n==="popper"?ep:QS,te=H===ep?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return u.jsx(KS,{scope:r,content:y,viewport:S,onViewportChange:E,itemRefCallback:P,selectedItem:T,onItemLeave:B,itemTextRefCallback:V,focusSelectedItem:F,selectedItemText:O,position:n,isPositioned:q,searchRef:z,children:u.jsx(Vu,{as:c5,allowPinchZoom:!0,children:u.jsx(zu,{asChild:!0,trapped:x.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Z(s,$=>{var oe;(oe=x.trigger)==null||oe.focus({preventScroll:!0}),$.preventDefault()}),children:u.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(H,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:$=>$.preventDefault(),...w,...te,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Z(w.onKeyDown,$=>{const oe=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!oe&&$.key.length===1&&ee($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let fe=A().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes($.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const me=$.target,ye=fe.indexOf(me);fe=fe.slice(ye+1)}setTimeout(()=>L(fe)),$.preventDefault()}})})})})})})});GS.displayName=l5;var u5="SelectItemAlignedPosition",QS=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ds(eo,r),i=fs(eo,r),[a,l]=h.useState(null),[c,d]=h.useState(null),f=pe(t,C=>d(C)),m=rd(r),p=h.useRef(!1),v=h.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:x}=i,y=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&b&&w){const C=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),O=w.getBoundingClientRect();if(o.dir!=="rtl"){const me=O.left-T.left,ye=j.left-me,it=C.left-ye,zt=C.width+it,hs=Math.max(zt,T.width),dn=window.innerWidth-ar,ps=au(ye,[ar,Math.max(ar,dn-hs)]);a.style.minWidth=zt+"px",a.style.left=ps+"px"}else{const me=T.right-O.right,ye=window.innerWidth-j.right-me,it=window.innerWidth-C.right-ye,zt=C.width+it,hs=Math.max(zt,T.width),dn=window.innerWidth-ar,ps=au(ye,[ar,Math.max(ar,dn-hs)]);a.style.minWidth=zt+"px",a.style.right=ps+"px"}const D=m(),A=window.innerHeight-ar*2,q=g.scrollHeight,M=window.getComputedStyle(c),I=parseInt(M.borderTopWidth,10),L=parseInt(M.paddingTop,10),F=parseInt(M.borderBottomWidth,10),N=parseInt(M.paddingBottom,10),R=I+L+q+N+F,z=Math.min(b.offsetHeight*5,R),ee=window.getComputedStyle(g),P=parseInt(ee.paddingTop,10),B=parseInt(ee.paddingBottom,10),V=C.top+C.height/2-ar,H=A-V,te=b.offsetHeight/2,$=b.offsetTop+te,oe=I+L+$,ue=R-oe;if(oe<=V){const me=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const ye=c.clientHeight-g.offsetTop-g.offsetHeight,it=Math.max(H,te+(me?B:0)+ye+F),zt=oe+it;a.style.height=zt+"px"}else{const me=D.length>0&&b===D[0].ref.current;a.style.top="0px";const it=Math.max(V,I+g.offsetTop+(me?P:0)+te)+ue;a.style.height=it+"px",g.scrollTop=oe-V+g.offsetTop}a.style.margin=`${ar}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,c,g,b,w,o.dir,n]);ot(()=>y(),[y]);const[_,S]=h.useState();ot(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=h.useCallback(C=>{C&&v.current===!0&&(y(),x==null||x(),v.current=!1)},[y,x]);return u.jsx(f5,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QS.displayName=u5;var d5="SelectPopperPosition",ep=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ar,...o}=e,i=nd(r);return u.jsx(vm,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ep.displayName=d5;var[f5,Hm]=Li(eo,{}),tp="SelectViewport",YS=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=fs(tp,r),i=Hm(tp,r),a=pe(t,o.onViewportChange),l=h.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(td.Slot,{scope:r,children:u.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-ar*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(g,b);if(w<v){const x=w+p,y=Math.min(v,x),_=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});YS.displayName=tp;var JS="SelectGroup",[h5,p5]=Li(JS),m5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=It();return u.jsx(h5,{scope:r,id:s,children:u.jsx(se.div,{role:"group","aria-labelledby":s,...n,ref:t})})});m5.displayName=JS;var XS="SelectLabel",ZS=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=p5(XS,r);return u.jsx(se.div,{id:s.id,...n,ref:t})});ZS.displayName=XS;var uu="SelectItem",[g5,eE]=Li(uu),tE=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=ds(uu,r),l=fs(uu,r),c=a.value===n,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),v=pe(t,x=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,x,n,s)}),g=It(),b=h.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(g5,{scope:r,value:n,disabled:s,textId:g,isSelected:c,onItemTextChange:h.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(td.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(se.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Z(i.onFocus,()=>p(!0)),onBlur:Z(i.onBlur,()=>p(!1)),onClick:Z(i.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Z(i.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Z(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Z(i.onPointerMove,x=>{var y;b.current=x.pointerType,s?(y=l.onItemLeave)==null||y.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:Z(i.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(t5.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});tE.displayName=uu;var ia="SelectItemText",rE=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ds(ia,r),a=fs(ia,r),l=eE(ia,r),c=o5(ia,r),[d,f]=h.useState(null),m=pe(t,w=>f(w),l.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=h.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return ot(()=>(g(v),()=>b(v)),[g,b,v]),u.jsxs(u.Fragment,{children:[u.jsx(se.span,{id:l.textId,...o,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?no.createPortal(o.children,i.valueNode):null]})});rE.displayName=ia;var nE="SelectItemIndicator",sE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return eE(nE,r).isSelected?u.jsx(se.span,{"aria-hidden":!0,...n,ref:t}):null});sE.displayName=nE;var rp="SelectScrollUpButton",oE=h.forwardRef((e,t)=>{const r=fs(rp,e.__scopeSelect),n=Hm(rp,e.__scopeSelect),[s,o]=h.useState(!1),i=pe(t,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(aE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});oE.displayName=rp;var np="SelectScrollDownButton",iE=h.forwardRef((e,t)=>{const r=fs(np,e.__scopeSelect),n=Hm(np,e.__scopeSelect),[s,o]=h.useState(!1),i=pe(t,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(aE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});iE.displayName=np;var aE=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=fs("SelectScrollButton",r),i=h.useRef(null),a=rd(r),l=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),ot(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),v5="SelectSeparator",lE=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return u.jsx(se.div,{"aria-hidden":!0,...n,ref:t})});lE.displayName=v5;var sp="SelectArrow",y5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=nd(r),o=ds(sp,r),i=fs(sp,r);return o.open&&i.position==="popper"?u.jsx(ym,{...s,...n,ref:t}):null});y5.displayName=sp;var w5="SelectBubbleInput",cE=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=pe(n,s),i=s_(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(se.select,{...r,style:{...wx,...r.style},ref:o,defaultValue:t})});cE.displayName=w5;function uE(e){return e===""||e===void 0}function dE(e){const t=wr(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function fE(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=x5(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function x5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var b5=FS,hE=BS,_5=WS,S5=VS,E5=HS,pE=qS,C5=YS,mE=ZS,gE=tE,k5=rE,T5=sE,vE=oE,yE=iE,wE=lE;const du=b5,fu=_5,Ja=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(hE,{ref:n,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(S5,{asChild:!0,children:u.jsx(zx,{className:"h-4 w-4 opacity-50"})})]}));Ja.displayName=hE.displayName;const xE=h.forwardRef(({className:e,...t},r)=>u.jsx(vE,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(oN,{className:"h-4 w-4"})}));xE.displayName=vE.displayName;const bE=h.forwardRef(({className:e,...t},r)=>u.jsx(yE,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(zx,{className:"h-4 w-4"})}));bE.displayName=yE.displayName;const Xa=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>u.jsx(E5,{children:u.jsxs(pE,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[u.jsx(xE,{}),u.jsx(C5,{className:Q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(bE,{})]})}));Xa.displayName=pE.displayName;const N5=h.forwardRef(({className:e,...t},r)=>u.jsx(mE,{ref:r,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));N5.displayName=mE.displayName;const Za=h.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(gE,{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(T5,{children:u.jsx(Ou,{className:"h-4 w-4"})})}),u.jsx(k5,{children:t})]}));Za.displayName=gE.displayName;const P5=h.forwardRef(({className:e,...t},r)=>u.jsx(wE,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));P5.displayName=wE.displayName;function _E(){const{user:e}=ge(),{isSuperAdmin:t,isRunClubHost:r}=io();return Oe({queryKey:["orgs",e==null?void 0:e.id,t,r],queryFn:async()=>{if(!e)return[];if(t){const{data:n,error:s}=await J.from("orgs").select("*").order("org_name");if(s)throw console.error("Error fetching orgs:",s),s;return n}if(r){const{data:n,error:s}=await J.from("org_hosts").select("org_id").eq("user_id",e.id);if(s)throw console.error("Error fetching org_hosts:",s),s;if(!n||n.length===0)return[];const o=n.map(l=>l.org_id),{data:i,error:a}=await J.from("orgs").select("*").in("id",o).order("org_name");if(a)throw console.error("Error fetching orgs:",a),a;return i}return[]},enabled:!!e&&(t||r)})}function R5(){const{user:e}=ge(),{canHostEvent:t,isLoading:r}=io(),{data:n,isLoading:s}=_E(),o=Ut(),{toast:i}=so(),[a,l]=h.useState(""),[c,d]=h.useState(""),[f,m]=h.useState(""),[p,v]=h.useState(""),[g,b]=h.useState(""),[w,x]=h.useState(""),[y,_]=h.useState(""),[S,E]=h.useState(!1);if(r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})});if(!e)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"Create Event"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to create events."}),u.jsx(ce,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]});if(!t)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Create Event"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-2",children:"Access Required"}),u.jsx("p",{className:"text-sm mb-4",children:"Please upgrade your access to host events."}),u.jsx(ce,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Back to Profile"})]})})]});const C=async T=>{if(T.preventDefault(),!a.trim()||!f){i({title:"Missing fields",description:"Please fill in the event name and date.",variant:"destructive"});return}const j=y.trim()===""?null:parseInt(y,10);if(y.trim()!==""&&(j===null||isNaN(j)||j<0)){i({title:"Invalid ticket limit",description:"Ticket limit must be an integer >= 0.",variant:"destructive"});return}E(!0);try{const{data:O,error:D}=await J.from("events").insert({name:a.trim(),event_date:f,event_time:p||null,location:g.trim()||null,description:w.trim()||null,created_by:e.id,org_id:c||null,ticket_limit:y.trim()===""?null:parseInt(y,10)}).select("id").single();if(D)throw D;if(j!=null&&j>0){const{error:A}=await J.rpc("mint_event_tickets_atomic",{p_event_id:O.id,p_count:j});A&&(console.error("Ticket minting failed:",A),i({title:"Event created, but tickets failed",description:A.message,variant:"destructive"}))}i({title:"Event Created!",description:j!=null&&j>0?`Your event has been added. ${j} tickets minted.`:"Your event has been added to the calendar."}),o("/host/participants",{state:{eventId:O.id}})}catch(O){console.error("Error creating event:",O),i({title:"Error",description:O.message||"Failed to create event.",variant:"destructive"})}finally{E(!1)}};return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Create Event"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("form",{onSubmit:C,className:"space-y-4 max-w-sm mx-auto",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"org",className:"text-sm font-semibold uppercase",children:"Organization *"}),u.jsxs(du,{value:c,onValueChange:d,disabled:s,children:[u.jsx(Ja,{className:"h-12 text-lg",children:u.jsx(fu,{placeholder:s?"Loading...":"Select organization"})}),u.jsx(Xa,{children:n==null?void 0:n.map(T=>u.jsx(Za,{value:T.id,children:T.org_name},T.id))})]}),!s&&(n==null?void 0:n.length)===0&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"No organizations available. Contact an admin to create one."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"name",className:"text-sm font-semibold uppercase",children:"Event Name *"}),u.jsx(Ge,{id:"name",type:"text",value:a,onChange:T=>l(T.target.value),placeholder:"Morning Run",className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"eventDate",className:"text-sm font-semibold uppercase",children:"Date *"}),u.jsx(Ge,{id:"eventDate",type:"date",value:f,onChange:T=>m(T.target.value),className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"eventTime",className:"text-sm font-semibold uppercase",children:"Time (Optional)"}),u.jsx(Ge,{id:"eventTime",type:"time",value:p,onChange:T=>v(T.target.value),className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"location",className:"text-sm font-semibold uppercase",children:"Location (Optional)"}),u.jsx(Ge,{id:"location",type:"text",value:g,onChange:T=>b(T.target.value),placeholder:"Central Park",className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"description",className:"text-sm font-semibold uppercase",children:"Description (Optional)"}),u.jsx(Yu,{id:"description",value:w,onChange:T=>x(T.target.value),placeholder:"Join us for a morning run...",className:"min-h-[100px] text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"ticketLimit",className:"text-sm font-semibold uppercase",children:"Ticket limit"}),u.jsx(Ge,{id:"ticketLimit",type:"number",min:0,value:y,onChange:T=>_(T.target.value),placeholder:"30",className:"h-12 text-lg"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"How many tickets available for this event. Leave blank for unlimited (or 0 for none)."})]}),u.jsx(ce,{type:"submit",className:"w-full btn-run btn-run-yes",disabled:S,children:S?"Creating...":"Create Event"})]})})]})}function j5(){const{user:e}=ge(),{isSuperAdmin:t,canHostEvent:r}=io();return Oe({queryKey:["host-events",e==null?void 0:e.id,t],queryFn:async()=>{if(!e||!r)return[];if(t){const{data:l,error:c}=await J.from("events").select("id, name, event_date, event_time, location, org_id").order("event_date",{ascending:!1});if(c)throw c;return l}const{data:n,error:s}=await J.from("org_hosts").select("org_id").eq("user_id",e.id);if(s)throw s;if(!n||n.length===0)return[];const o=n.map(l=>l.org_id),{data:i,error:a}=await J.from("events").select("id, name, event_date, event_time, location, org_id").in("org_id",o).order("event_date",{ascending:!1});if(a)throw a;return i},enabled:!!e&&r})}function O5(e){const{user:t}=ge();return Oe({queryKey:["event-participants",e],queryFn:async()=>{if(!e)return[];const{data:r,error:n}=await J.from("event_registrations").select("id, user_id, event_id, status, created_at").eq("event_id",e).order("created_at",{ascending:!1});if(n)throw n;if(!r||r.length===0)return[];const s=r.map(l=>l.user_id),{data:o,error:i}=await J.from("profiles").select("user_id, username").in("user_id",s);if(i)throw i;const a=new Map((o==null?void 0:o.map(l=>[l.user_id,l.username]))||[]);return r.map(l=>({...l,username:a.get(l.user_id)||void 0}))},enabled:!!t&&!!e})}function A5(e){return Oe({queryKey:["event-tickets",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await J.from("event_tickets").select("id, event_id, code, status, redeemed_at, redeemed_by, created_at").eq("event_id",e).order("created_at",{ascending:!0});if(r)throw r;return t??[]},enabled:!!e})}function D5({title:e="Code",code:t,status:r="active",metaLines:n=[],onCopy:s,variant:o="ticket"}){const[i,a]=h.useState(!1),{toast:l}=so(),c=()=>{navigator.clipboard&&(navigator.clipboard.writeText(t),l({title:"Copied",description:"Code copied to clipboard."})),s==null||s()},d={active:"bg-primary text-primary-foreground",redeemed:"bg-muted text-muted-foreground",void:"bg-destructive/20 text-destructive"}[r];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-center border border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:e}),u.jsx("span",{className:Q("px-2 py-0.5 text-xs font-semibold uppercase rounded",d),children:r})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"font-mono font-bold text-2xl tracking-widest",children:t.toUpperCase()}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:c,"aria-label":"Copy code",children:u.jsx(aN,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>a(!0),"aria-label":"Show QR code",children:u.jsx(Hx,{className:"h-4 w-4"})})]}),n.length>0&&u.jsx("div",{className:"mt-2 space-y-0.5",children:n.map((f,m)=>u.jsx("p",{className:"text-xs text-muted-foreground",children:f},m))})]}),u.jsx(Ka,{open:i,onOpenChange:a,children:u.jsxs(xi,{className:"sm:max-w-xs",children:[u.jsx(Ga,{children:u.jsx(Qa,{className:"text-base",children:"Scan to Redeem"})}),u.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[u.jsx("div",{className:"bg-white p-3 rounded-md",children:u.jsx(NS,{value:t,size:220})}),u.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:t.toUpperCase()})]})]})})]})}const SE=h.forwardRef(({className:e,...t},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Q("w-full caption-bottom text-sm",e),...t})}));SE.displayName="Table";const EE=h.forwardRef(({className:e,...t},r)=>u.jsx("thead",{ref:r,className:Q("[&_tr]:border-b",e),...t}));EE.displayName="TableHeader";const CE=h.forwardRef(({className:e,...t},r)=>u.jsx("tbody",{ref:r,className:Q("[&_tr:last-child]:border-0",e),...t}));CE.displayName="TableBody";const I5=h.forwardRef(({className:e,...t},r)=>u.jsx("tfoot",{ref:r,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));I5.displayName="TableFooter";const op=h.forwardRef(({className:e,...t},r)=>u.jsx("tr",{ref:r,className:Q("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));op.displayName="TableRow";const Ec=h.forwardRef(({className:e,...t},r)=>u.jsx("th",{ref:r,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ec.displayName="TableHead";const Cc=h.forwardRef(({className:e,...t},r)=>u.jsx("td",{ref:r,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Cc.displayName="TableCell";const M5=h.forwardRef(({className:e,...t},r)=>u.jsx("caption",{ref:r,className:Q("mt-4 text-sm text-muted-foreground",e),...t}));M5.displayName="TableCaption";function L5(){var p;const{user:e}=ge(),{canHostEvent:t,isLoading:r}=io(),n=Ut(),s=ln(),[o,i]=h.useState(((p=s.state)==null?void 0:p.eventId)||null),{data:a,isLoading:l}=j5(),{data:c,isLoading:d}=O5(o),{data:f,isLoading:m}=A5(o);return h.useEffect(()=>{var g;const v=(g=s.state)==null?void 0:g.eventId;v&&v!==o&&i(v)},[s.state,o]),r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})}):e?t?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>n(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Participants"})]})}),u.jsxs("div",{className:"container px-4 py-8 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"space-y-2 mb-6",children:[u.jsx("label",{className:"text-sm font-semibold uppercase",children:"Select Event"}),u.jsxs(du,{value:o||"",onValueChange:v=>i(v||null),disabled:l,children:[u.jsx(Ja,{className:"h-12 text-lg",children:u.jsx(fu,{placeholder:l?"Loading events...":"Select an event"})}),u.jsx(Xa,{children:a==null?void 0:a.map(v=>u.jsxs(Za,{value:v.id,children:[v.name,"  ",_c(Sc(v.event_date),"MMM d, yyyy")]},v.id))})]})]}),!l&&(a==null?void 0:a.length)===0&&u.jsxs("div",{className:"text-center p-6 bg-muted",children:[u.jsx("p",{className:"text-muted-foreground font-medium",children:"No events found."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create an event first to see participants."})]}),o&&u.jsxs("div",{className:"mt-6",children:[d?u.jsx("div",{className:"text-center p-6",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading participants..."})}):c&&c.length>0?u.jsxs(SE,{children:[u.jsx(EE,{children:u.jsxs(op,{children:[u.jsx(Ec,{className:"font-bold uppercase",children:"Participant"}),u.jsx(Ec,{className:"font-bold uppercase",children:"Registered At"}),u.jsx(Ec,{className:"font-bold uppercase",children:"Status"})]})}),u.jsx(CE,{children:c.map(v=>u.jsxs(op,{children:[u.jsx(Cc,{className:"font-medium",children:v.username||v.user_id.slice(0,8)+"..."}),u.jsx(Cc,{children:_c(Sc(v.created_at),"MMM d, yyyy h:mm a")}),u.jsx(Cc,{children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold uppercase ${v.status==="registered"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:v.status})})]},v.id))})]}):u.jsx("div",{className:"text-center p-6 bg-muted",children:u.jsx("p",{className:"text-muted-foreground font-medium",children:"No participants yet."})}),u.jsxs("div",{className:"mt-8 space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase",children:"Tickets"}),m?u.jsx("div",{className:"text-center p-6",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading tickets..."})}):f&&f.length>0?u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:f.map((v,g)=>u.jsx(D5,{title:"Ticket",code:v.code,status:v.status,metaLines:[`#${g+1} of ${f.length}`,v.redeemed_at?`Redeemed at ${_c(Sc(v.redeemed_at),"MMM d, h:mm a")}`:""].filter(Boolean)},v.id))}):u.jsxs("div",{className:"text-center p-6 bg-muted rounded-lg",children:[u.jsx("p",{className:"text-muted-foreground font-medium",children:"No tickets for this event."}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set a ticket limit when creating an event to mint tickets."})]})]})]})]})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>n(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Participants"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-2",children:"Access Required"}),u.jsx("p",{className:"text-sm mb-4",children:"Please upgrade your access to host events."}),u.jsx(ce,{onClick:()=>n("/profile"),variant:"outline",className:"btn-run",children:"Back to Profile"})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"View Participants"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to view participants."}),u.jsx(ce,{onClick:()=>n("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]})}function By(e){if(!e)return!0;if(!/^\d{2}:\d{2}$/.test(e))return!1;const[t,r]=e.split(":").map(Number);return t>=0&&t<=23&&r>=0&&r<=59}function $5(){const{user:e}=ge(),{canHostEvent:t,isLoading:r}=io(),{data:n,isLoading:s}=_E(),o=Ut(),{toast:i}=so(),[a,l]=h.useState(""),[c,d]=h.useState("$17coffee"),[f,m]=h.useState(""),[p,v]=h.useState(""),[g,b]=h.useState(""),[w,x]=h.useState(17),[y,_]=h.useState(""),[S,E]=h.useState(""),[C,T]=h.useState([]),[j,O]=h.useState(!1),D=h.useRef("");h.useEffect(()=>{if(n&&n.length>0&&!a){const I=n[0];l(I.id);const L=I.location??"";_(L),D.current=L}},[n,a]);const A=I=>{const L=n==null?void 0:n.find(F=>F.id===I);if(l(I),L!=null&&L.location){const F=L.location;(y===""||y===D.current)&&(_(F),D.current=F)}else(y===""||y===D.current)&&(_(""),D.current="")},q=I=>_(I);if(r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-pulse text-lg font-semibold",children:"Loading..."})});if(!e)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"Create Coffee Offer"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to create coffee offers."}),u.jsx(ce,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]});if(!t)return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Create Coffee Offer"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-2",children:"Access Required"}),u.jsx("p",{className:"text-sm mb-4",children:"Please upgrade your access to host events."}),u.jsx(ce,{onClick:()=>o("/profile"),variant:"outline",className:"btn-run",children:"Back to Profile"})]})})]});const M=async I=>{if(I.preventDefault(),p&&!By(p)){i({title:"Invalid time",description:"Start reg time must be HH:MM (24-hour, e.g. 09:00).",variant:"destructive"});return}if(g&&!By(g)){i({title:"Invalid time",description:"Redeem before must be HH:MM (24-hour, e.g. 12:00).",variant:"destructive"});return}if(!a||!f){i({title:"Missing fields",description:"Please fill in the organization and date.",variant:"destructive"});return}const L=n==null?void 0:n.find(F=>F.id===a);if(!(L!=null&&L.org_name)){i({title:"Missing fields",description:"Please select an organization with a valid name.",variant:"destructive"});return}O(!0);try{const F=`${L.org_name} ${c}`,{error:N}=await J.from("coffee_offers").insert({name:F,offer_type:c,event_date:f,event_time:p.trim()||null,redeem_before_time:g.trim()||null,location:y.trim()||null,description:S.trim()||null,quantity_limit:w,coffee_types:C.length>0?C:null,created_by:e.id,org_id:a});if(N)throw N;i({title:"Coffee Offer Created!",description:"Your coffee offer has been added to the calendar."}),o("/calendar")}catch(F){console.error("Error creating coffee offer:",F),i({title:"Error",description:F.message||"Failed to create coffee offer.",variant:"destructive"})}finally{O(!1)}};return u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>o(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"Create Coffee Offer"})]})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("form",{onSubmit:M,className:"space-y-4 max-w-sm mx-auto",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"org",className:"text-sm font-semibold uppercase",children:"Organization"}),u.jsxs(du,{value:a,onValueChange:A,disabled:s,children:[u.jsx(Ja,{className:"h-12 text-lg",children:u.jsx(fu,{placeholder:s?"Loading...":"Select organization"})}),u.jsx(Xa,{children:n==null?void 0:n.map(I=>u.jsx(Za,{value:I.id,children:I.org_name},I.id))})]}),!s&&(n==null?void 0:n.length)===0&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"No organizations available. Contact an admin to create one."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"offerType",className:"text-sm font-semibold uppercase",children:"Offer Type *"}),u.jsxs(du,{value:c,onValueChange:I=>d(I),children:[u.jsx(Ja,{className:"h-12 text-lg",children:u.jsx(fu,{})}),u.jsx(Xa,{children:u.jsx(Za,{value:"$17coffee",children:"$17coffee"})})]})]}),u.jsx("div",{className:"space-y-2",children:u.jsx(K_,{value:C,onChange:T,maxSelected:2,label:"Coffee type (choose up to 2)",onMaxReached:()=>{i({title:"Maximum reached",description:"You can choose up to 2 coffee types",variant:"destructive"})}})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"eventDate",className:"text-sm font-semibold uppercase",children:"Date *"}),u.jsx(Ge,{id:"eventDate",type:"date",value:f,onChange:I=>m(I.target.value),className:"h-12 text-lg",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"eventTime",className:"text-sm font-semibold uppercase",children:"Start reg time (HH:MM)"}),u.jsx(Ge,{id:"eventTime",type:"time",value:p,onChange:I=>v(I.target.value),className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"redeemBeforeTime",className:"text-sm font-semibold uppercase",children:"Redeem before (HH:MM)"}),u.jsx(Ge,{id:"redeemBeforeTime",type:"time",value:g,onChange:I=>b(I.target.value),className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"quantityLimit",className:"text-sm font-semibold uppercase",children:"Quantity limit"}),u.jsx(Ge,{id:"quantityLimit",type:"number",min:1,value:w,onChange:I=>{const L=parseInt(I.target.value,10);x(isNaN(L)?17:Math.max(1,L))},className:"h-12 text-lg"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Default: 17"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"location",className:"text-sm font-semibold uppercase",children:"Location (Optional)"}),u.jsx(Ge,{id:"location",type:"text",value:y,onChange:I=>q(I.target.value),placeholder:"Central Park",className:"h-12 text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Re,{htmlFor:"description",className:"text-sm font-semibold uppercase",children:"Description (Optional)"}),u.jsx(Yu,{id:"description",value:S,onChange:I=>E(I.target.value),placeholder:"Join us for a morning run...",className:"min-h-[100px] text-lg"})]}),u.jsx(ce,{type:"submit",className:"w-full btn-run btn-run-yes",disabled:j,children:j?"Creating...":"Create Coffee Offer"})]})})]})}function F5(){const{user:e}=ge();return Oe({queryKey:["user-events",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await J.from("event_registrations").select("event_id").eq("user_id",e.id).eq("status","registered");if(r)throw r;if(!t||t.length===0)return[];const n=t.map(i=>i.event_id),{data:s,error:o}=await J.from("events").select(`
          id,
          name,
          event_date,
          event_time,
          location,
          description,
          org_id,
          created_at,
          orgs:org_id (
            org_name
          )
        `).in("id",n).order("event_date",{ascending:!1});if(o)throw o;return s.map(i=>{var a;return{id:i.id,name:i.name,event_date:i.event_date,event_time:i.event_time,location:i.location,description:i.description,org_id:i.org_id,org_name:((a=i.orgs)==null?void 0:a.org_name)||null,created_at:i.created_at}})},enabled:!!e})}function U5(){const{user:e}=ge(),t=Ut(),{data:r,isLoading:n}=F5();return e?u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-center relative",children:[u.jsx("button",{onClick:()=>t(-1),className:"absolute left-0 p-2",children:u.jsx(Zn,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight",children:"View Event"})]})}),u.jsx("div",{className:"container px-4 py-8 max-w-2xl mx-auto",children:n?u.jsx("div",{className:"text-center p-6",children:u.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading events..."})}):r&&r.length>0?u.jsx("div",{className:"space-y-4",children:r.map(s=>u.jsx("div",{className:"p-6 bg-muted border border-border rounded-lg",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-black uppercase",children:s.name}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Date:"}),u.jsx("span",{children:_c(Sc(s.event_date),"MMM d, yyyy")})]}),s.event_time&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Time:"}),u.jsx("span",{children:s.event_time})]}),s.org_name&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Organization:"}),u.jsx("span",{children:s.org_name})]}),s.location&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"font-semibold uppercase text-muted-foreground mr-2",children:"Location:"}),u.jsx("span",{children:s.location})]}),s.description&&u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-muted-foreground",children:s.description})})]})]})},s.id))}):u.jsxs("div",{className:"text-center p-6 bg-muted",children:[u.jsx("p",{className:"font-medium text-muted-foreground mb-2",children:"No events found."}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"You haven't joined any events yet."})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-background py-4 px-4 border-b border-border",children:u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-center",children:"View Event"})}),u.jsx("div",{className:"container px-4 py-8",children:u.jsxs("div",{className:"max-w-sm mx-auto p-6 bg-foreground text-background text-center",children:[u.jsx("p",{className:"font-bold uppercase mb-4",children:"Please log in to view your events."}),u.jsx(ce,{onClick:()=>t("/profile"),variant:"outline",className:"btn-run",children:"Go to Login"})]})})]})}const B5=()=>{const e=ln();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},z5=new Cj,W5=()=>u.jsx(Rj,{client:z5,children:u.jsxs(lj,{children:[u.jsx(qN,{}),u.jsx(EP,{}),u.jsx(zO,{children:u.jsx(PD,{children:u.jsx(UD,{children:u.jsxs(DO,{children:[u.jsx(qt,{path:"/",element:u.jsx(lM,{})}),u.jsx(qt,{path:"/calendar",element:u.jsx(pL,{})}),u.jsx(qt,{path:"/leaderboard",element:u.jsx(vL,{})}),u.jsx(qt,{path:"/profile",element:u.jsx(wL,{})}),u.jsx(qt,{path:"/messages",element:u.jsx(Y$,{})}),u.jsx(qt,{path:"/users/:userId",element:u.jsx(Z$,{})}),u.jsx(qt,{path:"/host/event/create",element:u.jsx(R5,{})}),u.jsx(qt,{path:"/host/offer/create",element:u.jsx($5,{})}),u.jsx(qt,{path:"/host/participants",element:u.jsx(L5,{})}),u.jsx(qt,{path:"/events/my",element:u.jsx(U5,{})}),u.jsx(qt,{path:"*",element:u.jsx(B5,{})})]})})})})]})});fx(document.getElementById("root")).render(u.jsx(W5,{}));
